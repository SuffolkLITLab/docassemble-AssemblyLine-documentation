"use strict";(self.webpackChunkdocassemble_assembly_line_documentation=self.webpackChunkdocassemble_assembly_line_documentation||[]).push([[9271],{4137:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>c});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=d(n),m=i,c=p["".concat(s,".").concat(m)]||p[m]||h[m]||o;return n?a.createElement(c,r(r({ref:t},u),{},{components:n})):a.createElement(c,r({ref:t},u))}));function c(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:i,r[1]=l;for(var d=2;d<o;d++)r[d]=n[d];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6459:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var a=n(7462),i=(n(7294),n(4137));const o={id:"customizing_interview",title:"Editing your interview",sidebar_label:"Editing your interview",slug:"/customizing_interview"},r=void 0,l={unversionedId:"customizing_interview",id:"customizing_interview",title:"Editing your interview",description:"Edit your completed draft interview in the Docassemble playground",source:"@site/docs/customizing_interview.md",sourceDirName:".",slug:"/customizing_interview",permalink:"/docassemble-AssemblyLine-documentation/docs/customizing_interview",draft:!1,editUrl:"https://github.com/SuffolkLITLab/docassemble-AssemblyLine-documentation/edit/main/docs/customizing_interview.md",tags:[],version:"current",frontMatter:{id:"customizing_interview",title:"Editing your interview",sidebar_label:"Editing your interview",slug:"/customizing_interview"},sidebar:"mainSidebar",previous:{title:'"Weaving" your form into a draft interview\n',permalink:"/docassemble-AssemblyLine-documentation/docs/generating_code"},next:{title:"Appendix: Understanding the YAML code\n",permalink:"/docassemble-AssemblyLine-documentation/docs/generated_yaml"}},s={},d=[{value:"Edit your completed draft interview in the Docassemble playground",id:"edit-your-completed-draft-interview-in-the-docassemble-playground",level:2},{value:"Double-check that you got things right in the Weaver stage",id:"double-check-that-you-got-things-right-in-the-weaver-stage",level:2},{value:"Work towards a readable, usable interview",id:"work-towards-a-readable-usable-interview",level:2},{value:"Getting the draft into your playground",id:"getting-the-draft-into-your-playground",level:2},{value:"How to edit your interview",id:"how-to-edit-your-interview",level:2},{value:"Marking a field as optional (not required)",id:"marking-a-field-as-optional-not-required",level:2},{value:"Controlling the order of questions",id:"controlling-the-order-of-questions",level:2},{value:"Order is usually determined by the first variable on the screen",id:"order-is-usually-determined-by-the-first-variable-on-the-screen",level:3},{value:"Adding conditional logic to the screen order",id:"adding-conditional-logic-to-the-screen-order",level:2},{value:"Showing and hiding fields on an individual screen",id:"showing-and-hiding-fields-on-an-individual-screen",level:2},{value:"Adding conditional logic inside an attachment block",id:"adding-conditional-logic-inside-an-attachment-block",level:2},{value:"Adding new screens",id:"adding-new-screens",level:2},{value:"Adding questions to the interview",id:"adding-questions-to-the-interview",level:3},{value:"Adding new informational screens",id:"adding-new-informational-screens",level:3},{value:"Adding help",id:"adding-help",level:2},{value:"Why is this question getting asked?!!!",id:"why-is-this-question-getting-asked",level:2},{value:"Understanding the question library",id:"understanding-the-question-library",level:3},{value:"Learning why a question got asked",id:"learning-why-a-question-got-asked",level:3},{value:"Identifying and fixing problems caused by typos",id:"identifying-and-fixing-problems-caused-by-typos",level:3},{value:"Questions that are needed for other questions, like <code>user_role</code> or the number of people in a list",id:"questions-that-are-needed-for-other-questions-like-user_role-or-the-number-of-people-in-a-list",level:3},{value:"Customizing settings that you overlooked in the Weaver",id:"customizing-settings-that-you-overlooked-in-the-weaver",level:2},{value:"Setting the form type",id:"form-type",level:3},{value:"Setting the number of people in a group, such as the number of <code>users</code>",id:"list-definition",level:3},{value:"How to make changes safely",id:"how-to-make-changes-safely",level:2}],u={toc:d};function p(e){let{components:t,...o}=e;return(0,i.kt)("wrapper",(0,a.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"edit-your-completed-draft-interview-in-the-docassemble-playground"},"Edit your completed draft interview in the Docassemble playground"),(0,i.kt)("p",null,"While the Weaver is a menu-driven, step-by-step process, you'll make further\nedits in the Playground. In the playground, you can directly edit the\n",(0,i.kt)("a",{parentName:"p",href:"https://suffolklitlab.org/legal-tech-class/docs/yaml"},"YAML")," text to:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Change the wording of questions"),(0,i.kt)("li",{parentName:"ol"},"Change the datatype of questions and add show/hide logic"),(0,i.kt)("li",{parentName:"ol"},"Edit the order screens appear in"),(0,i.kt)("li",{parentName:"ol"},"Add conditional and branching logic"),(0,i.kt)("li",{parentName:"ol"},"Add new variables, such as variables calculated by code")),(0,i.kt)("p",null,"Save your work frequently, and don't be intimidated. For the most part,\nmany changes can be understood by reading the text and then experimenting."),(0,i.kt)("p",null,"This pages offers information about making some common, simple edits.\nYou may also want to take this time to read through the materials in\nthe ",(0,i.kt)("a",{parentName:"p",href:"https://suffolklitlab.org/legal-tech-class/docs/introduction-to-docassemble"},"Legal Tech Class"),"\nabout the underlying Docassemble platform and how it works."),(0,i.kt)("h2",{id:"double-check-that-you-got-things-right-in-the-weaver-stage"},"Double-check that you got things right in the Weaver stage"),(0,i.kt)("p",null,"Some common mistakes, like typos in the labels, can lead to a lot of extra work.\nIf you see \"extra\" questions appear, it's possible that you didn't get the names\nquite right, perhaps something as simple as a typo."),(0,i.kt)("h2",{id:"work-towards-a-readable-usable-interview"},"Work towards a readable, usable interview"),(0,i.kt)("p",null,"You should also take this chance to review our guidance about\n",(0,i.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/style_guide/question_overview"},"writing good questions"),". While you edit\nyour interview, work steadily to make it better."),(0,i.kt)("h2",{id:"getting-the-draft-into-your-playground"},"Getting the draft into your playground"),(0,i.kt)("p",null,"When you have finished using the Weaver, download your package. This will put a\n.zip file in the Downloads folder on your computer."),(0,i.kt)("admonition",{title:"If you are using Safari on a Mac OS computer",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Safari, by default, will turn your downloaded package into\na folder on your PC."),(0,i.kt)("p",{parentName:"admonition"},"Before downloading the package, turn off that behavior:"),(0,i.kt)("ol",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ol"},"open Safari "),(0,i.kt)("li",{parentName:"ol"},"click Preferences"),(0,i.kt)("li",{parentName:"ol"},"under the General tab, uncheck the option ",(0,i.kt)("strong",{parentName:"li"},"Open 'safe' files after downloading")))),(0,i.kt)("p",null,'First, create a new "Project" in your playground. Using projects will\nhelp you keep your Docassemble code organized.'),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"playground | projects ",src:n(346).Z,width:"486",height:"237"})),(0,i.kt)("p",null,"Next, upload this file to the Docassemble playground's ",(0,i.kt)("inlineCode",{parentName:"p"},"Packages")," folder."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Folders | Packages ",src:n(9411).Z,width:"804",height:"437"})),(0,i.kt)("h2",{id:"how-to-edit-your-interview"},"How to edit your interview"),(0,i.kt)("p",null,"Navigate back to the main Playground window. You should see the YAML file\nwith your interview's draft code."),(0,i.kt)("p",null,"Scroll through and take a look at the code. You will see:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"code blocks setting defaults for your interview"),(0,i.kt)("li",{parentName:"ul"},"a ",(0,i.kt)("inlineCode",{parentName:"li"},"main order")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"interview order")," block which list some of the variables\nthat your interview uses, in order."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"question:")," blocks that contain the text of questions and the list of fields\nthat are asked on each screen")),(0,i.kt)("p",null,"You do not need to understand all of the code. Absorb what you can, and feel free\nto experiment. Save your code often, preferably to a ",(0,i.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/github"},"GitHub")," repository."),(0,i.kt)("p",null,'You will likely start by clicking the "Save and Run" button to try running your\ninterview through to the end. Note any awkward wording or changes you want to make.'),(0,i.kt)("p",null,"Use the ",(0,i.kt)("inlineCode",{parentName:"p"},"id")," that is on the top of each screen to find the screen that you want to change.\nThen, change the text that you want to change, or change the order of fields."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"id: request a guardianship",src:n(9886).Z,width:"1418",height:"534"})),(0,i.kt)("p",null,"Below we describe some of the most common starting customizations you will make,\nespecially changes that interact with an Assembly Line convention.\nYou can use any ",(0,i.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html"},"Docassemble feature"),"\nin your interview."),(0,i.kt)("h2",{id:"marking-a-field-as-optional-not-required"},"Marking a field as optional (not required)"),(0,i.kt)("p",null,"Add the ",(0,i.kt)("inlineCode",{parentName:"p"},"required: False")," modifier to mark a field as optional.\nFor usability purposes, you might want to also add the phrase (optional)\nto the label."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nid: Tell me more about Respondent\nquestion: |\n  Tell me more about the ${ other_parties[0] }.\nfields:\n  - Name: user_name       \n  - Attorney bar number (optional): bar_number\n    required: False\n")),(0,i.kt)("h2",{id:"controlling-the-order-of-questions"},"Controlling the order of questions"),(0,i.kt)("p",null,"Locate the ",(0,i.kt)("inlineCode",{parentName:"p"},"interview_order")," block in your YAML file.\nMove the variable name that you want to ask earlier in your interview to\nthe place you want it to be asked."),(0,i.kt)("p",null,"It usually looks something like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"---\n#################### Interview order #####################\ncomment: |\n  Controls order and branching logic of questions in the interview\nid: interview_order_Guardianship_Assistant\ncode: |\n  other_parties[0].name.first\n  if not last_option: \n    all_done\n  users[0].name.first\n  other_parties[0].birthdate  \n")),(0,i.kt)("p",null,"In the example above: if you wanted the other party's birthdate to be asked before\nyou get the name of the user, you would simply switch the order of those 2 lines."),(0,i.kt)("admonition",{title:"Learn more about interview order",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"This section mentions a bit about interview order, but if you want to learn more,\nyou can read it on the ",(0,i.kt)("a",{parentName:"p",href:"https://suffolklitlab.org/legal-tech-class/docs/practical-guide-docassemble/controlling-interview-order"},"Legal Tech Class")," site.")),(0,i.kt)("h3",{id:"order-is-usually-determined-by-the-first-variable-on-the-screen"},"Order is usually determined by the first variable on the screen"),(0,i.kt)("p",null,"When the Weaver creates the interview order block, it adds the first (and only the first)\nvariable on each screen to the interview order block. This lets you change the order\nquickly."),(0,i.kt)("p",null,"For example, if we wanted to add this question to the interview order block below,\nyou would add the variable ",(0,i.kt)("inlineCode",{parentName:"p"},"temporary_needed")," to the interview order block because\n",(0,i.kt)("inlineCode",{parentName:"p"},"temporary_needed")," is the first variable on this screen. When Docassemble tries to\ndefine ",(0,i.kt)("inlineCode",{parentName:"p"},"temporary_needed"),", it will show this screen and ask all of the questions\nmentioned on it."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nid: Temporary Guardianship\nquestion: | \n  Do you need to the court to decide on this case in the next 90 days?\nsubquestion: |\n  ${ collapse_template(when_temporary_guardianship_possible_template) }\nfields: \n  - I need a temporary guardianship: temporary_needed\n    datatype: yesnoradio    \n  - Do you need it right now?: need_now\n    datatype: yesnoradio\n    show if: temporary_needed\n")),(0,i.kt)("h2",{id:"adding-conditional-logic-to-the-screen-order"},"Adding conditional logic to the screen order"),(0,i.kt)("p",null,"If a screen is conditional, you can add an ",(0,i.kt)("inlineCode",{parentName:"p"},"if")," statement so that it only\nappears when the condition is satisfied."),(0,i.kt)("p",null,"Example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"id: interview_order_Guardianship_Assistant\ncode: |\n  users[0].name.first\n  users.gather()\n  if has_co_petitioner:\n    users[1].address.address\n  else:\n    users[0].address.city\n")),(0,i.kt)("p",null,"The syntax inside your interview order block is written in Python. You\ncan write more complex logic, including ",(0,i.kt)("inlineCode",{parentName:"p"},"elif")," (for else if), use ",(0,i.kt)("inlineCode",{parentName:"p"},"and"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"or"),"\nand comparisons with ",(0,i.kt)("inlineCode",{parentName:"p"},"=="),", ",(0,i.kt)("inlineCode",{parentName:"p"},"in")," etc."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"if")," statements can also be nested, using additional levels of indentation."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"id: interview_order_Guardianship_Assistant\ncode: |\n  users[0].name.first\n  users.gather()\n  if has_co_petitioner:\n    users[1].address.address\n    if users[1].has_separate_mailing_address:\n      users[1].mailing_address.address\n  else:\n    users[0].address.city\n")),(0,i.kt)("h2",{id:"showing-and-hiding-fields-on-an-individual-screen"},"Showing and hiding fields on an individual screen"),(0,i.kt)("p",null,"To make a single field show or disappear on a screen that asks for some optional\ninformation, use the ",(0,i.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#show%20if"},(0,i.kt)("inlineCode",{parentName:"a"},"show\nif"))," modifier."),(0,i.kt)("p",null,"Example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nid: Tell me more about Respondent\nquestion: |\n  Tell me more about the ${ other_parties[0] }.\nfields:\n  - Date of Birth: other_parties[0].birthdate\n    datatype: date        \n  - Primary Language: primary_language\n    choices:\n      - English\n      - Spanish\n      - Other\n  # You can check if the option is equal to an exact value\n  - Other language: primary_language_other\n    show if:\n      variable: primary_language\n      is: Other\n  - Is ${ other_parties[0] } a veteran?: op_is_veteran\n    datatype: yesno\n  # Or use the shorter syntax to check only if it is True\n  - What branch of the military?: armed_forces_branch\n    show if: op_is_veteran\n  # Or use the `code` option to check for a value defined on another screen\n  - Where does ${ other_parties[0] } work?: op_employer\n    show if:\n      code: |\n        op_is_employed\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"show if")," only allows with one variable at a time. If you need to check the value of\nmultiple variables in one ",(0,i.kt)("strong",{parentName:"p"},"if")," statement, you need to use the more complex\n",(0,i.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#js%20show%20if"},(0,i.kt)("inlineCode",{parentName:"a"},"js show if")),"."),(0,i.kt)("p",null,"When you use ",(0,i.kt)("inlineCode",{parentName:"p"},"js show if"),", you need to use a JavaScript expression that uses the\nfunction ",(0,i.kt)("inlineCode",{parentName:"p"},"val()")," at least once. ",(0,i.kt)("inlineCode",{parentName:"p"},"val()")," is a JavaScript function that returns\nthe value of a variable name that is visible on screen. It takes the name of the\nDocassemble variable in quotes as its only parameter."),(0,i.kt)("p",null,"Here is a small example of a ",(0,i.kt)("inlineCode",{parentName:"p"},"js show if")," expression:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},'---\nid: Tell me more about Respondent\nquestion: |\n  Tell me more about the ${ other_parties[0] }.\nfields:\n  - Is ${ other_parties[0] } employed?: other_parties[0].is_employed\n    datatype: yesnoradio\n  - Is ${ other_parties[0] } a parent of your child?: other_parties[0].joint_parent\n    datatype: yesnoradio\n  - ${ other_parties[0] }\'s monthly income: other_parties[0].income\n    datatype: currency\n    js show if: |\n      val("other_parties[0].is_employed") && val("other_parties[0].joint_parent")\n')),(0,i.kt)("p",null,"Check the ",(0,i.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#js%20show%20if"},(0,i.kt)("inlineCode",{parentName:"a"},"js show if"),"\ndocumentation")," to learn\nhow to use different combinations of values in a ",(0,i.kt)("inlineCode",{parentName:"p"},"js show if"),' expression. The\nkey is that you\'ll use ordinary JavaScript keywords to do any comparisons.\nJavaScript is its own language, and keywords such as "or", "and" and even "=="\nwork slightly differently, as explained in the Docassemble documentation. You\ncan also use a general resource that documents JavaScript to learn more.'),(0,i.kt)("h2",{id:"adding-conditional-logic-inside-an-attachment-block"},"Adding conditional logic inside an attachment block"),(0,i.kt)("p",null,"If you would like to make the display of a variable in the attachment conditional,\nyou can use a multi-line Mako statement right inside the attachment block:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},'attachment:\n  variable name: my_document[i]\n  pdf template file: my_document.pdf\n  fields:\n    - "signature": |\n        % if i == "final":\n        ${ users.signature }\n        % endif\n')),(0,i.kt)("p",null,"It is a good habit to use these multi-line blocks so that the logic is easy to\nread and understand later."),(0,i.kt)("p",null,"You can use exactly the ",(0,i.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/markup.html#mako"},"same Mako\nsyntax")," in the attachment block\nthat you would use inside a ",(0,i.kt)("inlineCode",{parentName:"p"},"question")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"subquestion")," modifier."),(0,i.kt)("h2",{id:"adding-new-screens"},"Adding new screens"),(0,i.kt)("h3",{id:"adding-questions-to-the-interview"},"Adding questions to the interview"),(0,i.kt)("p",null,"When you add a new question, it should go in at least 2, and possibly 3 places:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"The new screen that asks the question"),(0,i.kt)("li",{parentName:"ol"},"The interview order block"),(0,i.kt)("li",{parentName:"ol"},"The review screen block, so it can be edited later")),(0,i.kt)("p",null,"The simplest option is probably to find a question that is a good model for your\nnew question, copy and paste it, and change the text, ",(0,i.kt)("inlineCode",{parentName:"p"},"id"),", and variable names."),(0,i.kt)("p",null,"For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nid: any unique id to help you find this question later\nquestion: |\n  Your question\nsubquestion: |\n  The subquestion\nfields:\n  - Prompt 1: variable_1\n")),(0,i.kt)("p",null,"Then you would need to make sure the interview order block mentioned ",(0,i.kt)("inlineCode",{parentName:"p"},"variable_1"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nid: interview_order_Guardianship_Assistant\ncode: |\n  other_parties[0].name.first\n  if not last_option: \n    all_done\n  # highlight-start\n  variable_1\n  # highlight-end\n  users[0].name.first\n  other_parties[0].birthdate  \n")),(0,i.kt)("p",null,"You should also find the ",(0,i.kt)("inlineCode",{parentName:"p"},"review:")," block in your\ninterview, and add a way for your user to change\ntheir answer."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"  - Edit: variable_1\n    button: |\n      **Variable 1**:\n      ${ variable_1 }\n")),(0,i.kt)("p",null,"Learn more about ",(0,i.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#review"},"review screens"),"."),(0,i.kt)("h3",{id:"adding-new-informational-screens"},"Adding new informational screens"),(0,i.kt)("p",null,"Informational screens are like screens that ask questions,\nbut instead of a ",(0,i.kt)("inlineCode",{parentName:"p"},"fields")," statement, you can identify them\nusing ",(0,i.kt)("inlineCode",{parentName:"p"},"continue button field"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nid: an informational screen\ncontinue button field: variable_identifying_my_info_screen\nquestion: |\n  Here is some important information\nsubquestion: |\n  I wanted to tell you that ...\n")),(0,i.kt)("p",null,"You can add the informational screen to the interview order\nblock by adding the variable from the ",(0,i.kt)("inlineCode",{parentName:"p"},"continue button field")," keyword:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nid: interview_order_Guardianship_Assistant\ncode: |\n  other_parties[0].name.first\n  if not last_option: \n    all_done\n  variable_1\n  # highlight-start\n  variable_identifying_my_info_screen\n  # highlight-end\n  users[0].name.first\n  other_parties[0].birthdate  \n")),(0,i.kt)("h2",{id:"adding-help"},"Adding help"),(0,i.kt)("p",null,"You can add help to most questions and options with\nthe ",(0,i.kt)("inlineCode",{parentName:"p"},"help: |")," modifier, like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"fields:\n  - What are your pronouns?: users[0].pronouns\n    help: |\n      We ask for your pronouns so we can address you\n      the way you prefer in court.\n  - What kind of car do you drive?: user_car\n    datatype: radio\n    choices:\n      - Honda\n        help: |\n          Honda makes Civics and Accords\n      - Ford\n        help: |\n          Ford makes the F150\n")),(0,i.kt)("p",null,"These add a (?) bubble near the option or question."),(0,i.kt)("p",null,"For longer text, we find that the ",(0,i.kt)("strong",{parentName:"p"},"progressive disclosure")," element has tested well with users."),(0,i.kt)("p",null,"You can use this in your interview by adding a ",(0,i.kt)("inlineCode",{parentName:"p"},"template")," block and using the ",(0,i.kt)("inlineCode",{parentName:"p"},"collapse_template"),"\nfunction with it, like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nid: example question\nquestion: |\n  What is your favorite fruit?\nsubquestion: |\n  ${ collapse_template(fruit_explanation) }\n---\ntemplate: fruit_explanation\nsubject: |\n  What is a fruit?\ncontent: |\n  Fruit is the fleshy or dry ripened ovary of a flowering plant, enclosing the seed or seeds.\n")),(0,i.kt)("p",null,"We usually don't recommend using the other options,\nwhich include help for the whole page (it comes too late) or ",(0,i.kt)("inlineCode",{parentName:"p"},"terms")," (they get very cluttered very quickly)."),(0,i.kt)("p",null,"A more complete guide to ",(0,i.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/coding_style_guide/yaml_interface#adding-help-in-context"},"helping your user"),"."),(0,i.kt)("h2",{id:"why-is-this-question-getting-asked"},"Why is this question getting asked?!!!"),(0,i.kt)("p",null,"Here are a few reasons that a question may be getting\nasked that you did not expect:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"You may have referenced a built-in question from the",(0,i.kt)("br",{parentName:"li"}),"question library."),(0,i.kt)("li",{parentName:"ol"},"The question might be needed to ask another question,\nsuch as a name to personalize a question, or an address\nto locate a court."),(0,i.kt)("li",{parentName:"ol"},"You may have made a typo or mistake with your variable\nnames, and ended up asking something that is also defined\nby an Assembly Line question. This could lead to 2 or more\nvery similar questions."),(0,i.kt)("li",{parentName:"ol"},"You might not have defined something, like the party roles,\nthat your interview now needs to know in order to make sense.")),(0,i.kt)("h3",{id:"understanding-the-question-library"},"Understanding the question library"),(0,i.kt)("p",null,'Assembly Line interviews almost always have some questions\nthat come from the "question library." The question library\nis just a YAML file named ',(0,i.kt)("inlineCode",{parentName:"p"},"ql_baseline.yml"),"."),(0,i.kt)("p",null,"It contains questions about people's names, addresses,\nbirthdates, gender and pronouns, and party roles."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"You can always write your own version of a question in the library."),"  Docassemble reads your YAML file from top\nto bottom, so if you add your question that defines the same\nvariables after the include block, Docassemble will always use your version."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"You maybe shouldn't write your own version.")," The question library questions are tested by real users. Some customization is to be expected, but be sure you have a clear\nreason for your choice.")),(0,i.kt)("p",null,"Question library questions don't appear in your own YAML file.\nBut you can copy them when your interview is running."),(0,i.kt)("p",null,"Here's how:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},'In the top navigation bar, click the "source" button (it looks like ',(0,i.kt)("inlineCode",{parentName:"li"},"</>"),")."),(0,i.kt)("li",{parentName:"ol"},"Scroll down until you see the question text. "),(0,i.kt)("li",{parentName:"ol"},"Copy it into your own YAML file. Near the other ",(0,i.kt)("inlineCode",{parentName:"li"},"question"),"\nblocks in your interview is the best place. Add the ",(0,i.kt)("inlineCode",{parentName:"li"},"---"),"\nseparator at the beginning of the block you copy."),(0,i.kt)("li",{parentName:"ol"},"Make the changes that you want.")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("mdxAdmonitionTitle",{parentName:"admonition"},"About ",(0,i.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"generic object")),(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/modifiers.html#generic%20object"},(0,i.kt)("inlineCode",{parentName:"a"},"generic object"))," modifier is a special way to make\none question work for many different objects, like people\nor lists of people.")),(0,i.kt)("p",null,"When you customize a question from the question library,\nyou may want to make it specific to one variable in your interview, rather than replace the generic version of the question for any person."),(0,i.kt)("p",null,"To make it specific:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Remove the ",(0,i.kt)("inlineCode",{parentName:"li"},"generic object")," line."),(0,i.kt)("li",{parentName:"ol"},"Replace ",(0,i.kt)("inlineCode",{parentName:"li"},"x")," with your variable name."),(0,i.kt)("li",{parentName:"ol"},"Customize the ",(0,i.kt)("inlineCode",{parentName:"li"},"question")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"subquestion")," as needed.")),(0,i.kt)("p",null,"For example, suppose your interview asks for a list of\n",(0,i.kt)("inlineCode",{parentName:"p"},"guardians"),". There is no special question about ",(0,i.kt)("inlineCode",{parentName:"p"},"guardians"),"\nin the question library, so your interview will use the ",(0,i.kt)("inlineCode",{parentName:"p"},"generic object"),"\nversion of the question, which looks like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nid: name of the first person\nsets:\n  - x[0].name.first\n  - x[0].name.last\n  - x[0].name.middle\n  - x[0].name.suffix\n# highlight-start\ngeneric object: ALPeopleList\n# highlight-end\nquestion: |\n  % if hasattr(x, 'ask_number') and x.ask_number and x.target_number == 1:\n  Name of ${ noun_plural(x.object_name(),1) }\n  % else:\n  Name of your first ${ noun_plural(x.object_name(),1) }\n  % endif\nfields:\n  - code: |\n      x[0].name_fields()\n")),(0,i.kt)("p",null,"Here is a version made specific to ",(0,i.kt)("inlineCode",{parentName:"p"},"guardians"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nid: name of the first person\nsets:\n  - guardians[0].name.first\n  - guardians[0].name.last\n  - guardians[0].name.middle\n  - guardians[0].name.suffix\nquestion: |\n  What is the name of the first person you want to name as guardian?\nfields:\n  - code: |\n      guardians[0].name_fields()\n")),(0,i.kt)("p",null,"A ",(0,i.kt)("strong",{parentName:"p"},"specific")," version of a question is always used\nbefore the ",(0,i.kt)("strong",{parentName:"p"},"generic object")," version."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("mdxAdmonitionTitle",{parentName:"admonition"},"About the variable ",(0,i.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"i")),(0,i.kt)("p",{parentName:"admonition"},"Just like ",(0,i.kt)("inlineCode",{parentName:"p"},"generic object")," works for any object,\nthe variable ",(0,i.kt)("inlineCode",{parentName:"p"},"i")," (and other ",(0,i.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#index%20variables"},(0,i.kt)("inlineCode",{parentName:"a"},"index variables")),") lets you write a question for any item\nin a list. Using a ",(0,i.kt)("strong",{parentName:"p"},"specific")," number (typically, just the first, or 0th item is treated specially) overrides the\none that uses the letter ",(0,i.kt)("inlineCode",{parentName:"p"},"i"),".")),(0,i.kt)("h3",{id:"learning-why-a-question-got-asked"},"Learning why a question got asked"),(0,i.kt)("p",null,"Every screen in Docassemble is asked for a reason, and you can\nalways find out why."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},'Click the "source" ',(0,i.kt)("inlineCode",{parentName:"li"},"</>")," icon in the top navigation bar."),(0,i.kt)("li",{parentName:"ol"},'Scroll down, or search on the page for the text "needed definition of"'),(0,i.kt)("li",{parentName:"ol"},"Click through a few times, as you might get a few misleading answers first. Typically the one on the bottom of the page is the most relevant.")),(0,i.kt)("p",null,"Typically, a question is asked because:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"The interview order block mentions it."),(0,i.kt)("li",{parentName:"ol"},"It is mentioned in an attachment."),(0,i.kt)("li",{parentName:"ol"},"A mandatory ",(0,i.kt)("inlineCode",{parentName:"li"},"code")," block or ",(0,i.kt)("inlineCode",{parentName:"li"},"question")," uses the answer to the question.")),(0,i.kt)("p",null,"If you don't want the question to get asked, you'll need to modify\nwhatever screen, code block, or attachment is requiring it."),(0,i.kt)("h3",{id:"identifying-and-fixing-problems-caused-by-typos"},"Identifying and fixing problems caused by typos"),(0,i.kt)("p",null,"Here is a relatively common beginner mistake:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"You added a variable likes ",(0,i.kt)("inlineCode",{parentName:"li"},"users1_first_name")," to your PDF, instead\nof the correct name, which would have been ",(0,i.kt)("inlineCode",{parentName:"li"},"users1_name_first"),"."),(0,i.kt)("li",{parentName:"ol"},"You also have a question later that needs the definition of ",(0,i.kt)("inlineCode",{parentName:"li"},"users"),",\nwhich is true for almost every interview (we use the first name on the download screen by default).")),(0,i.kt)("p",null,"This may look like the interview is asking the ",(0,i.kt)("strong",{parentName:"p"},"same")," question twice.\nBut in fact, by using a unique way to ask for the user's name, you\nare asking for two pieces of information. Most likely, the best way for\nyou to fix this is to remove the references to ",(0,i.kt)("inlineCode",{parentName:"p"},"users1_first_name")," in\nyour YAML file."),(0,i.kt)("p",null,"You don't need to run the PDF through the Weaver again! You can just delete the incorrect references\nand update the ",(0,i.kt)("inlineCode",{parentName:"p"},"attachment")," block to link the correct variable with\nthe incorrect name in the PDF."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Find and delete the reference to ",(0,i.kt)("inlineCode",{parentName:"li"},"users1_first_name")," in the\n",(0,i.kt)("inlineCode",{parentName:"li"},"interview_order")," block"),(0,i.kt)("li",{parentName:"ol"},"Delete the ",(0,i.kt)("inlineCode",{parentName:"li"},"question")," block that mentions ",(0,i.kt)("inlineCode",{parentName:"li"},"users1_first_name")),(0,i.kt)("li",{parentName:"ol"},"Delete the ",(0,i.kt)("inlineCode",{parentName:"li"},"review")," block that mentions ",(0,i.kt)("inlineCode",{parentName:"li"},"users1_first_name")),(0,i.kt)("li",{parentName:"ol"},"Find the ",(0,i.kt)("inlineCode",{parentName:"li"},"attachment")," block in your interview. Keep the reference\nto ",(0,i.kt)("inlineCode",{parentName:"li"},"users1_first_name")," on the ",(0,i.kt)("strong",{parentName:"li"},"left"),", but replace it on the right\nwith the correct name, ",(0,i.kt)("inlineCode",{parentName:"li"},"users[0].name.first")," (or whatever it should be).")),(0,i.kt)("p",null,"Example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},'attachment:\n  pdf file name: my_file.pdf\n  fields:\n    # highlight-start\n    - "users1_first_name": ${ users[0].name.first }\n    # highlight-end\n')),(0,i.kt)("p",null,"If you want to, you could also edit the PDF and upload it\nback to your playground. If you do fix the name in the PDF,\nmake sure you also update it in the ",(0,i.kt)("inlineCode",{parentName:"p"},"attachment")," block:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},'attachment:\n  pdf file name: my_file.pdf\n  fields:\n    # highlight-start\n    - "users1_name_first": ${ users[0].name.first }\n    # highlight-end\n')),(0,i.kt)("h3",{id:"questions-that-are-needed-for-other-questions-like-user_role-or-the-number-of-people-in-a-list"},"Questions that are needed for other questions, like ",(0,i.kt)("inlineCode",{parentName:"h3"},"user_role")," or the number of people in a list"),(0,i.kt)("p",null,"A common scenario for beginners is surprise that one of the\nfirst questions in their interview is something like:"),(0,i.kt)("p",null,'"Are you the person who started the case, or was it started by someone else?"'),(0,i.kt)("p",null,"Or:"),(0,i.kt)("p",null,'"Is there a defendant in this case?"'),(0,i.kt)("p",null,"There is a good reason for these questions. Every interview has at least\none person who is using it. Most have someone on the other side. We\ntry to help people understand who each question asks about by defining\nboth of these roles early on."),(0,i.kt)("p",null,'When you ran the Weaver, you were asked if the person was the plaintiff,\ndefendant, or could be either. If you answered "could be either" your\ninterview will ask for this information.'),(0,i.kt)("p",null,"Fix this by customizing the ",(0,i.kt)("a",{parentName:"p",href:"#form-type"},"form type"),"."),(0,i.kt)("p",null,"Similarly, you were asked early in the Weaver if there could be one,\nany number, or at least one for every list of people in your interview.\nIf you didn't answer this at the time, you'll get asked it when you run\nthe interview each time."),(0,i.kt)("p",null,"Fix this by editing the ",(0,i.kt)("a",{parentName:"p",href:"#list-definition"},"definition of the list")," so Docassemble knows\nthere is at least one, more than one, or any number of people in\nthe list."),(0,i.kt)("h2",{id:"customizing-settings-that-you-overlooked-in-the-weaver"},"Customizing settings that you overlooked in the Weaver"),(0,i.kt)("h3",{id:"form-type"},"Setting the form type"),(0,i.kt)("p",null,"If you are prompted to specify if the user is the plaintiff or defendant but\nthe user ",(0,i.kt)("strong",{parentName:"p"},"always")," is starting a new action, customize the value of\n",(0,i.kt)("inlineCode",{parentName:"p"},"al_form_type"),"."),(0,i.kt)("p",null,"Look in your interview for a code block that sets the value of ",(0,i.kt)("inlineCode",{parentName:"p"},"al_form_type"),".\nIf you do not see it, copy and modify the block below:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"---\ncode: |\n  al_form_type = 'starts_case'\n")),(0,i.kt)("p",null,"The valid values are:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Starts a new court case: ",(0,i.kt)("inlineCode",{parentName:"li"},"'starts_case'")),(0,i.kt)("li",{parentName:"ul"},"Filed in or responding to an existing court case: ",(0,i.kt)("inlineCode",{parentName:"li"},"'existing_case'")),(0,i.kt)("li",{parentName:"ul"},"Part of an appeal of a court case: ",(0,i.kt)("inlineCode",{parentName:"li"},"'appeal'")),(0,i.kt)("li",{parentName:"ul"},"Form that is not filed in a court: ",(0,i.kt)("inlineCode",{parentName:"li"},"'other_form'")),(0,i.kt)("li",{parentName:"ul"},"Letter: ",(0,i.kt)("inlineCode",{parentName:"li"},"'letter'")),(0,i.kt)("li",{parentName:"ul"},"Other: ",(0,i.kt)("inlineCode",{parentName:"li"},"'other'"))),(0,i.kt)("p",null,'If the "form type" is not ',(0,i.kt)("inlineCode",{parentName:"p"},"starts_case")," but the party using the form\nis always the plaintiff or defendant, you can also set that directly:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"code: |\n  user_ask_role = 'plaintiff'\n")),(0,i.kt)("p",null,"Valid values are either ",(0,i.kt)("inlineCode",{parentName:"p"},'"plaintiff"')," or ",(0,i.kt)("inlineCode",{parentName:"p"},'"defendant"'),'. Use these exact values\neven if the form user is called "petitioner" or "respondent".'),(0,i.kt)("h3",{id:"list-definition"},"Setting the number of people in a group, such as the number of ",(0,i.kt)("inlineCode",{parentName:"h3"},"users")),(0,i.kt)("p",null,"If you are prompted to specify whether there is another user or opposing party\nin a case but your form ",(0,i.kt)("strong",{parentName:"p"},"always")," allows only one user or other party,\ncustomize the definition of ",(0,i.kt)("inlineCode",{parentName:"p"},"users")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"other_parties")," in the ",(0,i.kt)("inlineCode",{parentName:"p"},"objects")," block."),(0,i.kt)("p",null,"For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nobjects:\n  - users: ALPeopleList.using(there_are_any=True) # Will prompt one at a time\n  - other_parties: ALPeopleList.using(ask_number=True, target_number=1) # Tells Docassemble there is exactly one other_party\n")),(0,i.kt)("h2",{id:"how-to-make-changes-safely"},"How to make changes safely"),(0,i.kt)("p",null,"You can always:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"change question and subquestion text"),(0,i.kt)("li",{parentName:"ol"},"change the order of fields and questions"),(0,i.kt)("li",{parentName:"ol"},"change any of the settings called out above")),(0,i.kt)("p",null,"Avoid:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"changing the name of variables until you know what you are doing"),(0,i.kt)("li",{parentName:"ol"},"deleting code until you have first tried commenting it out")),(0,i.kt)("p",null,'"Comment out" code by adding a single ',(0,i.kt)("inlineCode",{parentName:"p"},"# ")," at the beginning of each line, like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"# question: |\n#  I don't think this question is used any more\n# fields:\n#  - Field 1: variable_1\n")),(0,i.kt)("admonition",{title:"Tip",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"To comment out many lines at once, hold the ALT key and click and drag a line\nwith your mouse. If you do it correctly you will see a long blinking cursor.\nNow you can type on multiple lines at once. Type a ",(0,i.kt)("inlineCode",{parentName:"p"},"#")," and a space to comment out the lines\nwith the blinking cursor.")),(0,i.kt)("p",null,"If you want to discard your changes and start over, upload the package .ZIP file\nto your playground again. This will wipe out all of your changes."),(0,i.kt)("p",null,"Use ",(0,i.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/github"},"GitHub")," regularly to let you restore your work from a point in time."))}p.isMDXComponent=!0},9886:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/playground_id-4184890648959724d0bce0f3fa200125.png"},9411:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/playground_packages_menu-363077419ec2987bdfbdfb80533c9b9b.png"},346:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/playground_projects-8cd090f5870664bb98b8d58d02aacc2f.png"}}]);