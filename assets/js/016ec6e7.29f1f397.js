(self.webpackChunkdocassemble_assembly_line_documentation=self.webpackChunkdocassemble_assembly_line_documentation||[]).push([[4217],{1962:(e,t,a)=>{e.exports={src:{srcSet:a.p+"assets/ideal-img/archaeology.bda3efa.938.png 938w",images:[{path:a.p+"assets/ideal-img/archaeology.bda3efa.938.png",width:938,height:1115}],src:a.p+"assets/ideal-img/archaeology.bda3efa.938.png",toString:function(){return a.p+"assets/ideal-img/archaeology.bda3efa.938.png"},placeholder:void 0,width:938,height:1115},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAMCAYAAABbayygAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB0ElEQVQYlR3DzUvTcQDA4S906G/oVBhUlORltTXzrfnW1K1tLs2flW7oNopINk0ZpCXZpsyCDWY1q0E5zSI8eDAcaHgQq4NUg94EKTf20iFND3v7hD3wiMjnCN9/rBH7vUk+D7lcjnw+Ty6XJZPJkN2dzSLW13/yayPGRjRGIpkimUoRTyT4s7nF9s7O/+l0GrG0OMe430PAdxfXTQeeW05cA714h27zIjjOmMfNm9kZhH90EHNzHc315SiP7qdOXoShTE6Tqpguk4RJW8vMqwnEU98Il/Q16NUV1BafoOGUjHZNDRZDPX02E05bOx9X3yMWw7O4+h1cbNFi1FRyoUJBa3UpFqMGq7aKIbuNeDyKeLfwmqnQA0JBPxPdTZhkB7h3vgR3RyMtlSUERwf5u72FWJ17zDO3jbVH3fQ3yBB79iI/uI/IcBtXJS1T08/ZJb6FAyx7TSSe2Ll/uZpDBQXo5IVMdqoIDFwjvLxCNJ5ETAb9vA30EH3pJOTQc6X8ONbTR7CUHsNmOMuI9yErS/MI3x07WrWK4R4T3hsSVq2S9jOFnDt5GKWsCHObxIf5aQSREAtjNiRdFWZdGa2Naro6Ja6bjSgUcvp67Xz5+ol/1vA8yVbHFk0AAAAASUVORK5CYII="}},4137:(e,t,a)=>{"use strict";a.d(t,{Zo:()=>u,kt:()=>c});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},h="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,u=r(e,["components","mdxType","originalType","parentName"]),h=p(a),m=i,c=h["".concat(s,".").concat(m)]||h[m]||d[m]||o;return a?n.createElement(c,l(l({ref:t},u),{},{components:a})):n.createElement(c,l({ref:t},u))}));function c(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=a.length,l=new Array(o);l[0]=m;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r[h]="string"==typeof e?e:i,l[1]=r;for(var p=2;p<o;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},2598:(e,t,a)=>{"use strict";a.d(t,{IO:()=>l,oc:()=>r,tD:()=>o});var n=a(7294),i=a(3699);const o=e=>!0===e.plain?n.createElement("span",null,"GitHub+You\u2122"):n.createElement(i.Z,{to:"/docs/alkiln/setup#githubNyou-details"},"GitHub+You\u2122"),l=e=>!0===e.plain?n.createElement("span",null,"ALKilnInThePlayground\u2122"):n.createElement(i.Z,{to:"/docs/alkiln/setup#diy-details"},"ALKilnInThePlayground\u2122"),r=e=>!0===e.plain?n.createElement("span",null,"GitHub Sandbox\u2122"):n.createElement(i.Z,{to:"/docs/alkiln/setup#sandbox-details"},"GitHub Sandbox\u2122")},551:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>l});var n=a(7462),i=(a(7294),a(4137));const o={toc:[]};function l(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,n.Z)({},o,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Since ",(0,i.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/writing#env-vars"},"workflow environment variables")," might hold sensitive information, ALKiln avoids taking pictures or downloading the HTML of pages that use environment variables, even when the test has an error on that page. ALKiln avoids printing the value of an environment variable anywhere in the ",(0,i.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/writing#reports"},"report")," or in the ",(0,i.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/writing#console"},"console log"),"."))}l.isMDXComponent=!0},4251:(e,t,a)=>{"use strict";a.r(t),a.d(t,{assets:()=>T,contentTitle:()=>N,default:()=>x,frontMatter:()=>v,metadata:()=>w,toc:()=>S});var n=a(7462),i=a(7294),o=a(4137),l=a(1958);const r={toc:[]};function s(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},r,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"If your interview uses ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#generic"},"generic objects")," (",(0,o.kt)("inlineCode",{parentName:"p"},"x"),") or ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#index%20variables"},"index variables")," (",(0,o.kt)("inlineCode",{parentName:"p"},"i"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"j"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"k"),", etc), you ",(0,o.kt)("strong",{parentName:"p"},"must")," have ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/writing#special-html"},"special HTML")," in your interview to set the values of variables."))}s.isMDXComponent=!0;var p=a(551);const u={toc:[]};function h(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"If there are problems with the accessibility of the page, ALKiln will continue to the end of the test, but it will save a separate JSON accessibility report file for a page that fails this check. For example, if text is too small or if contrast between the text and its background is too low. If ALKiln found problems, the test will fail at the end."),(0,o.kt)("p",null,"ALKiln uses ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/dequelabs/axe-core"},"aXe-core")," to check for problems. You can check the documentation there to understand the failure data better. A human can do a much more thorough job of improving accessibility, but this can be a start."))}h.isMDXComponent=!0;const d={toc:[]};function m(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"If you have an organization and want to use these values in multiple repositories, you can use ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/writing#org-secrets"},"organization GitHub secrets"),". In that case, your workflow file code would look more like this:"))}m.isMDXComponent=!0;var c=a(2598),k=a(3699);const f=()=>i.createElement("ul",null,i.createElement("li",null,"An individual ",i.createElement(k.Z,{to:"/docs/alkiln/writing#report"},"report.txt")),i.createElement("li",null,"Another copy of ",i.createElement(k.Z,{to:"/docs/alkiln/writing#error-pics"},"error screenshots and html files")),i.createElement("li",null,i.createElement(k.Z,{to:"/docs/alkiln/writing#pic"},"Pictures you took of screens along with their associated HTML files")),i.createElement("li",null,i.createElement(k.Z,{to:"/docs/alkiln/writing#download"},"Files you downloaded")),i.createElement("li",null,i.createElement(k.Z,{to:"/docs/alkiln/writing#compare-json"},"JSON variables you compared")),i.createElement("li",null,i.createElement(k.Z,{to:"/docs/alkiln/writing#a11y-all"},"Accessibility failures"))),g=e=>i.createElement("ol",null,i.createElement("li",null,"For each  test, ALKiln follows the instructions in your test."),i.createElement("li",null,"Your first Steps could be any of a number of Steps, like waiting, signing into the server, or going to the interview."),i.createElement("li",null,"Usually authors at least name an interview that ALKiln should go to. To do that, ALKiln uses ",e.base_url,"."),i.createElement("li",null,"ALKiln pretends to be a human and tries to fill out the fields and take the actions the tests describe."));var y=a(1962),b=a.n(y);const v={id:"alkiln_writing",title:"Writing ALKiln tests",sidebar_label:"WIP Writing tests",slug:"/alkiln/writing"},N=void 0,w={unversionedId:"alkiln/alkiln_writing",id:"alkiln/alkiln_writing",title:"Writing ALKiln tests",description:"WIP (Work in progress)",source:"@site/docs/alkiln/writing_tests.mdx",sourceDirName:"alkiln",slug:"/alkiln/writing",permalink:"/docassemble-AssemblyLine-documentation/docs/alkiln/writing",draft:!1,editUrl:"https://github.com/SuffolkLITLab/docassemble-AssemblyLine-documentation/edit/main/docs/alkiln/writing_tests.mdx",tags:[],version:"current",frontMatter:{id:"alkiln_writing",title:"Writing ALKiln tests",sidebar_label:"WIP Writing tests",slug:"/alkiln/writing"},sidebar:"docs",previous:{title:"WIP Setup/Installation",permalink:"/docassemble-AssemblyLine-documentation/docs/alkiln/setup"},next:{title:"WIP Troubleshooting & errors",permalink:"/docassemble-AssemblyLine-documentation/docs/alkiln/trouble"}},T={},S=[{value:"Do <em>I</em> need to read this?",id:"who",level:2},{value:"Quick refresher",id:"refresh",level:2},{value:"Writing test Steps overview",id:"steps",level:2},{value:"Steps to start tests",id:"start",level:2},{value:"<code>I start the interview at &quot;&lt;file name&gt;&quot;</code>",id:"start-interview",level:3},{value:"<code>I sign in with the email &quot;&lt;username env var&gt;&quot; and the password &quot;&lt;password env var&gt;&quot;</code>",id:"sign-in",level:3},{value:"<code>I go to &quot;&lt;url&gt;&quot;</code>",id:"go-anywhere",level:3},{value:"Test configuration Steps",id:"test-config",level:2},{value:"<code>the maximum seconds for each Step is &lt;number&gt;</code>",id:"custom-timeout",level:3},{value:"<code>I check all pages for accessibility issues</code>",id:"a11y-all",level:3},{value:"Interactive Steps",id:"interact",level:2},{value:"The Story Table Step",id:"story-table",level:3},{value:"<code>I set the variable &quot;&lt;variable name&gt;&quot; to &quot;&lt;value to set&gt;&quot;</code>",id:"set",level:3},{value:"<code>I set the variable &quot;&lt;variable name&gt;&quot; to the GitHub secret &quot;&lt;environment variable name&gt;&quot;</code>",id:"secret-val",level:3},{value:"<code>I tap to continue</code>",id:"continue",level:3},{value:"<code>I set the name of &quot;&lt;variable name&gt;&quot; to &quot;&lt;name&gt;&quot;</code>",id:"name",level:3},{value:"<code>I set the address of &quot;&lt;variable name&gt;&quot; to &quot;&lt;US address&gt;</code>",id:"address",level:3},{value:"<code>I download &quot;&lt;file name&gt;&quot;</code>",id:"download",level:3},{value:"<code>I tap the &quot;&lt;selector&gt;&quot; element and go to a new page</code>",id:"tap-nav",level:3},{value:"<code>I tap the &quot;&lt;selector&gt;&quot; element and stay on the same page</code>",id:"tap-stay",level:3},{value:"<code>I tap the &quot;&lt;tab id&gt;&quot; tab</code>",id:"tap-tab",level:3},{value:"<code>I wait for &lt;number&gt; seconds</code>",id:"wait",level:3},{value:"Setting values",id:"values",level:2},{value:"Special HTML",id:"special-html",level:3},{value:"Text",id:"text",level:3},{value:"Dates",id:"dates",level:3},{value:"Today",id:"today",level:3},{value:"<code>yesno</code>",id:"yesno",level:3},{value:"<code>noyes</code>",id:"noyes",level:3},{value:"<code>yesnomaybe</code>",id:"yesnomaybe",level:3},{value:"<code>radio</code>",id:"radio",level:3},{value:"<code>checkboxes</code>",id:"checkboxes",level:3},{value:"<code>file</code>",id:"upload",level:3},{value:"<code>signature</code>",id:"sign",level:3},{value:"<code>.there_is_another</code>",id:"there-is-another",level:3},{value:"Observational Steps",id:"observe",level:2},{value:"<code>I check the page for accessibility issues</code>",id:"a11y",level:3},{value:"<code>I expect the baseline PDF &quot;&lt;baseline file&gt;&quot; and the new PDF &quot;&lt;new file&gt;&quot; to be the same</code>",id:"compare-files",level:3},{value:"<code>I SHOULD see the phrase &quot;&lt;page text&gt;&quot;</code>",id:"phrase",level:3},{value:"<code>the text in the JSON variable &quot;&lt;variable name&gt;&quot; should be</code>",id:"compare-json",level:3},{value:"<code>I take a picture</code>",id:"pic",level:3},{value:"<code>I get the page&#39;s JSON variables and values</code>",id:"get-json",level:3},{value:"<code>I will be told an answer is invalid</code>",id:"invalid",level:3},{value:"<code>the question id should be &quot;&lt;id&gt;&quot;</code>",id:"id",level:3},{value:"Generate a Story Table",id:"alkiln_story",level:2},{value:"Test file anatomy",id:"test-files",level:2},{value:"Add a new test file",id:"new-file",level:3},{value:"Some rules",id:"file-rules",level:3},{value:"Gherkin keywords",id:"gherkin-keywords",level:3},{value:"Sample test file",id:"gherkin-sampler",level:3},{value:"Tags",id:"tags",level:3},{value:"GitHub workflow files",id:"workflows",level:2},{value:"Where in GitHub is the file?",id:"workflows-where",level:3},{value:"Example files",id:"workflows-examples",level:3},{value:"GitHub workflow inputs",id:"workflow-inputs",level:2},{value:"Required inputs for  GitHub+You  <GTOYS/> tests",id:"githubNyou-inputs",level:3},{value:"Required inputs for  GitHub Sandbox  <KittyLitter/> tests",id:"sandbox-inputs",level:3},{value:"Optional inputs for all GitHub tests",id:"optional-inputs",level:3},{value:"Optional inputs just for  GitHub+You  <GTOYS/> tests",id:"githubNyou-optional-inputs",level:3},{value:"Optional inputs just for  GitHub Sandbox  <KittyLitter/> tests",id:"sandbox-optional-inputs",level:3},{value:"GitHub workflow extras",id:"workflow-extras",level:2},{value:"Schedule tests",id:"schedule-trigger",level:3},{value:"Pull request tests",id:"pr-trigger",level:3},{value:"Make a GitHub issue when tests fail",id:"issue",level:3},{value:"Environment variables",id:"env-vars",level:2},{value:"GitHub secrets",id:"secrets",level:2},{value:"Running tests",id:"run",level:2},{value:"Triggering tests",id:"trigger-tests",level:3},{value:" GitHub+You  <GTOYS/> test stages",id:"gNy-stages",level:3},{value:" ALKilnInThePlayground  <AutoDIY/> test stages",id:"diy-stages",level:3},{value:" GitHub Sandbox  <KittyLitter/> test stages",id:"sandbox-stages",level:3},{value:"What can I see while tests are running?",id:"running-data",level:3},{value:"What can I see when the tests end?",id:"end-status",level:3},{value:"Failures get re-run once",id:"rerun",level:3},{value:"Test results overview",id:"results",level:2},{value:"Test logs",id:"console",level:2},{value:"Test output/artifacts",id:"artifacts",level:2},{value:"report.txt",id:"report",level:3},{value:"debug_log.txt",id:"debug-log",level:3},{value:"Scenario folder",id:"scenario-artifacts",level:3},{value:"Error pics and HTML",id:"error-pics",level:3},{value:"Tips",id:"tips",level:2},{value:"Question id",id:"id-tip",level:3},{value:"Write unique Scenario descriptions",id:"scenario-descriptions",level:3},{value:"Special HTML",id:"html-tip",level:3},{value:"Testing unfinished code",id:"unstable-tip",level:3},{value:"Recycle, reuse",id:"reuse-tip",level:3},{value:"Values of choices",id:"choice-values-tip",level:3},{value:"Quotes",id:"quotes",level:3},{value:"Special page characters",id:"special-chars",level:3},{value:"Add a tag to each test",id:"add-tags",level:3},{value:"Frequently asked questions (FAQ)",id:"faq",level:2},{value:"I have a private GitHub repository. Can I use ALKiln?",id:"private-repo",level:3},{value:"Do I have to fill in every field?",id:"every-var",level:3},{value:"Will GitHub charge me?",id:"quota",level:3},{value:"Will ALKiln tests affect my analytics?",id:"analytics",level:3},{value:"Does ALKiln collect my data?",id:"no-data-collection",level:3},{value:"ALKiln has a lot of open issues",id:"open-issues",level:3},{value:"Can I compare docx files?",id:"compare-docx",level:3}],A={toc:S};function x(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},A,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"WIP (Work in progress)")),(0,o.kt)("p",null,"This page describes your tests files and how to write tests ","  and other useful information. To see the table of contents on a small screen, tap on the dropdown menu at the top of the page. To see it on a wider screen, see the column on the right-hand side of the screen."),(0,o.kt)("h2",{id:"who"},"Do ",(0,o.kt)("em",{parentName:"h2"},"I")," need to read this?"),(0,o.kt)("p",null,"If you are writing tests "," or need to learn about test files, this page is for you. It is easier to write the tests if you have access to the interview YAML code and understand a bit about docassemble."),(0,o.kt)("h2",{id:"refresh"},"Quick refresher"),(0,o.kt)("p",null,"If you are coming back and just need some resource reminders, here is a short list:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"You can see ",(0,o.kt)("a",{parentName:"li",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/setup#first-test"},"what your first test might look like"),"."),(0,o.kt)("li",{parentName:"ul"},"You can generate a first draft for a more complex test with the help of the ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/plocket/alkiln_story"},"ALKiln Story Table Step generator"),"."),(0,o.kt)("li",{parentName:"ul"},"If your interview is using generic objects or index variables, you ",(0,o.kt)("strong",{parentName:"li"},"must")," include ",(0,o.kt)("a",{parentName:"li",href:"#special-html"},"special HTML")," in your interview."),(0,o.kt)("li",{parentName:"ul"},"Every time you change or add a required field variable, you must update the tests that need that variable."),(0,o.kt)("li",{parentName:"ul"},"You write and edit ",(0,o.kt)("inlineCode",{parentName:"li"},".feature")," test files in your package's Sources folder."),(0,o.kt)("li",{parentName:"ul"},"You can check the syntax of your test file by using an editor like the ",(0,o.kt)("a",{parentName:"li",href:"https://www.assertthat.com/online-gherkin-editor"},"editor at AssertThat"),"."),(0,o.kt)("li",{parentName:"ul"},"If you are using ",(0,o.kt)(c.tD,{mdxType:"GTOYS"})," or ",(0,o.kt)(c.oc,{mdxType:"KittyLitter"})," tests, those tests will run when anyone commits to GitHub."),(0,o.kt)("li",{parentName:"ul"},"By default, each Step or page ",(0,o.kt)("strong",{parentName:"li"},"must")," be completed in at most 30 seconds. You can change that with the ",(0,o.kt)("a",{parentName:"li",href:"#custom-timeout"},'"max seconds" Step'),"."),(0,o.kt)("li",{parentName:"ul"},"ALKiln creates test ",(0,o.kt)("a",{parentName:"li",href:"#report"},"reports")," and pictures. For example, ALKiln saves ",(0,o.kt)("a",{parentName:"li",href:"#error-pics"},"pictures and the HTML of pages that caused errors"),". In GitHub, those files are in the zip file in ",(0,o.kt)("a",{parentName:"li",href:"#artifacts"},"your workflow's artifact section"),"."),(0,o.kt)("li",{parentName:"ul"},"There are some field types that ALKiln cannot yet handle, including some ",(0,o.kt)("inlineCode",{parentName:"li"},"object"),"-type fields."),(0,o.kt)("li",{parentName:"ul"},"The tests use the ",(0,o.kt)("a",{parentName:"li",href:"#gherkin"},"gherkin language and syntax"),".")),(0,o.kt)("p",null,"Here is an example of a more complex test for a quick refresher on some of ALKiln's features:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'@children\nFeature: I have children\n\n@fast @child_benefits\nScenario: child has benefits\n  Given I start the interview at "some_file_name.yml"\n  And I get to the question id "benefits" with this data:\n    | var | value |\n    | children.there_are_any | True |\n    | children.target_number | 2 |\n    | children[0].name.first | Cashmere |\n    | children[0].name.last | Davis |\n    | children[1].name.first | Casey |\n    | children[1].name.last | Davis |\n  When I set the var "benefits[\'SSI\']" to "True"\n  And I tap to continue\n  Then the question id should be "download"\n  And I download "some_motion.pdf"\n')),(0,o.kt)("h2",{id:"steps"},"Writing test Steps overview"),(0,o.kt)("p",null,"Most of ",(0,o.kt)("a",{parentName:"p",href:"#test-files"},"the code in test files")," is code for ALKiln Steps."),(0,o.kt)("p",null,"ALKiln Steps are how you give your instructions to the ALKiln robot. Steps are made of commands",(0,o.kt)("sup",{parentName:"p",id:"fnref-meh"},(0,o.kt)("a",{parentName:"sup",href:"#fn-meh",className:"footnote-ref"},"meh"))," that ALKiln has created for you. Those commands often need information from you. They are like fill-in-the-blank sentences. A sort of ",(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Mad_Libs#format"},"madlibs")," for your ALKiln robot. For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I set the variable "likes_bears" to "True"\n')),(0,o.kt)("p",null,"This Step is made of three parts."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"And")," is one of the ",(0,o.kt)("a",{parentName:"li",href:"#gherkin-keywords"},"keywords")," that can start a Step"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},'I set the variable "___" to "___"')," is an ALKiln command with blanks that you need to fill in"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"likes_bears")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"True")," are the information you put in the blanks so that the ALKiln robot knows what answer to give to a question")),(0,o.kt)("p",null,"That command description can also be written as ",(0,o.kt)("inlineCode",{parentName:"p"},'I set the variable "<variable name>" to "<value>"'),". This tells you what information you should put in each of these blanks."),(0,o.kt)("p",null,"In this case there are two blank spaces you should fill. In the first blank, you should put the name of the variable that the field will set. In the second blank, you should put the value that you want the variable to have."),(0,o.kt)("p",null,"Each of your tests - ",(0,o.kt)("a",{parentName:"p",href:"#test-files"},"a ",(0,o.kt)("inlineCode",{parentName:"a"},"Scenario")," or a ",(0,o.kt)("inlineCode",{parentName:"a"},"Scenario Outline"))," - usually contains many Steps. Any Step can be used as many times as you want anywhere in a test. If you follow ",(0,o.kt)("a",{parentName:"p",href:"#choice-values-tip"},"good code-writing practices"),", most Steps work in any human language, so you can tests translations of your interviews."),(0,o.kt)("h2",{id:"start"},"Steps to start tests"),(0,o.kt)("p",null,"Authors often use these Steps to start their tests, though these Steps can actually be used anytime in a test."),(0,o.kt)("h3",{id:"start-interview"},(0,o.kt)("inlineCode",{parentName:"h3"},'I start the interview at "<file name>"')),(0,o.kt)("p",null,'Use the "start interview" Step to start a new session of an interview.'),(0,o.kt)("p",null,"The Step format:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Given I start the interview at "<YAML file name>"\n')),(0,o.kt)("p",null,"The blank to fill in here is ",(0,o.kt)("inlineCode",{parentName:"p"},"<YAML file name>")," - the name of the YAML file that starts the interview."),(0,o.kt)("p",null,"Example with just the file name:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Given I start the interview at "favorite_bears"\n')),(0,o.kt)("p",null,"Example with the file extension:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Given I start the interview at "favorite_bears.yml"\n')),(0,o.kt)("p",null,"Example with url arguments (",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/special.html#url_args"},"url_args"),"):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Given I start the interview at "favorite_bears.yml&user_id=123&from=theinterwebs"\n')),(0,o.kt)("p",null,"You can also instead use the full url of the interview, though we recommend you avoid that. For example, one advantage to using the file name instead of the full url is that you can then still use the ",(0,o.kt)(c.oc,{mdxType:"KittyLitter"})," test method to run those tests on GitHub."),(0,o.kt)("admonition",{title:"Before setting fields",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"You ",(0,o.kt)("strong",{parentName:"p"},"must")," include the ",(0,o.kt)("inlineCode",{parentName:"p"},"interview")," Step in each Scenario ",(0,o.kt)("strong",{parentName:"p"},"before setting any fields"),".")),(0,o.kt)("h3",{id:"sign-in"},(0,o.kt)("inlineCode",{parentName:"h3"},'I sign in with the email "<username env var>" and the password "<password env var>"')),(0,o.kt)("p",null,'Use the "sign in" Step to sign into your docassemble server before going to the interview with the ',(0,o.kt)("a",{parentName:"p",href:"#start-interview"},'"start interview" Step'),". You can use ",(0,o.kt)("a",{parentName:"p",href:"#secrets"},"GitHub secrets")," in combination with ",(0,o.kt)("a",{parentName:"p",href:"#env-vars"},"environment variables")," to store and use this sensitive sign in information."),(0,o.kt)("p",null,"The Step format:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Given I sign in with the email "<username env var>" and the password "<password env var>"\n')),(0,o.kt)("p",null,"The two blanks to fill in are ",(0,o.kt)("inlineCode",{parentName:"p"},"<username env var>")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"<password env var>"),". Each of them must be the name of an ",(0,o.kt)("a",{parentName:"p",href:"#env-vars"},"environment variable")," that you have already added to your ",(0,o.kt)("a",{parentName:"p",href:"#workflows"},"workflow file"),"."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"<username env var>")," variable should contain the username of a ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/security#test_accounts"},"dedicated account")," on your docassemble server. The ",(0,o.kt)("inlineCode",{parentName:"p"},"<password env var>")," variable should contain the password of that account."),(0,o.kt)("p",null,"Example Step:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Given I sign in with the email "ALKILN_USER_EMAIL" and the password "ALKILN_USER_PASSWORD"\n')),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},'"ALKILN_USER_EMAIL"')," and ",(0,o.kt)("inlineCode",{parentName:"p"},'"ALKILN_USER_PASSWORD"')," are just examples of environment variable names. You can use any names you want."),(0,o.kt)("p",null,"The relevant section of your workflow file would look like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},'env:\n  ALKILN_USER_EMAIL: "${{ secrets.ALKILN_USER_EMAIL }}"\n  ALKILN_USER_PASSWORD: "${{ secrets.ALKILN_USER_PASSWORD }}"\n')),(0,o.kt)("p",null,"You can have as many of these accounts as you want."),(0,o.kt)("admonition",{title:"Sensitive information",type:"danger"},(0,o.kt)("p",{parentName:"admonition"},"You ",(0,o.kt)("strong",{parentName:"p"},"must")," use ",(0,o.kt)("a",{parentName:"p",href:"#secrets"},"GitHub secrets")," to set the ",(0,o.kt)("a",{parentName:"p",href:"#env-vars"},"environment variables")," in order to keep the information secure. You should also use a ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/security#test_accounts"},"separate account")," for signing in like this. ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/security#mock-data"},"Never use a real person's account or information"),".")),(0,o.kt)("p",null,"ALKiln does avoid taking pictures or downloading the HTML for this Step, even when the test has an error on that page, so that information is still protected. ALKiln also avoids printing the value of these variables anywhere in the report or in the console. Even so, it is possible for you to ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/security#no-show"},"expose this information"),"."),(0,o.kt)("h3",{id:"go-anywhere"},(0,o.kt)("inlineCode",{parentName:"h3"},'I go to "<url>"')),(0,o.kt)("p",null,'Use the "go anywhere" Step to go to any arbitrary url.'),(0,o.kt)("p",null,"The Step format:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Given I go to "<url>"\n')),(0,o.kt)("p",null,"The blank to fill in here is ",(0,o.kt)("inlineCode",{parentName:"p"},"<url>")," - any valid url."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Given I go to "https://retractionwatch.com"\n')),(0,o.kt)("h2",{id:"test-config"},"Test configuration Steps"),(0,o.kt)("p",null,"These Steps can change your settings for your tests. For example, the maximum amount of time one Step or page can take to finish."),(0,o.kt)("h3",{id:"custom-timeout"},(0,o.kt)("inlineCode",{parentName:"h3"},"the maximum seconds for each Step is <number>")),(0,o.kt)("p",null,'Use the "max seconds" Step to set the maximum amount of time one Step can take to finish before it will fail. This is also the maximum amount of time ALKiln will spend trying to fill out the fields on a page before the test fails.'),(0,o.kt)("p",null,"The default maximum time is 30 seconds."),(0,o.kt)("p",null,"The Step format:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"  Given the maximum seconds for each Step is <number>\n")),(0,o.kt)("p",null,"The blank to fill in is ",(0,o.kt)("inlineCode",{parentName:"p"},"<number>")," - the number of seconds to allow a Step to run, or a page to be filled, before the test fails."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"  Given the maximum seconds for each Step is 200\n")),(0,o.kt)("p",null,"You can set the max seconds as your first Step to give a slow-loading interview more time to load. If you are worried about increasing the time too much, you can immediately decrease the time after the interview loads. For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Given the maximum seconds for each Step is 200\n  And I start the interview at "favorite_bears.yml"\n  And the maximum seconds for each Step is 30\n')),(0,o.kt)("p",null,"You can also increase this setting before you try to download a large file. ALKiln spends twice the value of this setting to download a file. You can read more about the timing in the ",(0,o.kt)("a",{parentName:"p",href:"#download"},'"download" Step'),"."),(0,o.kt)("p",null,"You can use this Step to change the maximum seconds setting at any time in your test."),(0,o.kt)("p",null,"Increasing the maximum time can have down-sides. Some kinds of failures take the maximum amount of time possible. Since ",(0,o.kt)("a",{parentName:"p",href:"#rerun"},"each failed test is re-run"),", those failing tests will take twice the amount of time that you set for your maximum Step time."),(0,o.kt)("p",null,"Sometimes authors set the maximum seconds to a shorter time for most of their Steps and only lengthen the time for Steps that need more time. This can speed up failing tests."),(0,o.kt)("h3",{id:"a11y-all"},(0,o.kt)("inlineCode",{parentName:"h3"},"I check all pages for accessibility issues")),(0,o.kt)("p",null,'Use the "all accessible" Step to turn accessibility checking on.'),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"  Then I check all pages for accessibility issues\n")),(0,o.kt)("p",null,"After this Step, ALKiln will check every following page for accessibility issues until the end of the test."),(0,o.kt)(h,{mdxType:"A11y"}),(0,o.kt)("p",null,"This is different than the ",(0,o.kt)("a",{parentName:"p",href:"#a11y"},'"accessibility" Step'),", which only checks the current page."),(0,o.kt)("h2",{id:"interact"},"Interactive Steps"),(0,o.kt)("p",null,"You can use some Steps to change what is on the page by filling in fields, pressing buttons or tabs, or performing other actions."),(0,o.kt)("h3",{id:"story-table"},"The Story Table Step"),(0,o.kt)("p",null,'Use the "Story Table" Step to fill in multiple fields on multiple pages. It is the Step many of our authors work with the most. In our opinion, it is the most flexible way to fill in fields in your forms, unlike the linear ',(0,o.kt)("a",{parentName:"p",href:"#set"},'"I set" Step'),". This makes a test easier to maintain."),(0,o.kt)(s,{mdxType:"NeedProxyVars"}),(0,o.kt)("p",null,"You can use the ",(0,o.kt)("a",{parentName:"p",href:"#alkiln_story"},"story table generator")," to generate a first draft of a full test file that uses a Story Table based on an interview you have finished."),(0,o.kt)("p",null,"The Story Table Step is made of a sentence followed by a table. The data in the table is a snapshot of the user who is filling out the form. Each table row describes one fact about the user - one variable in the interview. It has this format:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I get to the question id "<target question id>" with this data:\n    | var | value |\n    | <variable name> | <value to set> |\n    | <variable name> | <value to set> |\n')),(0,o.kt)("p",null,"As you can see, there are three types of blanks you need to fill in for this Step: ",(0,o.kt)("inlineCode",{parentName:"p"},"<target question id>"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"<variable name>"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"<value to set>"),". The way to use the names of variables and values to ",(0,o.kt)("a",{parentName:"p",href:"#values"},"set the values of fields")," is the same as the ",(0,o.kt)("a",{parentName:"p",href:"#set"},'"I set" Step'),"."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"The starting sentence ",(0,o.kt)("strong",{parentName:"li"},"must")," include the question ",(0,o.kt)("inlineCode",{parentName:"li"},"id"),(0,o.kt)("sup",{parentName:"li",id:"fnref-id"},(0,o.kt)("a",{parentName:"sup",href:"#fn-id",className:"footnote-ref"},"id"))," of a page in the interview."),(0,o.kt)("li",{parentName:"ul"},"The table ",(0,o.kt)("strong",{parentName:"li"},"must")," include all the variables and values necessary to get a user from the current page to the page with the given question id."),(0,o.kt)("li",{parentName:"ul"},"The table ",(0,o.kt)("strong",{parentName:"li"},"must")," have two columns with the headings ",(0,o.kt)("inlineCode",{parentName:"li"},"var")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"value"),".")),(0,o.kt)("p",null,"On each interview page, ALKiln:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Checks if the page has the ",(0,o.kt)("inlineCode",{parentName:"li"},"<target question id>")," you gave it at the start"),(0,o.kt)("li",{parentName:"ol"},"If the page does have the ",(0,o.kt)("inlineCode",{parentName:"li"},"<target question id>")," it stops the Step"),(0,o.kt)("li",{parentName:"ol"},"Otherwise, it looks at each ",(0,o.kt)("inlineCode",{parentName:"li"},"<variable name>")," in the ",(0,o.kt)("inlineCode",{parentName:"li"},"var")," column to see if it can find that name in any fields"),(0,o.kt)("li",{parentName:"ol"},"For each ",(0,o.kt)("inlineCode",{parentName:"li"},"<variable name>")," it finds, it tries to answer the field using the matching ",(0,o.kt)("inlineCode",{parentName:"li"},"<value to set>")),(0,o.kt)("li",{parentName:"ol"},"It tries to continue to the next page"),(0,o.kt)("li",{parentName:"ol"},"If it is unable to continue it logs an error and stops"),(0,o.kt)("li",{parentName:"ol"},"Otherwise, it repeats the above")),(0,o.kt)("p",null,"An example table:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I get to the question id "brought scissors" with this data:\n    | var | value |\n    | last_haircut_date | today - 730 |\n    | wants_virtual_haircut | True |\n    | user_name | Jaime |\n    | intro_screen_accepts_terms | True |\n')),(0,o.kt)("admonition",{title:"Docs",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Filling in checkboxes is tricky. Check our ",(0,o.kt)("a",{parentName:"p",href:"#checkboxes"},"documentation about setting checkbox values"),".")),(0,o.kt)("p",null,"This Step is flexible, which makes the test easier to maintain. The order of the rows is unimportant. That means you can edit the order of your pages or move fields to different pages without worrying about breaking the test. "),(0,o.kt)("p",null,"ALKiln sets a table variable every time it finds that variable on a page, no matter how many times that variable appears in your interview."),(0,o.kt)("admonition",{title:".there_is_another",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Avoid using ",(0,o.kt)("inlineCode",{parentName:"p"},".there_is_another")," in your Story Table. Read about ",(0,o.kt)("a",{parentName:"p",href:"#there-is-another"},"what to use instead"),".")),(0,o.kt)("p",null,"You can use multiple Story Tables in a test.",(0,o.kt)("span",{id:"unused-rows"}),(0,o.kt)("span",{id:"skipped-variable"})),(0,o.kt)("p",null,"Right now, Story Tables are unable to use environment variables to fill in answers, so you cannot use them to ",(0,o.kt)("a",{parentName:"p",href:"#secret-val"},"set sensitive information")," like passwords."),(0,o.kt)("admonition",{title:"Unused rows",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},'The Story Table does not care about extra rows that never get used. This can make Story Tables easier to write, but it also means that the tests will technically "pass" even if variables that ',(0,o.kt)("em",{parentName:"p"},"should")," get set are never filled in."),(0,o.kt)("p",{parentName:"admonition"},"That can be a sign that a question that the user ",(0,o.kt)("em",{parentName:"p"},"should")," have seen got skipped or that there is a typo or mistake in the test."),(0,o.kt)("p",{parentName:"admonition"},"Because of this, the ALKiln ",(0,o.kt)("a",{parentName:"p",href:"#report"},"report")," shows a list of unused rows for each table. You can check the report of passing tests to make sure none of the important rows got skipped.")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"You can use this Step to ",(0,o.kt)("a",{parentName:"p",href:"#upload"},"upload files")," and ",(0,o.kt)("a",{parentName:"p",href:"#sign"},"fill in a signature"),".")),(0,o.kt)("h3",{id:"set"},(0,o.kt)("inlineCode",{parentName:"h3"},'I set the variable "<variable name>" to "<value to set>"')),(0,o.kt)("p",null,'Use the "I set" Step to fill in one ',(0,o.kt)("a",{parentName:"p",href:"#values"},"value")," on one page."),(0,o.kt)(s,{mdxType:"NeedProxyVars"}),(0,o.kt)("p",null,"The format of the Step:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I set the variable "<variable name>" to "<value>"\n')),(0,o.kt)("p",null,"There are two types of blanks you need to fill for this Step. The first set of quotes in this Step contain the name of the variable you need to set. The second set of quotes contain the value you want to set. This is the same as the ",(0,o.kt)("a",{parentName:"p",href:"#story-tables"},"Story Table's"),"'s ",(0,o.kt)("inlineCode",{parentName:"p"},"var")," column and ",(0,o.kt)("inlineCode",{parentName:"p"},"value")," column."),(0,o.kt)("p",null,'This Step is "linear". That is, unlike Story Table rows, these "linear" variable-setting Steps have to be in the correct order and you ',(0,o.kt)("strong",{parentName:"p"},"must")," make sure your test has reached the exact page that has the field. Otherwise your test will fail."),(0,o.kt)("p",null,"Example fields:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},"code: |\n  users[0].favorite_bear.name.first\n  users[0].favorite_bear.type\n---\nquestion: Name of your favorite bear\nfield:\n  - Bear name: users[i].favorite_bear.name.first\n  - Why is this one your favorite?: users[i].favorite_bear.why\n    input type: area\n---\nquestion: Favorite bear type\nfield:\n  - Pick one: users[i].favorite_bear.type\n    datatype: radio\n    choices:\n      - Black bear: wild_bear\n      - Teddy bear: cuddly_bear\n      - Jaime: maybe_not_a_bear\n")),(0,o.kt)("p",null,'Example linear "I set" Step:'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I set the variable "users[0].favorite_bear.name.first" to "Ultraman"\n  And I set the variable "users[0].favorite_bear.why" to "Why not?"\n  And I tap to continue\n  And I set the variable "users[0].favorite_bear.type" to "cuddly_bear"\n')),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"You can use this Step to ",(0,o.kt)("a",{parentName:"p",href:"#upload"},"upload files"),".")),(0,o.kt)("h3",{id:"secret-val"},(0,o.kt)("inlineCode",{parentName:"h3"},'I set the variable "<variable name>" to the GitHub secret "<environment variable name>"')),(0,o.kt)("p",null,'Use the "secret value" Step to use an ',(0,o.kt)("a",{parentName:"p",href:"#env-vars"},"environment variable")," to fill in one ",(0,o.kt)("a",{parentName:"p",href:"#values"},"value")," on one page."),(0,o.kt)("p",null,'Even though the name has "GitHub" and "secret" in it, it can also use environment variables. It is still the only way to use sensitive information in your tests. To do that, you can use environment variables with ',(0,o.kt)("a",{parentName:"p",href:"#secrets"},"GitHub secrets"),"."),(0,o.kt)(s,{mdxType:"NeedProxyVars"}),(0,o.kt)("p",null,"The format of the Step:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I set the variable "<variable name>" to the GitHub secret "<environment variable name>"\n')),(0,o.kt)("p",null,"Here, ",(0,o.kt)("inlineCode",{parentName:"p"},"<variable name>")," is the name of the variable you want to set and ",(0,o.kt)("inlineCode",{parentName:"p"},"<environment variable name>")," is the name of the environment variable that has the value."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  I set the variable "user1_account_password" to the GitHub secret "ALKILN_USER1_PASSWORD"\n')),(0,o.kt)("p",null,"A lot of authors use this Step to set answers with sensitive information, like an account number. This is because ALKiln is extra careful with the security of these values."),(0,o.kt)(p.ZP,{mdxType:"SecureEnvVars"}),(0,o.kt)("admonition",{title:"Not for sign in",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"This Step is unable to sign into your docassemble server. You ",(0,o.kt)("strong",{parentName:"p"},"must")," use ",(0,o.kt)("a",{parentName:"p",href:"#sign-in"},'the "sign in" Step')," to sign in to your docassemble server.")),(0,o.kt)("h3",{id:"continue"},(0,o.kt)("inlineCode",{parentName:"h3"},"I tap to continue")),(0,o.kt)("p",null,'Use the "continue" Step to tap the button to continue to the next page. If the continue button sets a variable, this Step will set that variable to ',(0,o.kt)("inlineCode",{parentName:"p"},"True"),". Story Table Steps handle continuing by themselves."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"  When I tap to continue\n")),(0,o.kt)("p",null,"The test will still continue to the next Step if tapping the continue button fails to go to the next page. Because of this, you can then use the ",(0,o.kt)("a",{parentName:"p",href:"#invalid"},'"invalid" Step')," to write tests that check that your answer validation works correctly. However, if the continue button was supposed to work and the next Step tries to interact with the next page, the test will probably fail."),(0,o.kt)("h3",{id:"name"},(0,o.kt)("inlineCode",{parentName:"h3"},'I set the name of "<variable name>" to "<name>"')),(0,o.kt)("p",null,'The "name" Step is specifically for the Document Assembly Line 4-part name questions.'),(0,o.kt)("p",null,"Avoid punctuation. We recommend you just use 2 names - the first name and last name - but you can have all these formats:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Firstname Lastname"),(0,o.kt)("li",{parentName:"ul"},"Firstname Middlename Lastname"),(0,o.kt)("li",{parentName:"ul"},"Firstname Middlename Lastname Suffix (where suffix is one of the dropdown suffix choices, like ",(0,o.kt)("inlineCode",{parentName:"li"},"II"),")")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I set the name of "users[0]" to "Devon Upton"\n')),(0,o.kt)("h3",{id:"address"},(0,o.kt)("inlineCode",{parentName:"h3"},'I set the address of "<variable name>" to "<US address>')),(0,o.kt)("p",null,'The "address" Step is specifically for the Document Assembly Line 4-part address questions. Right now, ',(0,o.kt)("strong",{parentName:"p"},'the "address" Step can only handle the format of a US address'),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'    When I set the address of "users[0]" to "120 Tremont Street, Unit 1, Boston, MA 02108"\n')),(0,o.kt)("p",null,"Remember the commas."),(0,o.kt)("h3",{id:"download"},(0,o.kt)("inlineCode",{parentName:"h3"},'I download "<file name>"')),(0,o.kt)("p",null,'Use the "download" Step to download files so that humans can check that they are correct. After all the tests are done the files will be the ',(0,o.kt)("a",{parentName:"p",href:"#scenario-artifacts"},"artifacts folder of the Scenario (test)"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'    Then I download "file-name.pdf"\n')),(0,o.kt)("p",null,"Use just the name of the file."),(0,o.kt)("p",null,"If the file is a PDF file, you can use the ",(0,o.kt)("a",{parentName:"p",href:"#compare-files"},'"compare files" Step')," to check that the PDF is correct."),(0,o.kt)("admonition",{title:"Unfinished downloads",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Currently, ALKiln is unable to tell when a file has actually finished downloading, so it runs the download Step for about twice the ",(0,o.kt)("a",{parentName:"p",href:"#custom-timeout"},"maximum seconds allowed for a Step")," no matter what. If a download takes longer than the current maximum seconds value, the test will not fully download the file",(0,o.kt)("sup",{parentName:"p",id:"fnref-d-time"},(0,o.kt)("a",{parentName:"sup",href:"#fn-d-time",className:"footnote-ref"},"d-time")),"."),(0,o.kt)("p",{parentName:"admonition"},"If you think downloading the file will take more than 60 seconds, use the ",(0,o.kt)("a",{parentName:"p",href:"#custom-timeout"},'"max seconds" Step'),' to give the file more time to download. The "download" Step will use the the full amount of time that you give it.')),(0,o.kt)("h3",{id:"tap-nav"},(0,o.kt)("inlineCode",{parentName:"h3"},'I tap the "<selector>" element and go to a new page')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"It could help to know about:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"How to ",(0,o.kt)("a",{parentName:"li",href:"https://www.dreamhost.com/blog/how-to-inspect-a-website/"},"inspect and understand the HTML of a web page")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors"},"CSS selectors"))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"The Step:")),(0,o.kt)("p",null,'Use one of the "tap and navigate" Steps to tap an element on the page, like a button, to go to a new page. If you just want to tap the continue button use the ',(0,o.kt)("a",{parentName:"p",href:"#continue"},'"continue" Step'),"."),(0,o.kt)("p",null,"The format for variation 1:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I tap the "<selector>" element and go to a new page\n')),(0,o.kt)("p",null,"The format for variation 2:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I tap the "<selector>" element and wait <number> seconds\n')),(0,o.kt)("p",null,"One blank to fill in for these commands is ",(0,o.kt)("inlineCode",{parentName:"p"},"<selector>"),", a CSS selector of the element you need to tap. It can be any valid ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors"},"CSS Selector"),"."),(0,o.kt)("p",null,"For variation 2, the second blank to fill in is ",(0,o.kt)("inlineCode",{parentName:"p"},"<number>")," - the number of seconds you want ALKiln to wait after tapping the element."),(0,o.kt)("p",null,"Example of variation 1:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  When I tap the "#awesome_page_link" element and go to a new page\n')),(0,o.kt)("p",null,"Example of variation 2:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I tap the ".link-container #even_better_page a" element and wait 45 seconds\n')),(0,o.kt)("p",null,"This is the only way to explicitly wait after navigating to the new page. Some people try to use the ",(0,o.kt)("a",{parentName:"p",href:"#wait"},'"wait" Step'),", but that will fail. Alternatively, you can use the ",(0,o.kt)("a",{parentName:"p",href:"#custom-timeout"},'"max seconds" Step')," to give your test more time to load new pages in general."),(0,o.kt)("h3",{id:"tap-stay"},(0,o.kt)("inlineCode",{parentName:"h3"},'I tap the "<selector>" element and stay on the same page')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"It could help to know about:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"How to ",(0,o.kt)("a",{parentName:"li",href:"https://www.dreamhost.com/blog/how-to-inspect-a-website/"},"inspect and understand the HTML of a web page")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors"},"CSS selectors"))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"The Step:")),(0,o.kt)("p",null,'Use the "tap and stay" Step to tap on HTML elements without navigating to a new page. For example, you can tap on ',(0,o.kt)("a",{parentName:"p",href:"https://suffolklitlab.org/docassemble-AssemblyLine-documentation/docs/framework/altoolbox#collapsible-help-text"},"collapsible content")," to show the text inside."),(0,o.kt)("p",null,"The Step format:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I tap the "<selector>" element and stay on the same page\n')),(0,o.kt)("p",null,"The blank to fill in for this command is ",(0,o.kt)("inlineCode",{parentName:"p"},"<selector>"),", a CSS selector of the element you need to tap. It can be any valid ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors"},"CSS Selector"),"."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  When I tap the "#an_id .al_toggle" element and stay on the same page\n')),(0,o.kt)("p",null,"It is a good idea to add a ",(0,o.kt)("a",{parentName:"p",href:"#wait"},(0,o.kt)("inlineCode",{parentName:"a"},"wait")," Step")," after this Step to let the contents become visible before taking other actions, like pressing on other elements or checking for a phrase. For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  When I tap the "#an_id .al_toggle" element and stay on the same page\n  And I wait .7 seconds\n')),(0,o.kt)("h3",{id:"tap-tab"},(0,o.kt)("inlineCode",{parentName:"h3"},'I tap the "<tab id>" tab')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"It could help to know about:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"How to ",(0,o.kt)("a",{parentName:"li",href:"https://www.dreamhost.com/blog/how-to-inspect-a-website/"},"inspect and understand the HTML of a web page")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors"},"CSS selectors"))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"The Step:")),(0,o.kt)("p",null,'Use the "tap tab" Step to interact with AssemblyLine\'s ',(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/framework/altoolbox#display-a-series-of-tabs"},"ALToolbox tabs"),". ALKiln will tap on the tab and then wait until the tab contents are fully visible."),(0,o.kt)("p",null,"The Step format:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  When I tap the "<tab html id>" tab\n')),(0,o.kt)("p",null,"The blank to fill in here is ",(0,o.kt)("inlineCode",{parentName:"p"},"<tab html id>")," - the text of the HTML id attribute of the tab."),(0,o.kt)("admonition",{title:"Not a selector",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("inlineCode",{parentName:"p"},"<tab html id>")," is ",(0,o.kt)("strong",{parentName:"p"},"not a selector"),'. Unlike the other "tap" Steps, ',(0,o.kt)("strong",{parentName:"p"},"leave out the ",(0,o.kt)("inlineCode",{parentName:"strong"},"#")," symbol")," (like the example shows).")),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  When I tap the "TabGroup-specific_tab_name-tab" tab\n')),(0,o.kt)("h3",{id:"wait"},(0,o.kt)("inlineCode",{parentName:"h3"},"I wait for <number> seconds")),(0,o.kt)("p",null,'You can use the "wait" Step after the previous Step has completely finished to tell ALKiln to wait before going to the next Step.'),(0,o.kt)("admonition",{title:"Not for loading",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"In most cases, this Step is unable to help the test wait longer for a page to finish loading. To give a page time to load, use the ",(0,o.kt)("a",{parentName:"p",href:"#custom-timeout"},'"max seconds" Step'),".")),(0,o.kt)("p",null,"The Step format:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"  When I wait <number> seconds\n")),(0,o.kt)("p",null,"The blank to fill in here is ",(0,o.kt)("inlineCode",{parentName:"p"},"<number>")," - the number of seconds to wait. If you want, the number can be less than a second."),(0,o.kt)("p",null,"Examples:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"  When I wait .6 seconds\n  When I wait 150 seconds\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},'When to use the "wait" Step:')),(0,o.kt)("p",null,'If a test sometimes fails because ALKiln says it was unable find a field or element on the page, and other times the test passes, this Step can help. Use "wait" to pause for a moment before trying to interact. This is usually because some elements can take different amounts of time to fully appear.'),(0,o.kt)("p",null,'Use "wait" to let page elements finish moving around. For example, after you use the ',(0,o.kt)("a",{parentName:"p",href:"#tap-stay"},'"tap and stay" Step')," to expand content. When elements are moving on the page ALKiln has trouble interacting with them."),(0,o.kt)("p",null,'Use "wait" to wait for a background process to finish - ALKiln is currently unable to detect a background process finishing.'),(0,o.kt)("p",null,'Use "wait" to give external data more time to load.'),(0,o.kt)("h2",{id:"values"},"Setting values"),(0,o.kt)("p",null,"There are different ways to fill in fields. One is the ",(0,o.kt)("a",{parentName:"p",href:"#story-table"},"Story Table Step")," another is the ",(0,o.kt)("a",{parentName:"p",href:"#set"},'"I set" Step'),". Each has different syntax, but they set values the same way."),(0,o.kt)(s,{mdxType:"NeedProxyVars"}),(0,o.kt)("p",null,"Be sure to use the actual ",(0,o.kt)("inlineCode",{parentName:"p"},"value")," of the field, not just the text that the user sees. For example, for the first choice in this field the ",(0,o.kt)("inlineCode",{parentName:"p"},"value"),' would be "wild_bear", not "Black bear". "Black bear" is just the text the user sees - the label.'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},"question: Favorite bear type\nfield:\n  - Pick one: users[i].favorite_bear.type\n    datatype: radio\n    choices:\n      - Black bear: wild_bear\n      - Teddy bear: cuddly_bear\n      - Jaime: maybe_not_a_bear\n")),(0,o.kt)("h3",{id:"special-html"},"Special HTML"),(0,o.kt)("p",null,"This HTML lets ALKiln set the correct variables and avoid other problems."),(0,o.kt)("p",null,"Most authors add this extra HTML to the ",(0,o.kt)("inlineCode",{parentName:"p"},"post")," section of their ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/initial.html#default%20screen%20parts"},(0,o.kt)("inlineCode",{parentName:"a"},"default screen parts")," block"),". They do that by including the AssemblyLine's al_package.yml file or by adding this code themselves. For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},"default screen parts:\n  # HTML for interviews using ALKiln tests\n  # If your interview includes AssemblyLine's al_package.yml you can skip this\n  post: |\n    <div id=\"alkiln_proxy_var_values\"\n    data-generic_object=\"${ encode_name(str( x.instanceName if defined('x') else '' )) }\"\n    % for letter in [ 'i', 'j', 'k', 'l', 'm', 'n' ]:\n    data-index_var_${ letter }=\"${ encode_name(str( value( letter ) if defined( letter ) else '' )) }\"\n    % endfor\n    aria-hidden=\"true\" style=\"display: none;\"></div>\n\n    <div id=\"trigger\" data-variable=\"${ encode_name(str( user_info().variable )) }\" aria-hidden=\"true\" style=\"display: none;\"></div>\n")),(0,o.kt)("p",null,"This code will be invisible on the page. No one will see it. If you already have something in your ",(0,o.kt)("inlineCode",{parentName:"p"},"post:")," default screen part, just copy the code and paste it in after whatever you have there. Putting it at the end can avoid messing up other HTML."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Do I need this?")),(0,o.kt)("p",null,'You probably need the "alkiln_proxy_var_values" HTML element if you use ',(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#generic"},"generic objects")," (",(0,o.kt)("inlineCode",{parentName:"p"},"x"),") or ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#index%20variables"},"index variables")," (",(0,o.kt)("inlineCode",{parentName:"p"},"i"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"j"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"k"),", etc) in your interview."),(0,o.kt)("p",null,'You probably need the "trigger" HTML element if you set ',(0,o.kt)("inlineCode",{parentName:"p"},"restrict input variables")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"True")," in your ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/config.html#configfile"},"docassemble server configuration file"),"."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Why ",(0,o.kt)("inlineCode",{parentName:"strong"},"x")," and ",(0,o.kt)("inlineCode",{parentName:"strong"},"i"),"?")),(0,o.kt)("p",null,"Without the help of the HTML, ALKiln has no way of knowing what the actual names are of variables that use ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#generic"},"generic objects")," (",(0,o.kt)("inlineCode",{parentName:"p"},"x"),") or ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#index%20variables"},"index variables")," (",(0,o.kt)("inlineCode",{parentName:"p"},"i"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"j"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"k"),", etc)."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},'Why "trigger"?')),(0,o.kt)("p",null,"If a docassemble server's config value of ",(0,o.kt)("inlineCode",{parentName:"p"},"restrict input variables")," is set to True, ALKiln needs the help of the HTML to know what variable a ",(0,o.kt)("a",{parentName:"p",href:"#sign"},"signature Step")," is setting."),(0,o.kt)("p",null,'That said, even the "trigger" HTML may not help if the question is triggered by ',(0,o.kt)("inlineCode",{parentName:"p"},"mandatory: True"),"."),(0,o.kt)("h3",{id:"text"},"Text"),(0,o.kt)("p",null,"Text-type fields are fields where the user needs to type text. The ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#plaintext"},"default field type")," is a text field. Other text fields include those with:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"datatype: date")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"datatype: time")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"datatype: currency")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"datatype: password")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"datatype: email")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"datatype: phone")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"datatype: text")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"datatype: integer")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"datatype: number")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"input type: area")," fields are textarea fields and also accept text for their value")),(0,o.kt)("p",null,"You can see more ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#data%20types"},"about ",(0,o.kt)("inlineCode",{parentName:"a"},"datatype"),"s and ",(0,o.kt)("inlineCode",{parentName:"a"},"input type"),"s in the docassemble docs"),"."),(0,o.kt)("p",null,"Example text fields:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},"question: Name of your favorite bear\nfield:\n  - Bear name: users[i].favorite_bear.name.first\n  - Why is this one your favorite?: users[i].favorite_bear.why\n    input type: area\n")),(0,o.kt)("p",null,"Example linear Steps:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I set the variable "users[0].favorite_bear.name.first" to "Ultraman"\n  And I set the variable "users[0].favorite_bear.why" to "Why not?\\nIt seems ok to like Ultraman."\n')),(0,o.kt)("p",null,"Example Story Table Step:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"    | var | value |\n    | users[0].favorite_bear.name.first | Ultraman |\n    | users[0].favorite_bear.why | Why not?\\nIt seems ok to like Ultraman. |\n")),(0,o.kt)("admonition",{title:"New lines",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"If an answer needs to have multiple lines, you can still only use one line in your test code. Instead use ",(0,o.kt)("inlineCode",{parentName:"p"},"\\n")," where a new line would be. See examples.")),(0,o.kt)("h3",{id:"dates"},"Dates"),(0,o.kt)("p",null,"Dates are a specific kind of text value. ALKiln expects the format ##/##/####. For example, 06/26/2015. For ",(0,o.kt)("a",{parentName:"p",href:"../framework/altoolbox#birthdate-and-threepartsdate-custom-data-types"},"Assembly Line custom three-parts date fields"),", ALKiln will assume the date format is dd/mm/yyyy."),(0,o.kt)("p",null,"There is also ",(0,o.kt)("a",{parentName:"p",href:"#today"},"a special ALKiln value named ",(0,o.kt)("inlineCode",{parentName:"a"},"today")),"."),(0,o.kt)("h3",{id:"today"},"Today"),(0,o.kt)("p",null,"One special ALKiln value you can include is ",(0,o.kt)("inlineCode",{parentName:"p"},"today"),". That will insert the date on which the test is being run. You can also subtract from, or add days to, ",(0,o.kt)("inlineCode",{parentName:"p"},"today"),"."),(0,o.kt)("p",null,"Example linear Steps:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I set the value "signature_date" to "today"\n  And I set the value "court_date" to "today + 20"\n  And I set the value "minors_birth_date" to "today - 3650"\n')),(0,o.kt)("p",null,"Example Story Table Step:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"    | signature_date | today |\n    | court_date | today + 20 |\n    | minors_birth_date | today - 3650 |\n")),(0,o.kt)("p",null,"The last example makes sure that the date is 10 years in the past, ensuring that a minor always stays a minor for that test."),(0,o.kt)("admonition",{title:"Avoid boundary dates",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Be careful with ",(0,o.kt)("inlineCode",{parentName:"p"},"today"),' math. If you are testing a "boundary" date, you want to pick a date that is well within a boundary to make the test more robust. For example, if you want to test a date that was 10 or fewer days ago, use ',(0,o.kt)("inlineCode",{parentName:"p"},"today - 9")," instead of ",(0,o.kt)("inlineCode",{parentName:"p"},"today - 10"),"."),(0,o.kt)("p",{parentName:"admonition"},"At some point your tests might run over night and hit midnight right in the middle of the test - after ALKlin fills in the answer, but before the interview finishes. In that situation, if ALKiln answered the question with ",(0,o.kt)("inlineCode",{parentName:"p"},"today - 10")," the clock would tip into the next day by the end of the interview - 11 days from the filled-in date. Your test would fail incorrectly."),(0,o.kt)("p",{parentName:"admonition"},"The fact is, your users also might have that exact experience, so keep that in mind as you design your interview. For example, instead of just telling a user that they are or are not eligible, you can tell them the date of the deadline so they too will know about the boundary.")),(0,o.kt)("h3",{id:"yesno"},(0,o.kt)("inlineCode",{parentName:"h3"},"yesno")),(0,o.kt)("p",null,"There are a few different ",(0,o.kt)("inlineCode",{parentName:"p"},"yesno")," fields - ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#yesno"},(0,o.kt)("inlineCode",{parentName:"a"},"yesno")," buttons")," or ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#fields%20yesno"},(0,o.kt)("inlineCode",{parentName:"a"},"yesno")," fields")," like ",(0,o.kt)("inlineCode",{parentName:"p"},"yesno")," checkboxes and ",(0,o.kt)("inlineCode",{parentName:"p"},"yesnoradio"),"s."),(0,o.kt)("p",null,"Example yesno checkbox field:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},"question: Bears\nfield:\n  - Do you have any bears?: has_bear\n    datatype: yesno\n")),(0,o.kt)("p",null,'Example of setting the yesno checkbox to "yes" in a linear Step:'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  When I set the variable "has_bear" to "True"\n')),(0,o.kt)("p",null,'Example of setting the yesno checkbox to "yes" in a Story Table Step:'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"    | var | value |\n    | has_bear | True |\n")),(0,o.kt)("h3",{id:"noyes"},(0,o.kt)("inlineCode",{parentName:"h3"},"noyes")),(0,o.kt)("p",null,"Avoid ",(0,o.kt)("inlineCode",{parentName:"p"},"noyes")," type fields. For one thing, using ",(0,o.kt)("inlineCode",{parentName:"p"},"noyes")," will make you edit the code you get from the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/plocket/alkiln_story"},"ALKiln Story Table Step generator")," more. For another, we've found that humans tend to find those confusing too."),(0,o.kt)("p",null,'That said, it can be better to use "checked" or "unchecked" as opposed to "True" or "False":'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I set the variable "likes_bears" to "checked"\n')),(0,o.kt)("p",null,"or, in a Story Table:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"  | var | value |\n  | likes_bears | checked |\n")),(0,o.kt)("h3",{id:"yesnomaybe"},(0,o.kt)("inlineCode",{parentName:"h3"},"yesnomaybe")),(0,o.kt)("p",null,"There are a couple different ",(0,o.kt)("inlineCode",{parentName:"p"},"yesnomaybe")," fields - ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#yesnomaybe"},(0,o.kt)("inlineCode",{parentName:"a"},"yesnomaybe")," buttons")," and ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#fields%20yesno"},(0,o.kt)("inlineCode",{parentName:"a"},"datatype: yesnomaybe"))," fields."),(0,o.kt)("p",null,"Example yesnomaybe field:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},"question: Bears\nfield:\n  - Do you have any bears?: has_bear\n    datatype: yesnomaybe\n")),(0,o.kt)("p",null,'Example of setting the yesnomaybe radio buttons to "maybe" in a linear Step:'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  When I set the variable "has_bear" to "None"\n')),(0,o.kt)("p",null,'Example of setting the yesnomaybe radio buttons to "maybe" in a Story Table Step:'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"    | var | value |\n    | has_bear | None |\n")),(0,o.kt)("h3",{id:"radio"},(0,o.kt)("inlineCode",{parentName:"h3"},"radio")),(0,o.kt)("p",null,"Example radio button field:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},"question: Favorite bear type\nfield:\n  - Pick one: users[i].favorite_bear.type\n    datatype: radio\n    choices:\n      - Black bear: wild_bear\n      - Teddy bear: cuddly_bear\n      - Jaime: maybe_not_a_bear\n")),(0,o.kt)("admonition",{title:"Good practice",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Always use options that have ",(0,o.kt)("a",{parentName:"p",href:"#choice-values-tip"},"both a label and a value"),".")),(0,o.kt)("p",null,"Example linear Step:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  When I set the variable "users[0].favorite_bear.type" to "cuddly_bear"\n')),(0,o.kt)("p",null,"Example Story Table Step:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"    | var | value |\n    | users[0].favorite_bear.type | cuddly_bear |\n")),(0,o.kt)("h3",{id:"checkboxes"},(0,o.kt)("inlineCode",{parentName:"h3"},"checkboxes")),(0,o.kt)("p",null,"Checkboxes are one of the most challenging variables to set. This might lead to a ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/trouble#variable-not-found"},'"variable not found" error')," or an ALKiln Story Table Step might just ",(0,o.kt)("a",{parentName:"p",href:"#unused-rows"},"skip the field")," causing problems later on."),(0,o.kt)("admonition",{title:"Advanced summary",type:"tip"},(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"The only value a checkbox can have is ",(0,o.kt)("inlineCode",{parentName:"li"},"True")," or ",(0,o.kt)("inlineCode",{parentName:"li"},"False"),"."),(0,o.kt)("li",{parentName:"ul"},"In ALKiln, the variable name of the checkbox is usually the same as its docassemble variable name. For example, ",(0,o.kt)("inlineCode",{parentName:"li"},"good_fruits['Apples']"),"."),(0,o.kt)("li",{parentName:"ul"},"The names of ",(0,o.kt)("inlineCode",{parentName:"li"},"object_checkboxes")," variable names in ALKiln are similar to how docassemble uses them, but they have extra quotes inside the first square brackets. For example: ",(0,o.kt)("inlineCode",{parentName:"li"},"best_friends['all_friends[0]']")))),(0,o.kt)("p",null,"An example of a checkbox field:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},"fields:\n  - Out of all your friends, choose your best friends: best_friends\n    datatype: checkboxes\n    choices:\n      - Emmet: emmet\n      - Maria: maria\n      - Sam: sam\n")),(0,o.kt)("admonition",{title:"Good practice",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Always use options that have ",(0,o.kt)("a",{parentName:"p",href:"#choice-values-tip"},"both a label and a value"),".")),(0,o.kt)("p",null,"The variable name of the checkbox for ALKiln is usually the same as its docassemble variable name. For example, ",(0,o.kt)("inlineCode",{parentName:"p"},"good_fruits['Apples']"),". The only value a checkbox can have is ",(0,o.kt)("inlineCode",{parentName:"p"},"True")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"False"),"."),(0,o.kt)("admonition",{title:"Wrong",type:"danger"},(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I set the variable "best_friends" to "Emmet"\n'))),(0,o.kt)("admonition",{title:"Right",type:"tip"},(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I set the variable "best_friends[\'Emmet\']" to "True"\n')),(0,o.kt)("p",{parentName:"admonition"},"or, in a Story Table:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"      | var | value |\n      | best_friends['Emmet'] | True |\n"))),(0,o.kt)("p",null,"One exception is field created with an ",(0,o.kt)("inlineCode",{parentName:"p"},"object")," datatype, like ",(0,o.kt)("inlineCode",{parentName:"p"},"object_checkboxes"),". Their ALKiln names are similar to their docassemble names, but they need extra quotes. For example, look at this field:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},"fields:\n  - Out of all your friends, choose your best friends: best_friends\n    datatype: object_checkboxes\n    choices: all_friends\n")),(0,o.kt)("admonition",{title:"Wrong",type:"danger"},(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I set the variable "best_friends" to "all_friends"\n  And I set the variable "best_friends" to "all_friends[0]"\n  And I set the variable "best_friends[all_friends[0]]" to "True"\n'))),(0,o.kt)("admonition",{title:"Right",type:"tip"},(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I set the variable "best_friends[\'all_friends[0]\']" to "True"\n')),(0,o.kt)("p",{parentName:"admonition"},"or, in a Story Table:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"    | var | value |\n    | best_friends['all_friends[0]'] | True |\n"))),(0,o.kt)("admonition",{title:"Eagle eye",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Especially notice the quotes just inside the first square brackets.")),(0,o.kt)("h3",{id:"upload"},(0,o.kt)("inlineCode",{parentName:"h3"},"file")),(0,o.kt)("p",null,"You can upload one or more files by setting a variable to a comma-separated list of file names to upload. You ",(0,o.kt)("strong",{parentName:"p"},"must")," store files that you plan to upload in your ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/playground.html#sources"},'"Sources" folder')," along with your tests."),(0,o.kt)("p",null,"The format for a linear Steps:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I set the variable "<variable name>" to "<comma separated list of a file or files>"\n')),(0,o.kt)("p",null,"The format for a Story Table Step:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"    | var | value |\n    | <variable name> | <comma separated list of a file or files> |\n")),(0,o.kt)("p",null,"Example of a linear Step to upload 1 file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I upload "refutable_evidence.jpg" to "evidence_files"\n')),(0,o.kt)("p",null,"Example of a linear Step to upload multiple files:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I upload "irrefutable_evidence.jpg, refutable_evidence.pdf" to "evidence_files"\n')),(0,o.kt)("p",null,"Example of a Story Table Step to upload 1 file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"    | var | value |\n    | evidence_files | refutable_evidence.jpg |\n")),(0,o.kt)("p",null,"Example of a Story Table Step to upload multiple files:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"    | var | value |\n    | evidence_files | irrefutable_evidence.jpg, refutable_evidence.pdf |\n")),(0,o.kt)("p",null,"To upload more than one file you ",(0,o.kt)("strong",{parentName:"p"},"must")," separate their names with a comma."),(0,o.kt)("h3",{id:"sign"},(0,o.kt)("inlineCode",{parentName:"h3"},"signature")),(0,o.kt)("p",null,"Signatures look a bit funny in ALKiln at the moment, but they work fine."),(0,o.kt)("p",null,"Example of a docassemble ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#signature"},"signature page"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},"question: Sign your name\nsignature: user.signature\nunder: ${ user }\n")),(0,o.kt)("p",null,"Example of linear Steps:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I sign\n  # or\n  And I sign with the name "<signatory\'s name>"\n')),(0,o.kt)("p",null,"The first version will show a single dot as the signature. The second version will show the name and also have a dot."),(0,o.kt)("p",null,"In a Story Table, a signature variable has nothing in its ",(0,o.kt)("inlineCode",{parentName:"p"},"value")," column. Example of a Story Table Step:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"    | var | value |\n    | user.signature |  |\n")),(0,o.kt)("p",null,"All Story Table signatures are a single dot."),(0,o.kt)("h3",{id:"there-is-another"},(0,o.kt)("inlineCode",{parentName:"h3"},".there_is_another")),(0,o.kt)("p",null,"In a Story Table, setting the value of ",(0,o.kt)("inlineCode",{parentName:"p"},".there_is_another")," for a docassemble loop is more complicated than you might expect. At first glance, to fill in the answers for two children some authors try to write the following:"),(0,o.kt)("admonition",{title:"Wrong",type:"danger"},(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"    | var | value |\n    | kids.there_are_any | True |\n    | kids.there_is_another | True |\n"))),(0,o.kt)("p",null,"Instead of using ",(0,o.kt)("inlineCode",{parentName:"p"},".there_are_any")," and ",(0,o.kt)("inlineCode",{parentName:"p"},".there_is_another"),", always use ",(0,o.kt)("inlineCode",{parentName:"p"},".target_number")," in their place to set the number of items that you want to include in the test."),(0,o.kt)("admonition",{title:"Right",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"For 3 children:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"    | var | value |\n    | kids.target_number | 3 |\n")),(0,o.kt)("p",{parentName:"admonition"},"For no children:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"    | var | value |\n    | kids.target_number | 0 |\n"))),(0,o.kt)("h2",{id:"observe"},"Observational Steps"),(0,o.kt)("p",null,"You can use some Steps to look at what is on the page or compare data. You can use these to make sure the interview has done what you want it to."),(0,o.kt)("h3",{id:"a11y"},(0,o.kt)("inlineCode",{parentName:"h3"},"I check the page for accessibility issues")),(0,o.kt)("p",null,'Use the "accessibility" Step to check the current page for problems with accessibility.'),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"  Then I check the page for accessibility issues\n")),(0,o.kt)(h,{mdxType:"A11y"}),(0,o.kt)("p",null,"This is different than the ",(0,o.kt)("a",{parentName:"p",href:"#a11y-all"},'"all accessible" Step'),", which checks all the subsequent pages for accessibility issues."),(0,o.kt)("h3",{id:"compare-files"},(0,o.kt)("inlineCode",{parentName:"h3"},'I expect the baseline PDF "<baseline file>" and the new PDF "<new file>" to be the same')),(0,o.kt)("p",null,"You can compare an example PDF (sometimes called a baseline) to the PDF your interview created to make sure they are the same. You must save the baseline PDF in your ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/playground.html#sources"},'"Sources" folder')," along with your tests. Then use the ",(0,o.kt)("a",{parentName:"p",href:"#download"},'"download" Step')," to download the file your interview created. You can then compare the two PDFs."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Then I expect the baseline PDF "baseline.pdf" and the new PDF "download.pdf" to be the same\n')),(0,o.kt)("p",null,"First ALKiln will compare all of the text in the PDFs. Then ALKiln will compare the fillable fields in the PDFs. If anything is different, ALKiln will print the difference in the ",(0,o.kt)("a",{parentName:"p",href:"#report"},"report"),". You can then use the text in the report to search through the PDFs and find the difference there."),(0,o.kt)("h3",{id:"phrase"},(0,o.kt)("inlineCode",{parentName:"h3"},'I SHOULD see the phrase "<page text>"')),(0,o.kt)("p",null,'Use the "phrase" Step to check that specific text is visible on the page. You can also make sure that text that should NOT be visible is indeed absent.'),(0,o.kt)("admonition",{title:"Missing phrases",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Getting some text characters right can be tricky with interview pages. If you get told ALKiln cannot find a phrase, read about ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/trouble#missing-phrase"},"possible reasons for missing phrases")," in the troubleshooting documentation.")),(0,o.kt)("p",null,"The Step format for variation 1 - the phrase ",(0,o.kt)("strong",{parentName:"p"},"does exist")," on the page:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Then I SHOULD see the phrase "<page text>"\n')),(0,o.kt)("p",null,"The Step format for variation 1 - the phrase is ",(0,o.kt)("strong",{parentName:"p"},"absent")," from the page:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Then I should NOT see the phrase "<page text>"\n')),(0,o.kt)("p",null,"The blank to fill in here is ",(0,o.kt)("inlineCode",{parentName:"p"},"<page text>")," - the phrase to test."),(0,o.kt)("p",null,"Examples for variation 1 - the phrase ",(0,o.kt)("strong",{parentName:"p"},"does exist")," on the page:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Then I SHOULD see the phrase "Yay! This page\'s text is great!"\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Then I should NOT see the phrase "Boo! This page\'s text is bad!"\n')),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"<page text>")," must be inside ",(0,o.kt)("a",{parentName:"p",href:"https://www.compart.com/en/unicode/U+0022"},"double quotation marks")," and ",(0,o.kt)("strong",{parentName:"p"},"must never")," itself contain double quotation marks inside it. Since docassemble interview text usually has special quotation marks, that is usually easy. See the ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/trouble#missing-phrase"},"troubleshooting section on missing phrases")," that talks about special characters."),(0,o.kt)("p",null,"Unlike many other Steps, checking phrases is ",(0,o.kt)("strong",{parentName:"p"},"language specific"),". That is, if you want to test translations as well, you will have to use ",(0,o.kt)("a",{parentName:"p",href:"#gherkin-sampler"},'an "Examples" table')," in your test."),(0,o.kt)("h3",{id:"compare-json"},(0,o.kt)("inlineCode",{parentName:"h3"},'the text in the JSON variable "<variable name>" should be')),(0,o.kt)("p",null,'Use the "compare JSON" Step to check that a variable on the page has a specific text value. ',(0,o.kt)("strong",{parentName:"p"},"This is a multi-line step"),". It is a little limited at the moment."),(0,o.kt)("p",null,"The Step format:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Then the text in the JSON variable "<variable name>" should be\n  """\n  <value>\n  """\n')),(0,o.kt)("p",null,"The first blank to fill in for this Step is ",(0,o.kt)("inlineCode",{parentName:"p"},"<variable name>")," which is the name of the variable that is in the JSON variables and values data of the page. The second blank to fill in is ",(0,o.kt)("inlineCode",{parentName:"p"},"<value>"),", which is the value you want the variable to have. The value ",(0,o.kt)("strong",{parentName:"p"},"must")," be a string (text)."),(0,o.kt)("admonition",{title:"Only flat values",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"This step is unable to check values of nested objects. For example, it can test the value of a variable like ",(0,o.kt)("inlineCode",{parentName:"p"},"user_affidavit"),", but not an attribute like ",(0,o.kt)("inlineCode",{parentName:"p"},"user.affidavit"),".")),(0,o.kt)("p",null,"Example for one line of text:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Then the text in the JSON variable "nickname" should be\n  """\n  Ursus\n  """\n')),(0,o.kt)("p",null,"Example for text with multiple lines:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Then the text in the JSON variable "user_affidavit" should be\n  """\n  Three quotes then some affidavit text.\n\n  The text can be multi-line.\n\n  Then close with three quotes.\n  """\n')),(0,o.kt)("p",null,"This Step will save a copy of all of the page's JSON variables to a file that starts with 'json_for' followed by the current question's id. The JSON variables are the same variables that you would see in ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/errors.html#tocAnchor-1-1"},"the docassemble sources tab"),"."),(0,o.kt)("admonition",{title:"Security",type:"danger"},(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/security#json-vars"},"Avoid JSON Steps")," when you have added sensitive information to your interview.")),(0,o.kt)("admonition",{title:"Next page",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Variable values only show up in the JSON on the next page - the one after the page where you fill in the answers.")),(0,o.kt)("h3",{id:"pic"},(0,o.kt)("inlineCode",{parentName:"h3"},"I take a picture")),(0,o.kt)("p",null,'The "picture" Step will not only take a picture of the page, it will also download an HTML file of the page. The associated HTML file will have the same name as the picture, but will end with ',(0,o.kt)("inlineCode",{parentName:"p"},".html"),". ALKiln will save those files in the Scenario folder of the ",(0,o.kt)("a",{parentName:"p",href:"#results"},"test results"),"."),(0,o.kt)("p",null,"You can open the HTML file in your browser to interact with the page and ",(0,o.kt)("a",{parentName:"p",href:"https://www.dreamhost.com/blog/how-to-inspect-a-website/"},"inspect the page's HTML")," further. You should expect this page to look and act different than the original page - ALKiln is unable to get the full code that controls the behavior and styles of the original page. However, in the HTML, you can look at what options were in a drop down, examine some accessibility errors, or edit the HTML to expand some collapsed content. In fact, some pages are too long for the picture to show all the content. In the HTML, you can see that content."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"  Then I take a picture\n")),(0,o.kt)(p.ZP,{mdxType:"SecureEnvVars"}),(0,o.kt)("h3",{id:"get-json"},(0,o.kt)("inlineCode",{parentName:"h3"},"I get the page's JSON variables and values")),(0,o.kt)("p",null,'Use the "get JSON" Step to add a page\'s JSON variables to the final test report.'),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"  And I get the page's JSON variables and values\n")),(0,o.kt)("p",null,"The JSON variables are the same variables that you would see in ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/errors.html#tocAnchor-1-1"},"the docassemble sources tab"),". It is a bit messy, but you do get to see all the variables."),(0,o.kt)("admonition",{title:"Security",type:"danger"},(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/security#json-vars"},"Avoid JSON Steps")," when you have added sensitive information to your interview.")),(0,o.kt)("admonition",{title:"Next page",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Variable values only show up in the JSON on the next page - the one after the page where you fill in the answers.")),(0,o.kt)("h3",{id:"invalid"},(0,o.kt)("inlineCode",{parentName:"h3"},"I will be told an answer is invalid")),(0,o.kt)("p",null,'Use the "invalid answers" Step to check that the user got feedback that one or more of their answers were invalid.'),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"  Then I will be told an answer is invalid\n")),(0,o.kt)("h3",{id:"id"},(0,o.kt)("inlineCode",{parentName:"h3"},'the question id should be "<id>"')),(0,o.kt)("p",null,'Use the "question id" Step to make sure the test has gotten to the right page.'),(0,o.kt)("p",null,"The Step format:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Then the question id should be "<question id>"\n')),(0,o.kt)("p",null,"The blank to fill here is ",(0,o.kt)("inlineCode",{parentName:"p"},"<question id>")," - the ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/modifiers.html#id"},"id of the ",(0,o.kt)("inlineCode",{parentName:"a"},"question")," block")," for this page. To get the right ",(0,o.kt)("inlineCode",{parentName:"p"},"<question id>"),", copy the ",(0,o.kt)("inlineCode",{parentName:"p"},"id")," value from that block and paste it into your test."),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  Then the question id should be "some YAML block id!"\n')),(0,o.kt)("p",null,"This Step can help humans keep track of what page the tests are on. It will also show up in the test reports and can help you see where things went wrong."),(0,o.kt)("h2",{id:"alkiln_story"},"Generate a Story Table"),(0,o.kt)("p",null,"You can use the ",(0,o.kt)("a",{parentName:"p",href:"https://plocket.github.io/alkiln_story/"},"story table generator")," to generate a Scenario draft. Depending on your interview's code you might need to edit the table for it to work properly, but it can give you a good start."),(0,o.kt)("p",null,"Follow these instructions to use the generator:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"If you don't have one already, ",(0,o.kt)("a",{parentName:"li",href:"#how-do-i-add-a-new-test-file"},"add a new test file"),". You can leave out the Scenario."),(0,o.kt)("li",{parentName:"ol"},"Ensure your server config is set up to ",(0,o.kt)("a",{parentName:"li",href:"https://docassemble.org/docs/config.html#debug"},"show debug info"),"."),(0,o.kt)("li",{parentName:"ol"},"Run your interview manually until you reach the page you want the story table to get to."),(0,o.kt)("li",{parentName:"ol"},'Open the "source" display of the interview. Currently, that looks like angle brackets, ',(0,o.kt)("inlineCode",{parentName:"li"},"</>"),", in the header of the page."),(0,o.kt)("li",{parentName:"ol"},"Note the ",(0,o.kt)("inlineCode",{parentName:"li"},"id")," of the page."),(0,o.kt)("li",{parentName:"ol"},'Tap the "Show variables and values" button. It will open a new tab showing a big JSON object.'),(0,o.kt)("li",{parentName:"ol"},"Copy all the text on that page."),(0,o.kt)("li",{parentName:"ol"},"Go to the ",(0,o.kt)("a",{parentName:"li",href:"https://plocket.github.io/alkiln_story/"},"story table generator"),"."),(0,o.kt)("li",{parentName:"ol"},"Paste the JSON into the text area there, as instructed."),(0,o.kt)("li",{parentName:"ol"},"Use the other input fields to help finalize your Scenario, including the page ",(0,o.kt)("inlineCode",{parentName:"li"},"id"),"."),(0,o.kt)("li",{parentName:"ol"},"Copy the Scenario that has been generated for you."),(0,o.kt)("li",{parentName:"ol"},"Paste that into the already prepared test file.")),(0,o.kt)("h2",{id:"test-files"},"Test file anatomy"),(0,o.kt)("p",null,"Your tests files have the code that tells ALKiln how to answer questions in your interview and do other things. The code may look different than other code you have seen, but it is still code. It is still rigid and needs you to use the right syntax and spelling."),(0,o.kt)("p",null,"You should save your test files in your package's ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/playground.html#sources"},'"Sources" folder'),". If you used the ALKiln setup interview, there will already be a test there that just loads the interview."),(0,o.kt)("p",null,"In test files, you use ",(0,o.kt)("a",{parentName:"p",href:"https://cucumber.io/docs/gherkin/"},"Gherkin")," syntax and ",(0,o.kt)("a",{parentName:"p",href:"#gherkin-keywords"},"keywords"),(0,o.kt)("sup",{parentName:"p",id:"fnref-keywords"},(0,o.kt)("a",{parentName:"sup",href:"#fn-keywords",className:"footnote-ref"},"keywords"))," with ",(0,o.kt)("a",{parentName:"p",href:"#steps"},'specific "Steps" that the ALKiln framework has created')," for docassemble interviews."),(0,o.kt)("h3",{id:"new-file"},"Add a new test file"),(0,o.kt)("p",null,'Go to the Playground of your Project. Tap the "Folders" dropdown menu. Tap on Sources. Add a new file that ends in the extension ',(0,o.kt)("inlineCode",{parentName:"p"},".feature"),". For example, ",(0,o.kt)("inlineCode",{parentName:"p"},"has_children.feature"),"."),(0,o.kt)("p",null,"Add this to the blank file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'Feature: A description of the category of the tests you will write in this file\n\nScenario: The specific situation that this test is written for\n  Given I start the interview at "name_of_the_interview_file_to_test.yml"\n')),(0,o.kt)("p",null,"Change the parts you need to change. Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'Feature: I have children\n\nScenario: I allow unsupervised visitation\n  Given I start the interview at "protective_order.yml"\n')),(0,o.kt)("p",null,"You can then add the code for your tests."),(0,o.kt)("h3",{id:"file-rules"},"Some rules"),(0,o.kt)("p",null,"Here are some rules about test files:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"You can have as many test files as you want."),(0,o.kt)("li",{parentName:"ul"},"Each file can have one or more tests, called Scenarios or Scenario Outlines."),(0,o.kt)("li",{parentName:"ul"},"Each file's name ",(0,o.kt)("strong",{parentName:"li"},"must")," end in ",(0,o.kt)("inlineCode",{parentName:"li"},".feature")," because that is the extension of that type of file. For example, ",(0,o.kt)("inlineCode",{parentName:"li"},"user_has_children.feature"),"."),(0,o.kt)("li",{parentName:"ul"},"Each file ",(0,o.kt)("strong",{parentName:"li"},"must")," start with the keyword ",(0,o.kt)("inlineCode",{parentName:"li"},"Feature:")," or a tag followed by a new line and the ",(0,o.kt)("inlineCode",{parentName:"li"},"Feature:")," keyword."),(0,o.kt)("li",{parentName:"ul"},"Each file ",(0,o.kt)("strong",{parentName:"li"},"must")," contain only one ",(0,o.kt)("inlineCode",{parentName:"li"},"Feature:")," keyword."),(0,o.kt)("li",{parentName:"ul"},"You ",(0,o.kt)("strong",{parentName:"li"},"must")," use ",(0,o.kt)("strong",{parentName:"li"},"Gherkin")," syntax for your tests. ",(0,o.kt)("a",{parentName:"li",href:"https://cucumber.io/docs/gherkin/reference/"},"Gherkin's own documentation"),' is the best place to read about Gherkin syntax with some exceptions that you can read below. Ignore notes about "step definitions". Those are part of what ALKiln takes care of.')),(0,o.kt)("p",null,"To troubleshoot ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/trouble#gherkin"},"Gherkin synatx problems")," in your tests, use an editor like the one at ",(0,o.kt)("a",{parentName:"p",href:"https://www.assertthat.com/online-gherkin-editor"},"AssertThat"),". It will mark lines that have incorrect syntax. For example, if you have multiple ",(0,o.kt)("inlineCode",{parentName:"p"},"Feature")," keywords in your file, the editor should mark the second one as incorrect."),(0,o.kt)("h3",{id:"gherkin-keywords"},"Gherkin keywords"),(0,o.kt)("p",null,"ALKiln only allows you to use some Gherkin keywords. Those are:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://cucumber.io/docs/gherkin/reference/#feature"},(0,o.kt)("inlineCode",{parentName:"a"},"Feature:"))," - each file can only use one ",(0,o.kt)("inlineCode",{parentName:"li"},"Feature:")," keyword."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://cucumber.io/docs/gherkin/reference/#example"},(0,o.kt)("inlineCode",{parentName:"a"},"Scenario:"),"/",(0,o.kt)("inlineCode",{parentName:"a"},"Example:"))," - We recommend you use ",(0,o.kt)("inlineCode",{parentName:"li"},"Scenario"),". ",(0,o.kt)("strong",{parentName:"li"},"Make the ",(0,o.kt)("inlineCode",{parentName:"strong"},"Scenario")," descriptions unique")," because ALKiln will use them in the names of the reports it creates for you. This keyword is different from the plural ",(0,o.kt)("inlineCode",{parentName:"li"},"Examples"),"/",(0,o.kt)("inlineCode",{parentName:"li"},"Scenarios"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://cucumber.io/docs/gherkin/reference/#scenario-outline"},(0,o.kt)("inlineCode",{parentName:"a"},"Scenario Outline:"))," - Like a ",(0,o.kt)("inlineCode",{parentName:"li"},"Scenario"),", but it can contain ",(0,o.kt)("inlineCode",{parentName:"li"},"Examples"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://cucumber.io/docs/gherkin/reference/#examples"},(0,o.kt)("inlineCode",{parentName:"a"},"Examples:/Scenarios:"))," - We recommend you use ",(0,o.kt)("inlineCode",{parentName:"li"},"Examples"),". This can help you test translations, as shown below. When a ",(0,o.kt)("inlineCode",{parentName:"li"},"Scenario Outline")," has an ",(0,o.kt)("inlineCode",{parentName:"li"},"Examples")," table, the test will run at least once for each row in the table. This keyword is different from the singular ",(0,o.kt)("inlineCode",{parentName:"li"},"Scenario"),"/",(0,o.kt)("inlineCode",{parentName:"li"},"Example"),"."),(0,o.kt)("li",{parentName:"ul"},"Any of these keywords that can start a Step - ",(0,o.kt)("a",{parentName:"li",href:"https://cucumber.io/docs/gherkin/reference/#given"},(0,o.kt)("inlineCode",{parentName:"a"},"Given")),", ",(0,o.kt)("a",{parentName:"li",href:"https://cucumber.io/docs/gherkin/reference/#when"},(0,o.kt)("inlineCode",{parentName:"a"},"When")),", ",(0,o.kt)("a",{parentName:"li",href:"https://cucumber.io/docs/gherkin/reference/#then"},(0,o.kt)("inlineCode",{parentName:"a"},"Then")),", and ",(0,o.kt)("a",{parentName:"li",href:"https://cucumber.io/docs/gherkin/reference/#and"},(0,o.kt)("inlineCode",{parentName:"a"},"And")),". They look different, but that is for us humans. They can be used interchangeably.")),(0,o.kt)("admonition",{title:"Unique descriptions",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"It is useful to give a ",(0,o.kt)("inlineCode",{parentName:"p"},"Scenario")," or a ",(0,o.kt)("inlineCode",{parentName:"p"},"Scenario Outline")," a ",(0,o.kt)("a",{parentName:"p",href:"#scenario-descriptions"},"unique description that you can remember"),".")),(0,o.kt)("p",null,"ALKiln also lets you use:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@")," - ",(0,o.kt)("a",{parentName:"li",href:"#tags"},"Tags")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"#")," - Comments. They are a tiny bit different than python comments. They always have to be on their own line. The line can begin with zero or more spaces. You can use comments anywhere in your test file."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"|")," - ",(0,o.kt)("a",{parentName:"li",href:"https://cucumber.io/docs/gherkin/reference/#data-tables"},"Data tables"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},'"""')," - ",(0,o.kt)("a",{parentName:"li",href:"https://cucumber.io/docs/gherkin/reference/#doc-strings"},"Doc strings"),".")),(0,o.kt)("h3",{id:"gherkin-sampler"},"Sample test file"),(0,o.kt)("p",null,'We usually write test text as if it is from the perspective of the user. For example, "I wait" and "I start".'),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Some Steps, like the ",(0,o.kt)("a",{parentName:"p",href:"#phrase"},'"phrase" Step'),", are language-specific. You can still test translations with those Steps, though, if you use ",(0,o.kt)("inlineCode",{parentName:"p"},"Examples")," with ",(0,o.kt)("inlineCode",{parentName:"p"},"Scenario Outline"),". See the example below.")),(0,o.kt)("p",null,"Here is an example of a file that uses most of these features. The name of this file is ",(0,o.kt)("inlineCode",{parentName:"p"},"children.feature"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'@has_children\nFeature: I have children\n\n# This Scenario uses the Story Table Step. It lets you list the names of\n# the variables in any order you want.\n@disallow_visitation\nScenario: I disallow visitation\n  Given I go to the interview at "protective_order.yml"\n  And I get to the question id "what kind of visitation?" with this data:\n    | var | value |\n    | needs_allow_visitation | False |\n    | user_name | Jordan |\n    | user_has_children | True |\n  Then I should see the phrase "Jordan"\n\n# This test will run once for each row in the `Examples` table. The text\n# between the "<" and ">" is the name of a column in the `Examples` table.\n@allow_visitation\nScenario Outline: I allow visitation\n  Given I go to the interview at "<url>"\n  Then I should see the phrase "<name>"\n  When I set "user_name" to "Rea"\n  And I tap to continue\n  Then I should see the phrase "<greeting> Rea!"\n  And I set "user_has_children" to "True"\n  And I tap to continue\n  When I set "needs_allow_visitation" to "True"\n  Then I should see see the phrase "This form can help you with that"\n\n  Examples:\n    | url | name | greeting |\n    | protective_order.yml | Your name | Hello |\n    | protective_order.yml&lang=es | Tu nombre | Hol\xe1 |\n')),(0,o.kt)("h3",{id:"tags"},"Tags"),(0,o.kt)("p",null,"You can use ",(0,o.kt)("a",{parentName:"p",href:"https://cucumber.io/docs/cucumber/api/?lang=java#tags"},"Gherkin tags")," to choose to run only specific tests or files."),(0,o.kt)("p",null,"To use a tag expression for GitHub tests you can ",(0,o.kt)("a",{parentName:"p",href:"#trigger-github"},"trigger your tests")," manually. When you do that, GitHub will offer you a drop down where you can give some inputs for your test run. One of the optional fields there will let you write a tag expression if you want. You can also add a tag expression to your workflow file as an ",(0,o.kt)("a",{parentName:"p",href:"#optional-inputs"},"input"),"."),(0,o.kt)("p",null,"The ",(0,o.kt)(c.IO,{mdxType:"AutoDIY"})," test interview has a field where you can add a tag expression if you want."),(0,o.kt)("p",null,"To use tags, you must first add them to your ",(0,o.kt)("a",{parentName:"p",href:"#test-files"},"test files"),". You can add them above the ",(0,o.kt)("inlineCode",{parentName:"p"},"Feature")," keyword, or above ",(0,o.kt)("inlineCode",{parentName:"p"},"Scenario")," keywords, or both."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"@likes_bears\nFeature: I like bears\n\n@wild_bear @climbs_fast\nScenario: I like wild bears\n  # Test 1 Steps\n\n@cuddly_bear @climbs_fast\nScenario: I like cuddly bears\n  # Test 2 Steps...\n\n@maybe_not_a_bear\nScenario: I like Jaime\n  # Test 3 Steps...\n")),(0,o.kt)("p",null,"A ",(0,o.kt)("a",{parentName:"p",href:"https://cucumber.io/docs/cucumber/api/?lang=java#tag-expressions"},"tag expression")," is the magic formula an author can use to tell ALKiln which tests to run."),(0,o.kt)("p",null,"This documentation will only show some basics about tags. Based on the example test file above, these are some examples of tag expressions and which tests they will run:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Tag expression"),(0,o.kt)("th",{parentName:"tr",align:null},"What tests run?"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"@likes_bears"),(0,o.kt)("td",{parentName:"tr",align:null},"All tests in the file")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"@cuddly_bear"),(0,o.kt)("td",{parentName:"tr",align:null},"Test 2")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"@climbs_fast"),(0,o.kt)("td",{parentName:"tr",align:null},"Tests 1 and 2")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"@cuddly_bear or @maybe_not_a_bear"),(0,o.kt)("td",{parentName:"tr",align:null},"Tests 2 and 3")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"not @wild_bear"),(0,o.kt)("td",{parentName:"tr",align:null},"All tests in all test files in your package except test 1")))),(0,o.kt)("p",null,"Tests (Scenarios) can ",(0,o.kt)("a",{parentName:"p",href:"https://cucumber.io/docs/cucumber/api/?lang=java#tag-inheritance"},"inherit tags"),"."),(0,o.kt)("h2",{id:"workflows"},"GitHub workflow files"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for:")," all tests that run on GitHub. That is, ",(0,o.kt)(c.tD,{mdxType:"GTOYS"})," or ",(0,o.kt)(c.oc,{mdxType:"KittyLitter"})," tests."),(0,o.kt)("p",null,"Your ",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/actions/using-workflows/about-workflows"},"GitHub workflow")," file is what starts and controls a package's tests on GitHub. Only ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/setup#types"},"tests that run on GitHub")," need a workflow file. The file gives ALKiln some configuration information. You can use it to customize the ALKiln test runs and control when to trigger the GitHub tests."),(0,o.kt)("p",null,"This section has a lot of challenging technical information about GitHub workflow files. We will do our best to help. We would love to hear how we can improve."),(0,o.kt)("p",null,"You can use ",(0,o.kt)("a",{parentName:"p",href:"#workflow-inputs"},"workflow inputs")," to change global configuration settings for your ALKiln test runs."),(0,o.kt)("p",null,"You can use custom ",(0,o.kt)("a",{parentName:"p",href:"#env-vars"},"environment variables")," to set values in your tests. Those are especially useful for answers that need to use sensitive information."),(0,o.kt)("p",null,"For workflow security, see various sections in the ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/security"},"security documentation"),"."),(0,o.kt)("p",null,"GitHub's documentation can tell you many more ",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/actions/using-workflows"},"technical details about workflows"),"."),(0,o.kt)("h3",{id:"workflows-where"},"Where in GitHub is the file?"),(0,o.kt)("p",null,"Your ALKiln workflow file is in your package's GitHub repository. To find it, go to the repository to the ",(0,o.kt)("inlineCode",{parentName:"p"},".github")," folder, then open the ",(0,o.kt)("inlineCode",{parentName:"p"},"workflows"),' folder there. The workflow file there might be called "run_form_tests.yml" or "alkiln_tests.yml" or something similar.'),(0,o.kt)("h3",{id:"workflows-examples"},"Example files"),(0,o.kt)("p",null,"ALKiln's own workflow files are the most up-to-date, so using those as an example can be useful. Read carefully, though - those files have features that are unique to ALKiln, but they also have notes on how you can change them to what you need."),(0,o.kt)("p",null,"You can see ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/SuffolkLITLab/ALKiln/blob/-/.github/workflows/playground.yml"},"ALKiln's own version of the ",(0,o.kt)(c.tD,{plain:!0,mdxType:"GTOYS"})," test workflow file here"),"."),(0,o.kt)("p",null,"You can see ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/SuffolkLITLab/ALKiln/blob/-/.github/workflows/github_server.yml"},"ALKiln's own version of the ",(0,o.kt)(c.oc,{plain:!0,mdxType:"KittyLitter"})," test workflow file here"),"."),(0,o.kt)("h2",{id:"workflow-inputs"},"GitHub workflow inputs"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for:")," all tests that run on GitHub. That is, ",(0,o.kt)(c.tD,{mdxType:"GTOYS"})," or ",(0,o.kt)(c.oc,{mdxType:"KittyLitter"})," tests."),(0,o.kt)("p",null,"Workflow input values let you customize global ALKiln configuration settings."),(0,o.kt)("p",null,"This section is advanced and can be challenging for even experienced developers. Let us know how we can improve it."),(0,o.kt)("p",null,"For any input, you put the input's value under the ",(0,o.kt)("inlineCode",{parentName:"p"},"with")," in your workflow file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},'        with:\n          ALKILN_TAG_EXPRESSION: "@has_children"\n')),(0,o.kt)("p",null,"For the items that have values with sensitive information, you first create a ",(0,o.kt)("a",{parentName:"p",href:"#secrets"},"GitHub secret")," that stores the value. You then use that secret under the ",(0,o.kt)("inlineCode",{parentName:"p"},"with")," in your workflow file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},'        with:\n          DOCASSEMBLE_DEVELOPER_API_KEY: "${{ secrets.DOCASSEMBLE_DEVELOPER_API_KEY }}"\n          ALKILN_TAG_EXPRESSION: "@has_children"\n')),(0,o.kt)("h3",{id:"githubNyou-inputs"},"Required inputs for "," ",(0,o.kt)(c.tD,{mdxType:"GTOYS"})," tests"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for:")," ",(0,o.kt)(c.tD,{mdxType:"GTOYS"})," tests"),(0,o.kt)("p",null,"The ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/setup#recommended"},(0,o.kt)(c.tD,{plain:!0,mdxType:"GTOYS"})," test method")," workflow file has a few absolutely ",(0,o.kt)("strong",{parentName:"p"},"required")," inputs. The ",(0,o.kt)("a",{parentName:"p",href:"https://apps-dev.suffolklitlab.org/start/test-setup"},"ALKiln setup interview")," should create the secrets and workflow inputs for this type of test environment."),(0,o.kt)("p",null,"You can see examples of these inputs in the correct ",(0,o.kt)("a",{parentName:"p",href:"#workflows-examples"},"ALKiln file"),"."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"SERVER_URL")," is the url of ",(0,o.kt)("a",{parentName:"li",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/security#testing-server"},"your docassemble testing server")," - the server the tests should run on. You should store the value for this input in a ",(0,o.kt)("a",{parentName:"li",href:"#secrets"},"GitHub secret"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"DOCASSEMBLE_DEVELOPER_API_KEY")," is a developer API key for the ALKiln ",(0,o.kt)("a",{parentName:"li",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/security#test_accounts"},"testing account")," on your server. You should store the value for this input in a ",(0,o.kt)("a",{parentName:"li",href:"#secrets"},"GitHub secret"),".")),(0,o.kt)("p",null,"If you do not already have these secrets, add them to your package's repository or GitHub organization",(0,o.kt)("sup",{parentName:"p",id:"fnref-org"},(0,o.kt)("a",{parentName:"sup",href:"#fn-org",className:"footnote-ref"},"org")),"."),(0,o.kt)("p",null,"Use them the same way that the example workflow file uses them. They appear in 2 places."),(0,o.kt)("h3",{id:"sandbox-inputs"},"Required inputs for "," ",(0,o.kt)(c.oc,{mdxType:"KittyLitter"})," tests"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for:")," ",(0,o.kt)(c.oc,{mdxType:"KittyLitter"})," tests"),(0,o.kt)("p",null,"These are the only required inputs for ",(0,o.kt)(c.oc,{mdxType:"KittyLitter"})," tests. We are listing them here for the sake of completeness, but none of them need to be secrets and you can copy the correct values straight from ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/SuffolkLITLab/ALKiln/blob/-/.github/workflows/github_server.yml"},"ALKiln's own ",(0,o.kt)(c.oc,{plain:!0,mdxType:"KittyLitter"})," tests workflow file"),"."),(0,o.kt)("p",null,"You can see examples of these inputs in the correct ",(0,o.kt)("a",{parentName:"p",href:"#workflows-examples"},"ALKiln file"),"."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"SERVER_URL")," is the url of the new docassemble server GitHub just created. Use the value that an earlier step created. You can see that in the example file."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"DOCASSEMBLE_DEVELOPER_API_KEY")," is a developer API key for a developer on the new server. Use the value that an earlier step created. You can see that in the example file."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"INSTALL_METHOD")," is an internal value ALKiln needs from ",(0,o.kt)(c.oc,{mdxType:"KittyLitter"})," tests. The value in ALKiln's example file is the correct value.")),(0,o.kt)("h3",{id:"optional-inputs"},"Optional inputs for all GitHub tests"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for:")," all tests that run on GitHub. That is, ",(0,o.kt)(c.tD,{mdxType:"GTOYS"})," or ",(0,o.kt)(c.oc,{mdxType:"KittyLitter"})," tests."),(0,o.kt)("p",null,"You can add some optional inputs to the workflow file of any tests that run on GitHub to control global ALKiln configuration values."),(0,o.kt)("p",null,"The options are:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ALKILN_VERSION")," lets you use a specific version of the ALKiln framework for your tests. It can be useful for ",(0,o.kt)("a",{parentName:"li",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/security#freeze"},"security")," or for trying out experimental versions of the ALKiln framework. The default value is the latest version."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ALKILN_TAG_EXPRESSION"),' is the "tag expression" to use to limit which tests to run. These docs describe tags in the ',(0,o.kt)("a",{parentName:"li",href:"#gherkin-keywords"},"Gherkin keywords section"),". The default is no tag expression so that all the tests run."),(0,o.kt)("li",{parentName:"ul"},"(Extra Advanced) ",(0,o.kt)("inlineCode",{parentName:"li"},"DOCASSEMBLECLI_VERSION")," is the version of docassemblecli to install. If this means nothing to you then you can probably ignore it. You can also ask us about this.")),(0,o.kt)("p",null,"Use these inputs in the same way and in the same places as the required inputs. You can use non-secret values by just writing the value directly in the workflow file. For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},'        with:\n          ALKILN_TAG_EXPRESSION: "@has_children"\n')),(0,o.kt)(m,{mdxType:"WithSecretsForOrgs"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},'        with:\n          ALKILN_TAG_EXPRESSION: "${{ secrets.ALKILN_TAG_EXPRESSION }}"\n')),(0,o.kt)("h3",{id:"githubNyou-optional-inputs"},"Optional inputs just for "," ",(0,o.kt)(c.tD,{mdxType:"GTOYS"})," tests"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for:")," ",(0,o.kt)(c.tD,{mdxType:"GTOYS"})," tests"),(0,o.kt)("p",null,"You can add some optional inputs to the workflow file of any tests that run with the ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/setup#recommended"},(0,o.kt)(c.tD,{plain:!0,mdxType:"GTOYS"})," test method")," to control global ALKiln configuration values:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"MAX_SECONDS_FOR_SETUP")," is the maximum amount of time to give the Project to upload your package's GitHub code. If your server is slow, increase this value. The default is 120 seconds."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"SERVER_RELOAD_TIMEOUT_SECONDS")," is the maximum amount of time to give the server to reload while these tests are running. A server can reload for many reasons. A reload can make a test fail part-way through. If ALKiln waits long enough for the server to finish reloading, the next tests will get a chance to finish properly. The default maximum time is 150 seconds. If your server reloads more slowly, increase this value",(0,o.kt)("sup",{parentName:"li",id:"fnref-slow"},(0,o.kt)("a",{parentName:"sup",href:"#fn-slow",className:"footnote-ref"},"slow")),".")),(0,o.kt)("p",null,"Use these inputs in the same way and in the same places as the required inputs. You can use non-secret values by just writing the value directly in the workflow file. For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},"        with:\n          SERVER_RELOAD_TIMEOUT_SECONDS: 500\n")),(0,o.kt)(m,{mdxType:"WithSecretsForOrgs"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},'        with:\n          SERVER_RELOAD_TIMEOUT_SECONDS: "${{ secrets.MAX_SECONDS_FOR_SETUP }}"\n')),(0,o.kt)("h3",{id:"sandbox-optional-inputs"},"Optional inputs just for "," ",(0,o.kt)(c.oc,{mdxType:"KittyLitter"})," tests"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for:")," ",(0,o.kt)(c.oc,{mdxType:"KittyLitter"})," tests"),(0,o.kt)("p",null,"You can add some optional inputs to the workflow file of any ",(0,o.kt)(c.oc,{mdxType:"KittyLitter"})," tests to control global ALKiln configuration values. We note when an option should also be a GitHub secret for security reasons:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"CONFIG_CONTENTS")," is the contents of the ",(0,o.kt)("a",{parentName:"li",href:"https://docassemble.org/docs/config.html"},"docassemble config file")," for the new docassemble server GitHub will create. ",(0,o.kt)("strong",{parentName:"li"},"For security, we strongly recommend you put this information into a GitHub secret")," like ",(0,o.kt)("inlineCode",{parentName:"li"},"DOCASSEMBLE_DEVELOPER_API_KEY")," above. If you have special configuration settings on your own server, you can use input to include them and make this new fresh server more like your production server. The default is the default config that docassemble itself uses."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"SHOW_DOCKER_OUTPUT"),' you can give this the values "true" or "false". When you set it to "true", you will see more output when ALKiln creates the docker container and installs docassemble there. The output will be visible to anyone that can see the action running, like GitHub admins or collaborators. By default, it is "false". This is because our team is unsure about what information those logs might include, so we are unsure if it will show sensitive configuration information, like tokens and API keys.'),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"MAX_SECONDS_FOR_DOCKER")," is the maximum amount of time to give the docassemble docker container to get properly started. If your tests keep failing because your docker container is taking a long time to start, maybe because of configuration options, then you can increase this time. The default time is 600 seconds (10 min).")),(0,o.kt)("p",null,"Use these inputs in the same way and in the same places as the required inputs. You can use non-secret values by just writing the value directly in the workflow file. For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},"        with:\n          SHOW_DOCKER_OUTPUT: true\n")),(0,o.kt)(m,{mdxType:"WithSecretsForOrgs"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},'        with:\n          SHOW_DOCKER_OUTPUT: "${{ secrets.SHOW_DOCKER_OUTPUT }}"\n')),(0,o.kt)("h2",{id:"workflow-extras"},"GitHub workflow extras"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for:")," all tests that run on GitHub"),(0,o.kt)("p",null,"You can customize your GitHub workflows to run on a schedule, make GitHub issues when tests fail, and much more. We will give some examples other developers have found useful. To edit your workflow file:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Go to your GitHub repository"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"#workflows-where"},"Find your workflow file")),(0,o.kt)("li",{parentName:"ol"},"Tap to ",(0,o.kt)("a",{parentName:"li",href:"https://docs.github.com/en/repositories/working-with-files/managing-files/editing-files"},"start editing the file")),(0,o.kt)("li",{parentName:"ol"},"Follow instructions below to change your file")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/actions/using-workflows"},"GitHub's documentation can tell you much more about workflows"),"."),(0,o.kt)("h3",{id:"schedule-trigger"},"Schedule tests"),(0,o.kt)("p",null,"You can run GitHub tests on a schedule - daily, weekly, monthly, or on any other interval. To run the tests on a schedule, you must add ",(0,o.kt)("inlineCode",{parentName:"p"},"schedule")," to the ",(0,o.kt)("inlineCode",{parentName:"p"},"on"),'  object in your workflow file and give it an "interval" value. For example, these tests will get triggered by both a push (commit) and on a schedule every Tuesday:'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},'on:\n  schedule:\n    - cron: "0 1 * * TUE"\n  push:\n')),(0,o.kt)("p",null,"The GitHub docs can tell you more about ",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/actions/learn-github-actions/events-that-trigger-workflows#schedule"},"triggering workflows on a schedule"),". The special syntax defining the interval uses cron syntax. If you want to change the interval, ",(0,o.kt)("a",{parentName:"p",href:"https://crontab.guru/examples.html"},"these examples of cron syntax")," can help a lot."),(0,o.kt)("p",null,"You can read ",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/actions/using-workflows/triggering-a-workflow"},"GitHub's documentation about many other ways to trigger workflows"),"."),(0,o.kt)("h3",{id:"pr-trigger"},"Pull request tests"),(0,o.kt)("p",null,"You can trigger tests when someone makes a ",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests"},"pull request")," in GitHub."),(0,o.kt)("p",null,"To do this, add the ",(0,o.kt)("inlineCode",{parentName:"p"},"pull_request")," trigger key to the ",(0,o.kt)("inlineCode",{parentName:"p"},"on")," object in your workflow file. Give it no values at all. For example, these tests will get triggered by both a pull request and on a schedule:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},'on:\n  pull_request:\n  schedule:\n    - cron: "0 1 * * TUE"\n')),(0,o.kt)("p",null,"The ",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#pull_request"},"pull request trigger can have various values"),", but leaving it empty uses the default values. We have only ever needed the defaults and pull request values can be confusing to customize."),(0,o.kt)("admonition",{title:"Double trouble",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"If you use ",(0,o.kt)(c.tD,{mdxType:"GTOYS"})," tests and decide to trigger tests with both ",(0,o.kt)("inlineCode",{parentName:"p"},"push")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"pull_request")," you need to make sure that you avoid triggering both at the same time. When someone makes a pull request, changes some code, and then pushes to that pull request, both triggers will be... triggered. This is unnecessary and can cause ",(0,o.kt)(c.tD,{mdxType:"GTOYS"})," tests to fail."),(0,o.kt)("p",{parentName:"admonition"},"Use code like this to avoid running double tests:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-yml"},"jobs:\n  ALKiln tests:\n    if: (github.event_name != 'pull_request' && ! github.event.pull_request.head.repo.fork) || (github.event_name == 'pull_request' && github.event.pull_request.head.repo.fork)\n")),(0,o.kt)("p",{parentName:"admonition"},"See ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/IHaskell/IHaskell/blob/60a750f5b038a17717609d8a40be0fafd69e1c35/.github/workflows/stack.yml#L37"},"an example"),".")),(0,o.kt)("p",null,"You can read ",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/actions/using-workflows/triggering-a-workflow"},"GitHub's documentation about many other ways to trigger workflows"),"."),(0,o.kt)("h3",{id:"issue"},"Make a GitHub issue when tests fail"),(0,o.kt)("p",null,"To make a GitHub issue when tests fail, you can add the below code under the last line of text in the file. It might look like you need to create a GitHub secret for this, but you should avoid that. GitHub already has all these values."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},'      - name: "If tests failed create an issue"\n        if: ${{ failure() }}\n        uses: actions-ecosystem/action-create-issue@v1\n        with:\n          github_token: ${{ secrets.github_token }}\n          title: "ALKiln tests failed"\n          body: |\n            An ALKiln test failed. See the action at ${{ github.server_url }}/${{ github.repository }}/actions/runs/${{ github.run_id }}.\n          labels: |\n            bug\n')),(0,o.kt)("admonition",{title:"Avoid new secrets",type:"danger"},(0,o.kt)("p",{parentName:"admonition"},"Avoid changing the value ",(0,o.kt)("inlineCode",{parentName:"p"},"github_token")," and avoid creating a new secret for it. The variable ",(0,o.kt)("inlineCode",{parentName:"p"},"secrets.github_token")," is a value that your repository already has by default and it needs that value.")),(0,o.kt)("p",null,"If you use the code above, the ",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/issues/tracking-your-work-with-issues/about-issues"},"GitHub issue")," will automatically contain a link to the workflow with these failing tests."),(0,o.kt)("p",null,"You can edit the values of ",(0,o.kt)("inlineCode",{parentName:"p"},"title"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"body"),", and ",(0,o.kt)("inlineCode",{parentName:"p"},"labels")," to customize the issue."),(0,o.kt)("h2",{id:"env-vars"},"Environment variables"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for:")," Everyone"),(0,o.kt)("p",null,"Environment variables are one of the few ways for you to get information from GitHub or your server to ALKiln. (You do that in your ",(0,o.kt)("a",{parentName:"p",href:"#workflows"},"workflow file"),".)"),(0,o.kt)("p",null,"What is a variable?"),(0,o.kt)("p",null,'A "variable" is a name with a value. That name, a "variable name", lets the rest of the program ask for that value when needed.',(0,o.kt)("sup",{parentName:"p",id:"fnref-name"},(0,o.kt)("a",{parentName:"sup",href:"#fn-name",className:"footnote-ref"},"name"))," Like calling a kid in for dinner. That is close enough for what we need right now.",(0,o.kt)("sup",{parentName:"p",id:"fnref-vars"},(0,o.kt)("a",{parentName:"sup",href:"#fn-vars",className:"footnote-ref"},"vars"))),(0,o.kt)("p",null,"What are environment variables?"),(0,o.kt)("p",null,"Environment variables are variables that are available to the whole system - the whole environment the programs are working in. Like the town where that kid lives and where their house is. That means every test in your test suite can use that variable. You can call that kid in for dinner no matter where in the city they are."),(0,o.kt)("p",null,'Because environment variables are so global, we recommend you start all your environment variable names with "ALKILN_" so they have less chance to interfere with your system\'s other environment variables. If you are going to broadcast your message across the town, every kid should have a unique name so everyone knows who you are yelling at.'),(0,o.kt)("p",null,"In ",(0,o.kt)(c.IO,{mdxType:"AutoDIY"})," tests on your server, you put these values in your ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/config.html#configfile"},"config file")," under a key you can add called ",(0,o.kt)("inlineCode",{parentName:"p"},"alkiln"),". For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},'alkiln:\n  ALKILN_BEAR_SIZE: "small_bear"\n')),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"ALKILN_BEAR_SIZE")," is the name of the environment variable. ",(0,o.kt)("inlineCode",{parentName:"p"},'"small_bear"')," is the value of the environment variable. All the interviews on your server can see these config values, including the interview that runs your ",(0,o.kt)(c.IO,{mdxType:"AutoDIY"})," tests, so you are actually setting these values for all the tests that you run on your server with ",(0,o.kt)(c.IO,{mdxType:"AutoDIY"})," tests."),(0,o.kt)("p",null,"In GitHub, you can make ",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/actions/learn-github-actions/variables#defining-environment-variables-for-a-single-workflow"},"GitHub workflow environment variables")," by putting them in the ",(0,o.kt)("inlineCode",{parentName:"p"},"env")," key in your ",(0,o.kt)("a",{parentName:"p",href:"#workflows"},"workflow file"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},'# other code\n\nenv:\n  ALKILN_BEAR_SIZE: "small_bear"\n\njob:\n  # other code\n')),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"ALKILN_BEAR_SIZE")," is the name of the environment variable. ",(0,o.kt)("inlineCode",{parentName:"p"},'"small_bear"')," is the value of the environment variable. In GitHub, there are different places to put ",(0,o.kt)("inlineCode",{parentName:"p"},"env"),", so don't worry if you see them in other places in other people's files."),(0,o.kt)("p",null,"You can combine environment variables with ",(0,o.kt)("a",{parentName:"p",href:"#secrets"},"GitHub secrets")," to set sensitive information in your tests. Also, a GitHub organization can combine environment variables with ",(0,o.kt)("a",{parentName:"p",href:"#secrets"},"GitHub secrets")," to get a value to all the test suites in all the organization's repositories."),(0,o.kt)(p.ZP,{mdxType:"SecureEnvVars"}),(0,o.kt)("h2",{id:"secrets"},"GitHub secrets"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for:")," owners of GitHub repositories or organizations"),(0,o.kt)("p",null,"Shhh, don't tell anyone else - a secret is a value GitHub encrypts for you. Not even you can see a secret in GitHub after you create it. In fact, ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/security#github-redacts-secrets"},"GitHub redacts those values from your workflow logs"),"."),(0,o.kt)("p",null,"You can ",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/actions/security-guides/using-secrets-in-github-actions#creating-secrets-for-a-repository"},"make secrets for individual GitHub repositories")," or you can ",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/actions/security-guides/using-secrets-in-github-actions#creating-secrets-for-an-organization"},"make secrets for your whole GitHub organization"),". Once you have made the secrets, you might use them in combination with GitHub ",(0,o.kt)("a",{parentName:"p",href:"#env-vars"},"environment variables")," and for multiple reasons:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Secrets are useful for creating values with sensitive information since no one can see those values. For example, with the ",(0,o.kt)("a",{parentName:"p",href:"#sign-in"},'"sign in" Step'),". Here is one example of using a secret in a workflow file:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-yml"},'# other code\n\nenv:\n  ALKILN_USER_EMAIL: "${{ secrets.ALKILN_USER_EMAIL }}"\n  ALKILN_USER_PASSWORD: "${{ secrets.ALKILN_USER_PASSWORD }}"\n\njob:\n  # other code\n')),(0,o.kt)("p",{parentName:"li"},"Remember to create a ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/security#test_accounts"},"separate account"),' for that "user". ',(0,o.kt)("span",{id:"org-secrets"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"GitHub secrets are useful for sharing values between GitHub organization repositories. All the repositories of a GitHub organization can see its secrets, so you can affect all of those repositories at once from one location."),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Example situation"),(0,o.kt)("div",null,(0,o.kt)("p",{parentName:"li"},"  For example, suppose Mo'nique has a GitHub organization named PolarisLaw. That organization has several repositories. Every test in every repository uses the value \"small","_",'bear" as an answer to a question. Next month, though, the firm might need to change that value to "large',"_","bear\". Mo'nique would have to edit that value in every test in every repository. Instead, she makes a GitHub secret in the PolarisLaw account called ",(0,o.kt)("inlineCode",{parentName:"p"},"ALKILN_BEAR_SIZE")," and sets it to ",(0,o.kt)("inlineCode",{parentName:"p"},"small_bear"),". Then she uses it in an environment variable she puts in all the workflow files in all the repositories."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-yml"},'env:\n  ALKILN_BEAR_SIZE: "${{ secrets.ALKILN_BEAR_SIZE }}"\n')),(0,o.kt)("p",{parentName:"li"},"  She can then use that environment variable in her tests:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  I set the variable "bear_size" to the GitHub secret "ALKILN_BEAR_SIZE"\n')),(0,o.kt)("p",{parentName:"li"},"  Next month, if PolarisLaw needs to change that value, Mo'nique can just edit the value of that secret and change it to ",(0,o.kt)("inlineCode",{parentName:"p"},"large_bear"),". All the tests will use the new value without her changing   anything else."))))),(0,o.kt)("p",null,"Why not create secrets on your server for ",(0,o.kt)(c.IO,{mdxType:"AutoDIY"})," tests? On your server all config values are already secret because only authorized people can see them, so they are just like any other ",(0,o.kt)("a",{parentName:"p",href:"#env-vars"},"environment variable"),". And all of your server's interviews can see and share those config values already. I know, not quite as exciting."),(0,o.kt)("h2",{id:"run"},"Running tests"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for:")," Everyone"),(0,o.kt)("p",null,"This section will talk about ways to start (trigger) ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/setup#types"},"different types of tests")," and will describe the journey of an ALKiln test run, from starting up to cleaning up."),(0,o.kt)("h3",{id:"trigger-tests"},"Triggering tests"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for:")," Everyone"),(0,o.kt)("p",null,"You control when your tests run and which tests run. How you do that depends on the ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/setup#types"},"type of test")," you are using.",(0,o.kt)("span",{id:"trigger-github"})),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)(c.tD,{mdxType:"GTOYS"})," and ",(0,o.kt)(c.oc,{mdxType:"KittyLitter"})," tests:")),(0,o.kt)("p",null,"By default, you can trigger tests on GitHub by committing your edits to your repository or by running the tests manually."),(0,o.kt)("p",null,"The ALKiln setup interview gives you a default ",(0,o.kt)("a",{parentName:"p",href:"#workflows"},"workflow file")," that triggers GitHub tests when you commit your files to GitHub. That might be when you hit the 'Commit' button on the docassemble Packages page. It can also happen when you edit, add, or delete files in GitHub itself. Most authors go through this process:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Edit the package's files in a Project on the docassemble server"),(0,o.kt)("li",{parentName:"ol"},'On your Project\'s "Packages" page, ',(0,o.kt)("a",{parentName:"li",href:"https://docassemble.org/docs/development.html#versioncontrol"},"commit the changes to GitHub")),(0,o.kt)("li",{parentName:"ol"},'Go to the repository in GitHub and tap on the "Actions" tab to ',(0,o.kt)("a",{parentName:"li",href:"https://docs.github.com/en/actions/quickstart#viewing-your-workflow-results"},"see the tests running"))),(0,o.kt)("p",null,"You can use your ",(0,o.kt)("a",{parentName:"p",href:"#workflows"},"workflow file")," to customize some ALKiln test run settings."),(0,o.kt)("p",null,"You can also ",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/actions/using-workflows/manually-running-a-workflow#running-a-workflow"},"trigger your tests manually"),". When you run your tests manually, you can use ",(0,o.kt)("a",{parentName:"p",href:"#tags"},"tags")," to limit which tests to run. You can also ",(0,o.kt)("a",{parentName:"p",href:"#optional-inputs"},"use tags in your workflow file"),"."),(0,o.kt)("p",null,"You can also edit your workflow file to ",(0,o.kt)("a",{parentName:"p",href:"#workflow-extras"},"trigger your GitHub tests other ways"),".",(0,o.kt)("span",{id:"trigger-autodiy"})),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)(c.IO,{mdxType:"AutoDIY"})," tests:")),(0,o.kt)("p",null,"You can run ",(0,o.kt)(c.IO,{mdxType:"AutoDIY"})," tests manually whenever you want to."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Make sure you are logged into your docassemble ",(0,o.kt)("a",{parentName:"li",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/security#testing-server"},"testing server"),"."),(0,o.kt)("li",{parentName:"ol"},"Go to your server's list of available interviews."),(0,o.kt)("li",{parentName:"ol"},"Run the ALKiln interview that you or someone else ",(0,o.kt)("a",{parentName:"li",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/setup#diy-how-to"},"installed on your server"),"."),(0,o.kt)("li",{parentName:"ol"},"On the first page, make sure you have the right version of ALKiln installed (usually the latest version) or install a different version."),(0,o.kt)("li",{parentName:"ol"},"On the next page, pick a Project that already has tests in its Sources folder. If it has no tests, ",(0,o.kt)("a",{parentName:"li",href:"#new-file"},"add a new test"),". It can be like the ",(0,o.kt)("a",{parentName:"li",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/setup#first-test"},"example first test"),"."),(0,o.kt)("li",{parentName:"ol"},"If you want to limit which tests to run, use a ",(0,o.kt)("a",{parentName:"li",href:"#tags"},"tag expression")," in the tag expression field."),(0,o.kt)("li",{parentName:"ol"},"Run the tests and wait for the ",(0,o.kt)("a",{parentName:"li",href:"#artifacts"},"output"),".")),(0,o.kt)("h3",{id:"gNy-stages"}," ",(0,o.kt)(c.tD,{mdxType:"GTOYS"})," test stages"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for:")," ",(0,o.kt)(c.tD,{mdxType:"GTOYS"})," tests"),(0,o.kt)("p",null,"The ",(0,o.kt)(c.tD,{mdxType:"GTOYS"})," tests are made of three stages: the setup, the robot, and the take down."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Setup:")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"ALKiln goes to ",(0,o.kt)("a",{parentName:"li",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/security#test-accounts"},"its account")," and creates a new Project."),(0,o.kt)("li",{parentName:"ol"},"It uploads the relevant GitHub branch of your package into the Project.")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Robot:")),(0,o.kt)(g,{base_url:"the url of ALKiln's Project in its account's Playground",mdxType:"RobotStage"}),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Take down:")),(0,o.kt)("p",null,"When all the tests finish, ALKiln cleans up the tests."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"ALKiln deletes the Project it created from ",(0,o.kt)("a",{parentName:"li",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/security#test-accounts"},"ALKiln's account"),"."),(0,o.kt)("li",{parentName:"ol"},"It makes the ",(0,o.kt)("a",{parentName:"li",href:"#artifacts"},"test output"),", like the report and Scenario folders.")),(0,o.kt)("h3",{id:"diy-stages"}," ",(0,o.kt)(c.IO,{mdxType:"AutoDIY"})," test stages"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for:")," ",(0,o.kt)(c.IO,{mdxType:"AutoDIY"})," tests"),(0,o.kt)("p",null,"When ",(0,o.kt)(c.IO,{mdxType:"AutoDIY"})," tests run, they have two stages: the robot and the output."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Robot:")),(0,o.kt)(g,{base_url:"the url of your Project in your Playground",mdxType:"RobotStage"}),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Output:")),(0,o.kt)("p",null,"When all the tests finish, ALKiln cleans up the tests. It creates the ",(0,o.kt)("a",{parentName:"p",href:"#results"},"test output")," to show on the final page."),(0,o.kt)("h3",{id:"sandbox-stages"}," ",(0,o.kt)(c.oc,{mdxType:"KittyLitter"})," test stages"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for:")," ",(0,o.kt)(c.oc,{mdxType:"KittyLitter"})," tests"),(0,o.kt)("p",null,"The ",(0,o.kt)(c.oc,{mdxType:"KittyLitter"})," tests are made of three stages: the setup, the robot, and the take down."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Setup:")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"ALKiln creates a new docker container on GitHub."),(0,o.kt)("li",{parentName:"ol"},"It installs docassemble on that new docker container. If the ",(0,o.kt)("a",{parentName:"li",href:"#sandbox-optional-inputs"},"input ",(0,o.kt)("inlineCode",{parentName:"a"},"CONFIG_CONTENTS"))," is defined, ALKiln uses that value for the config. Otherwise, it installs docassemble with the default config."),(0,o.kt)("li",{parentName:"ol"},"ALKiln waits for docassemble to finish enough that it can load up the new server's website properly."),(0,o.kt)("li",{parentName:"ol"},"ALKiln installs your package as a server package on that new server.")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Robot:")),(0,o.kt)(g,{base_url:"the new isolated server's url on GitHub",mdxType:"RobotStage"}),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Take down:")),(0,o.kt)("p",null,"When all the tests finish, ALKiln cleans up the tests."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"The digital space where GitHub was running the server gets deleted, taking the new server and container with it."),(0,o.kt)("li",{parentName:"ol"},"ALKiln makes the ",(0,o.kt)("a",{parentName:"li",href:"#artifacts"},"test output"),", like the report and Scenario folders.")),(0,o.kt)("h3",{id:"running-data"},"What can I see while tests are running?"),(0,o.kt)("p",null,"In GitHub, on ",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/actions/quickstart#viewing-your-workflow-results"},"the actions page and related pages"),' of your repository, you can see your workflow status ("check") and logs about the current test processes. On the actions page itself, under "All workflows", your current workflow should have the message/description you wrote for that last commit next to the name of the branch you worked on. On those various pages you can see:'),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"How long a workflow has been running."),(0,o.kt)("li",{parentName:"ul"},"A yellow dot next to the current workflow."),(0,o.kt)("li",{parentName:"ul"},"You can see ",(0,o.kt)("a",{parentName:"li",href:"#console"},"information about the running processes")," in the job's log (or console) as GitHub writes it.")),(0,o.kt)("p",null,"The ",(0,o.kt)(c.IO,{mdxType:"AutoDIY"})," tests show a waiting screen with how long the tests have been running, though we can add a yellow dot if enough users request it."),(0,o.kt)("h3",{id:"end-status"},"What can I see when the tests end?"),(0,o.kt)("p",null,'In GitHub, when the test run is done the yellow dot will change into a green circle with a check mark if the tests passed or a red circle with an "x" if something went wrong.'),(0,o.kt)("p",null,"In GitHub and with ",(0,o.kt)(c.IO,{mdxType:"AutoDIY"})," tests, you will see the ",(0,o.kt)("a",{parentName:"p",href:"#results"},"results"),"."),(0,o.kt)("h3",{id:"rerun"},"Failures get re-run once"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for:")," all tests that run on GitHub."),(0,o.kt)("p",null,"All tests that fail will get run a second time. These retries can make tests take double the time, but they can also help with ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/trouble#flake"},"flaky failing tests")," caused by ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/trouble#slow"},"server reloads"),", which means you are more likely to be able to count on your results to give you real feedback."),(0,o.kt)("p",null,"Currently, there is no way to choose whether to re-run tests or not."),(0,o.kt)("h2",{id:"results"},"Test results overview"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for:")," all tests."),(0,o.kt)("p",null,"After your tests are done, there are different ways to look at the results of those tests. You can see:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#console"},"Job/console logs"),": All the information about the processes that ran before, during, and after the tests"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#artifacts"},"Artifacts"),": The reports and other files ALKiln creates to give you more information about successes and failures")),(0,o.kt)("p",null,"You can read more about ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/trouble"},"errors and troubleshooting in other documentation"),"."),(0,o.kt)("h2",{id:"console"},"Test logs"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for"),": all tests"),(0,o.kt)("p",null,"The console (in GitHub called the job log) shows the full raw output of the logs of the processes that ran before, during, and after the tests."),(0,o.kt)("p",null,"In GitHub, you can see the test run's console at the ",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/actions/quickstart#viewing-your-workflow-results"},"workflow's job logs"),". You can see these messages appear as each process happens as well as after the tests finish running."),(0,o.kt)("p",null,"In ",(0,o.kt)(c.IO,{mdxType:"AutoDIY"})," tests, you can only see the console output after tests are done. They should be at the bottom of the final page."),(0,o.kt)("p",null,"The console output should include at least one of these items, from top to bottom:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Data from the start up processes, where errors can happen too."),(0,o.kt)("li",{parentName:"ol"},"A list of each Scenario (test) description next to symbols that show what happened in that test:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},".")," - a Step ran. Also, the test started or finished."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"*")," - the test set a page variable."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"v")," - the test pressed a continue button to set a variable."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},">")," - a Story table row automatically continued."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"U"),' - an "undefined" Step tried to run. This usually shows up when you have a ',(0,o.kt)("a",{parentName:"li",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/trouble#step-undefined"},"typo in a Step you wrote"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"F")," - a test failed.")),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"The ",(0,o.kt)("a",{parentName:"li",href:"#report"},"ALKiln report"),"."),(0,o.kt)("li",{parentName:"ol"},"Any errors from ",(0,o.kt)("a",{parentName:"li",href:"#dependencies"},"the third-party libraries ALKiln uses"),". We are keeping the errors from the third-party libraries until we handle all cases of the errors ourselves."),(0,o.kt)("li",{parentName:"ol"},"How many tests pass or failed."),(0,o.kt)("li",{parentName:"ol"},"In GitHub, data from the take-down processes as ALKiln and GitHub clean up.")),(0,o.kt)("h2",{id:"artifacts"},"Test output/artifacts"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"This is for"),": all tests"),(0,o.kt)("p",null,'Once the tests are finished, ALKiln creates the test run "artifacts" - files and folders you can examine, like an archaeologist, to understand what happened.'),(0,o.kt)("p",null,"If the test start up process failed, ALKiln will be ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/trouble#no-artifacts"},"unable to create artifacts"),"."),(0,o.kt)("p",null,(0,o.kt)("img",{src:b(),className:`${l.Z["w-75p"]} ${l.Z.center}`,alt:"When the archaeologists opened the ancient vase, little did they know what primeval dark power they had unleashed. A cat in a terracota vase."})),(0,o.kt)("p",null,"-"," Text by ",(0,o.kt)("a",{parentName:"p",href:"https://twitter.com/Thinkwert/status/1428488345357856777"},"@Thinkwert"),(0,o.kt)("sup",{parentName:"p",id:"fnref-text"},(0,o.kt)("a",{parentName:"sup",href:"#fn-text",className:"footnote-ref"},"text")),"\n","-"," Image by ",(0,o.kt)("a",{parentName:"p",href:"https://old.reddit.com/user/PerspectiveFriendly"},"PerspectiveFriendly"),(0,o.kt)("sup",{parentName:"p",id:"fnref-img"},(0,o.kt)("a",{parentName:"sup",href:"#fn-img",className:"footnote-ref"},"img"))),(0,o.kt)("p",null,"In GitHub, you can ",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/actions/managing-workflow-runs/downloading-workflow-artifacts"},"download a zip of these artifacts"),"."),(0,o.kt)("p",null,"For ",(0,o.kt)(c.IO,{mdxType:"AutoDIY"})," tests, you can see and download the artifacts on the final page. The page is very plain at the moment and we hope to add more useful styles and indicators in the future. The page includes:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"The name of the Project you tested."),(0,o.kt)("li",{parentName:"ul"},"The version of ALKiln the tests used. This is the version that is installed on your docassemble server."),(0,o.kt)("li",{parentName:"ul"},"How long it took the tests to run."),(0,o.kt)("li",{parentName:"ul"},"A link to download the zip file with all the artifacts."),(0,o.kt)("li",{parentName:"ul"},"The ",(0,o.kt)("a",{parentName:"li",href:"#report"},"report file"),"."),(0,o.kt)("li",{parentName:"ul"},"The ",(0,o.kt)("a",{parentName:"li",href:"#debug-log"},"debug log file"),"."),(0,o.kt)("li",{parentName:"ul"},"Any ",(0,o.kt)("a",{parentName:"li",href:"#error-pics"},"pictures of error screens, along with that screen's HTML file"),"."),(0,o.kt)("li",{parentName:"ul"},"A list of Scenarios with the ",(0,o.kt)("a",{parentName:"li",href:"#scenario-artifacts"},"contents of their Scenario folders"),"."),(0,o.kt)("li",{parentName:"ul"},"The test ",(0,o.kt)("a",{parentName:"li",href:"#console"},"console logs"),". ")),(0,o.kt)("p",null,"On that page, when you click on the link to a file, you will see that file in a new browser window and can download it there."),(0,o.kt)("p",null,"For all tests, the main artifact folder contains all the other artifacts. Its name includes the time the tests started in UTC format. When in GitHub, GitHub wraps the folder up in a zip file. The zip file's name includes the UTC time that the GitHub run started."),(0,o.kt)("p",null,"The ALKiln folder contains these files and folders:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#report"},"report.txt")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#debug-log"},"debug_log.txt")),(0,o.kt)("li",{parentName:"ul"},"Copies of all ",(0,o.kt)("a",{parentName:"li",href:"#error-pics"},"screenshots and HTML files")," of pages all that caused errors"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#scenario-artifacts"},"Scenario folders")," which have:",(0,o.kt)(f,{mdxType:"ScenarioDir"}))),(0,o.kt)("h3",{id:"report"},"report.txt"),(0,o.kt)("p",null,"The report is the first place to look when a test fails. There are two places to find reports."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Inside the main folder is the summary report containing all Scenario logs and results in one file"),(0,o.kt)("li",{parentName:"ol"},"In each Scenario folder is a report that only shows the logs and results for that test")),(0,o.kt)("p",null,"The summary report is made up of multiple parts"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"The heading that includes the date of the test run"),(0,o.kt)("li",{parentName:"ul"},'The "failed" Scenarios section that has the logs and results for each failed Scenario'),(0,o.kt)("li",{parentName:"ul"},'The "passed" Scenarios section that has the logs and results for each passed Scenario')),(0,o.kt)("p",null,"A report might look something like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-txt"},'Assembly Line Kiln Automated Testing Report - Wed, 29 Dec 2021 17:49:00 GMT\n\n\n===============================\n===============================\nFailed scenarios:\n\n---------------\nScenario: I dislike bears\n---------------\nTrying to load the interview at "https://server.org/interview?new_session=1&i=docassemble.playgroundplayground25BearNecessitiesmain1707019219591%3Abears_and_you.yml"\nscreen id: bear_opinion\n      | likes_bears | False |\n\nERROR: The question id was supposed to be "all done", but it\'s actually "favorite_bear_types".\n**-- Scenario Failed --**\n\n\n===============================\n===============================\nPassed scenarios:\n\n---------------\nScenario: I like wild bears\n---------------\nTrying to load the interview at "https://server.org/interview?new_session=1&i=docassemble.playgroundplayground25BearNecessitiesmain1707019219591%3Abears_and_you.yml"\nscreen id: bear_opinion\nAccessibility on direct-standard-fields passed!\n      | likes_bears | True |\nscreen id: favorite_bear_types\nAccessibility on direct-standard-fields passed!\n      | favorite_bears | wild_bear |\n\n  Rows that got set:\n    And I get to the question id "screen features" with this data:\n      | var | value |\n      | likes_bears | True |\n      | favorite_bears | wild_bear |\n  Unused rows:\n      | user_climbing_speed | very fast |\n')),(0,o.kt)("admonition",{title:"Unused rows",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Even Scenarios that ",(0,o.kt)("strong",{parentName:"p"},"pass"),' might have a section called "Unused rows" at the bottom of its part of the report, as you see above. ',(0,o.kt)("a",{parentName:"p",href:"#unused-rows"},"A Story Table will skip rows")," if it is unable to find any matching fields. That might mean that something actually did go wrong with the test.")),(0,o.kt)("p",null,"ALKiln currently only shows logs for some Steps, including:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#a11y"},"Accessibility checks")),(0,o.kt)("li",{parentName:"ul"},"The ",(0,o.kt)("a",{parentName:"li",href:"#story-table"},"Story Table")," and ",(0,o.kt)("a",{parentName:"li",href:"#set"},'"I set"')," Steps"),(0,o.kt)("li",{parentName:"ul"},"The ",(0,o.kt)("a",{parentName:"li",href:"#get-json"},'"get JSON" Step'))),(0,o.kt)("p",null,"When you set variables, ALKiln will try to log the question ids for each page it comes to. Under each ",(0,o.kt)("inlineCode",{parentName:"p"},"screen id")," will be the names of the variables whose fields ALKiln set and the values ALKiln set them to."),(0,o.kt)("p",null,"We're always trying to understand what people would find helpful in these reports. Tell us about your experiences at ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/SuffolkLITLab/ALKiln/issues"},"https://github.com/SuffolkLITLab/ALKiln/issues"),"."),(0,o.kt)("h3",{id:"debug-log"},"debug_log.txt"),(0,o.kt)("p",null,"The debug_log.txt has the same content as ",(0,o.kt)("a",{parentName:"p",href:"#report"},"report.txt"),", but a bit messier. It is messy because it writes the information right away, while the tests are actually running, instead of waiting to make them pretty at the end like the report does. This is so it can store the data immediately. If something goes wrong in the middle the tests, those logs will still be there. For example, you might stop the tests early. This way you should still get some data from whatever tests did run."),(0,o.kt)("h3",{id:"scenario-artifacts"},"Scenario folder"),(0,o.kt)("p",null,"Each Scenario (test) has its own folder. A Scenario's folder contains its report, its errors, and the files you downloaded or created in that Scenario."),(0,o.kt)("p",null,"The folder's name uses its Scenario description. That is one reason you should ",(0,o.kt)("a",{parentName:"p",href:"#scenario-descriptions"},"make each Scenario description different"),". The folder contains:"),(0,o.kt)(f,{mdxType:"ScenarioDir"}),(0,o.kt)("h3",{id:"error-pics"},"Error pics and HTML"),(0,o.kt)("p",null,"ALKiln will try to take pictures of pages that run into errors. They are like the pictures you take with the ",(0,o.kt)("a",{parentName:"p",href:"#pic"},'"picture" Step'),". As you can read there, each time ALKiln takes a picture, it also saves the HTML of the page."),(0,o.kt)("p",null,"ALKiln avoids making these files for pages that use ",(0,o.kt)("a",{parentName:"p",href:"#env-vars"},"environment variables"),", even when they error, because environment variables can contain sensitive information."),(0,o.kt)("p",null,"These error files are one of the first places to look for clues about what might have gone wrong."),(0,o.kt)("p",null,"The files appear in 2 places:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Directly in the main folder. This is so you can have a quick look without digging through all the Scenario folders. Here the file names use the Scenario description and the id of the page where the error happened."),(0,o.kt)("li",{parentName:"ul"},"In the ",(0,o.kt)("a",{parentName:"li",href:"#scenario-artifacts"},"Scenario folder"),". Here the file names use just the id of the page where the error happened.")),(0,o.kt)("p",null,"In those pictures you might see that a required file was missing, see why ALKiln was unable to continue to the next page, notice a missing phrase, or many other details. You can read more about ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/trouble"},"errors and troubleshooting in other documentation"),"."),(0,o.kt)("p",null,"You can read more about these files in the section about the ",(0,o.kt)("a",{parentName:"p",href:"#pic"},'"picture" Step'),"."),(0,o.kt)("h2",{id:"tips"},"Tips"),(0,o.kt)("p",null,"Some of these are just good practices to follow when coding your interviews."),(0,o.kt)("h3",{id:"id-tip"},"Question id"),(0,o.kt)("p",null,"Add a ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/modifiers.html#id"},"unique id")," to each ",(0,o.kt)("inlineCode",{parentName:"p"},"question")," block of your interview. Those help make ",(0,o.kt)("a",{parentName:"p",href:"#report"},"some kinds of test output")," more clear."),(0,o.kt)("p",null,"They have other uses too. ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/modifiers.html#id"},"Block ids are helpful for docassemble features and caching issues"),". They can also help your team communicate with each other about your code more easily."),(0,o.kt)("h3",{id:"scenario-descriptions"},"Write unique Scenario descriptions"),(0,o.kt)("p",null,"You write each Scenario's description in your ",(0,o.kt)("a",{parentName:"p",href:"#test-files"},"test files"),". ALKiln includes those descriptions in the names of ",(0,o.kt)("a",{parentName:"p",href:"#scenario-artifacts"},"test output folders"),", ",(0,o.kt)("a",{parentName:"p",href:"#error-pics"},"error screenshot files"),", and ",(0,o.kt)("a",{parentName:"p",href:"#report"},"report")," headings, so try to write something different for each one - something that will help you later. It will help you identify what happened with each test."),(0,o.kt)("h3",{id:"html-tip"},"Special HTML"),(0,o.kt)("p",null,"If your package is leaving out the al_package.yml file from the Assembly Line package, make sure to add some ",(0,o.kt)("a",{parentName:"p",href:"#special-html"},"special ALKiln-specific HTML")," to your interview to let ALKiln work right."),(0,o.kt)("h3",{id:"unstable-tip"},"Testing unfinished code"),(0,o.kt)("p",null,"If you are still developing your interview, you can still write a ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/setup/#first-test"},"simple test")," to make sure your interview at least loads without an error. You might want to wait till your code is more stable to write more tests."),(0,o.kt)("p",null,"On the other hand, if there is a part of your interview that you think will stay pretty much the same, you can write tests that just go part-way through the interview to test just the stable part of the code. That way, you can work on adding more content and yet also be sure that the work you've already done stays working."),(0,o.kt)("h3",{id:"reuse-tip"},"Recycle, reuse"),(0,o.kt)("p",null,"Copy old Scenarios or Story Tables to help you make new ones. You don't have to make everything from scratch."),(0,o.kt)("h3",{id:"choice-values-tip"},"Values of choices"),(0,o.kt)("p",null,"In questions with choices, use both labels and values. See ",(0,o.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/fields.html#field%20with%20buttons"},"docassemble's documentation on buttons")," to read about those key-value pairs. The key is the label and the value is... the value ! You can use this for other fields with choices, like radio buttons."),(0,o.kt)("admonition",{title:"Unhelpful",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Just labels:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"fields:\n  - Favorite color: favorite_color\n    datatype: radio\n    choices:\n      - Grape\n      - Lilac\n"))),(0,o.kt)("p",null,"The test:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I set the variable "favorite_color" to "Lilac"\n')),(0,o.kt)("p",null,"Every time you edit those labels to improve the text for your users, you will have to update the values in your tests:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"fields:\n  - Favorite color: favorite_color\n    datatype: radio\n    choices:\n      - Grape\n      - Dark lilac\n")),(0,o.kt)("p",null,"The edited test:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I set the variable "favorite_color" to "Dark lilac"\n')),(0,o.kt)("admonition",{title:"Better",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Better with labels and values:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"fields:\n  - Favorite color: favorite_color\n    datatype: radio\n    choices:\n      - Grape: purple1\n      - Lilac: purple2\n"))),(0,o.kt)("p",null,'If your user chooses "Lilac", docassemble will set ',(0,o.kt)("inlineCode",{parentName:"p"},"favorite_color")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"purple2"),"."),(0,o.kt)("p",null,"The test:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I set the variable "favorite_color" to "purple2"\n')),(0,o.kt)("p",null,"When you have both labels and values you can edit what the user sees without worrying about your tests, so the tests are easier to maintain."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"fields:\n  - Favorite color: favorite_color\n    datatype: radio\n    choices:\n      - \ud83c\udf47 Grape: purple1\n      - \ud83d\udd2e Dark lilac: purple2\n")),(0,o.kt)("p",null,"The test stays the same:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  And I set the variable "favorite_color" to "purple2"\n')),(0,o.kt)("p",null,"The value can even be the same as the label if you want:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"fields:\n  - Favorite color: favorite_color\n    datatype: radio\n    choices:\n      - Grape: Grape\n      - Lilac: Lilac\n")),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"As a bonus, using labels and values also makes your interview easier to translate. If you use only labels, translations will break your code.")),(0,o.kt)("h3",{id:"quotes"},"Quotes"),(0,o.kt)("p",null,"Many blanks you need to fill in for Steps need to be inside ",(0,o.kt)("a",{parentName:"p",href:"https://www.compart.com/en/unicode/U+0022"},"double quotation marks"),". You ",(0,o.kt)("strong",{parentName:"p"},"must avoid")," ever using double quotation marks inside those."),(0,o.kt)("p",null,"This is usually fine for test authors. Read about ",(0,o.kt)("a",{parentName:"p",href:"#special-chars"},"special characters")," to learn why."),(0,o.kt)("h3",{id:"special-chars"},"Special page characters"),(0,o.kt)("p",null,"The text that docassemble shows the user - the text our tests need most often - is different than the text we write in our interview YAML file. Docassemble converts those characters to more semantically correct characters for the user. For example, in our code we write:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},'subquestion: |\n  This is called "relief"\n')),(0,o.kt)("p",null,"That subquestion text uses the character ",(0,o.kt)("inlineCode",{parentName:"p"},'"'),". The official name for this character is ",(0,o.kt)("a",{parentName:"p",href:"https://www.compart.com/en/unicode/U+0022"},'"Quotation mark" and its unicode value is U+0022'),"."),(0,o.kt)("p",null,"When docassemble shows that page to the user, it changes the first ",(0,o.kt)("inlineCode",{parentName:"p"},'"')," to a ",(0,o.kt)("a",{parentName:"p",href:"https://www.compart.com/en/unicode/U+201C"},'"left double quotation mark" with a unicode value of U+201C'),": ",(0,o.kt)("inlineCode",{parentName:"p"},"\u201c"),". It changes the second ",(0,o.kt)("inlineCode",{parentName:"p"},'"')," to a ",(0,o.kt)("a",{parentName:"p",href:"https://www.compart.com/en/unicode/U+201D"},'"right double quotation mark" with a unicode value of U+201D'),": ",(0,o.kt)("inlineCode",{parentName:"p"},"\u201d")),(0,o.kt)("p",null,"The final text comes out looking more like this on the page:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"This is called \u201crelief\u201d\n")),(0,o.kt)("p",null,"They look similar to most humans, but computers think they look quite different."),(0,o.kt)("p",null,"Docassemble does this for many other characters including single quotes and ellipses. It is best to copy/paste text your tests need ",(0,o.kt)("strong",{parentName:"p"},"straight from the screen the user sees"),"."),(0,o.kt)("h3",{id:"add-tags"},"Add a tag to each test"),(0,o.kt)("p",null,"Add a ",(0,o.kt)("a",{parentName:"p",href:"#tags"},"tag")," to each of your tests so later you can pick specific tests to run. That way, if just one test is failing, you can avoid having to run all the tests just to find out what is going on in that one test."),(0,o.kt)("h2",{id:"faq"},"Frequently asked questions (FAQ)"),(0,o.kt)("p",null,"Always ask more questions!"),(0,o.kt)("h3",{id:"private-repo"},"I have a private GitHub repository. Can I use ALKiln?"),(0,o.kt)("p",null,"Yes, you can use ALKiln with a private repository, though you have to do a bit of extra work."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Pick a GitHub account that has permission to change the private repository."),(0,o.kt)("li",{parentName:"ol"},"Make sure the account on your docassemble server that you linked to the tests is integrated with the GitHub account. See ",(0,o.kt)("a",{parentName:"li",href:"https://docassemble.org/docs/packages.html#github"},"docassemble's documentation on integrating a GitHub account"),".")),(0,o.kt)("p",null,"As that documentation explains, no two accounts on a docassemble server can be connected to the same GitHub account."),(0,o.kt)("p",null,"Also, there are some ",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions"},"limits on the amount of time private repositories can use to run workflows")),(0,o.kt)("h3",{id:"every-var"},"Do I have to fill in every field?"),(0,o.kt)("p",null,"No. If you leave a required field blank, though, the test will get stuck on that page."),(0,o.kt)("h3",{id:"quota"},"Will GitHub charge me?"),(0,o.kt)("p",null,"It is unlikely you will run enough tests for GitHub to charge you. ",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/actions/learn-github-actions/usage-limits-billing-and-administration"},"GitHub's quota limits")," are very big, especially for public repositories."),(0,o.kt)("h3",{id:"analytics"},"Will ALKiln tests affect my analytics?"),(0,o.kt)("p",null,"No, none of the tests types can affect your analytics. ",(0,o.kt)(c.tD,{mdxType:"GTOYS"})," and ",(0,o.kt)(c.IO,{mdxType:"AutoDIY"})," tests both use interviews that are in the developer's Playground, not ones that are installed on your server. ",(0,o.kt)(c.oc,{mdxType:"KittyLitter"})," tests run on their own isolated server, not your server, so your analytics software knows nothing about them."),(0,o.kt)("h3",{id:"no-data-collection"},"Does ALKiln collect my data?"),(0,o.kt)("p",null,"No, there is no way in which ALKiln collects your data or data from your tests. There are other services out of our control that do track your use of ALKiln. For example, GitHub keeps track of what repositories use ALKiln's code and ",(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/"},"npm")," keeps track of how many (unnamed) packages download ALKiln."),(0,o.kt)("p",null,"On that note, who is still using ALKiln version 4.11.2?! Update!"),(0,o.kt)("h3",{id:"open-issues"},"ALKiln has a lot of open issues"),(0,o.kt)("p",null,"That is very true."),(0,o.kt)("p",null,"Some projects use issues just for bugs. We use ours for everything - ideas for enhancements, research, internal testing, documentation, discussions, and the list goes on. We have a lot of those with more coming in all the time, and not much time to work on them, so they do build up."),(0,o.kt)("p",null,"Also bugs, of course. We take care of ",(0,o.kt)("a",{parentName:"p",href:"/docassemble-AssemblyLine-documentation/docs/alkiln/security#report"},"security bugs")," as soon as we find them. We take care of bugs that are having a big impact on our users as quickly as we can. We take care of smaller bugs when we have time, but sometimes spend that time on improving other parts of the project instead."),(0,o.kt)("p",null,"We do wish it looked prettier, though."),(0,o.kt)("h3",{id:"compare-docx"},"Can I compare docx files?"),(0,o.kt)("p",null,"Not yet. You can use ALKiln to ",(0,o.kt)("a",{parentName:"p",href:"#compare-files"},"compare PDF files")," to make sure they have come out right, but not .docx files yet. It is on the list of features we want to build."),(0,o.kt)("div",{className:"footnotes"},(0,o.kt)("hr",{parentName:"div"}),(0,o.kt)("ol",{parentName:"div"},(0,o.kt)("li",{parentName:"ol",id:"fn-meh"},"We are still working on finding a more descriptive name. Suggestions are welcome.",(0,o.kt)("a",{parentName:"li",href:"#fnref-meh",className:"footnote-backref"},"\u21a9")),(0,o.kt)("li",{parentName:"ol",id:"fn-id"},"You can find the question ",(0,o.kt)("inlineCode",{parentName:"li"},"id")," in your interview YAML in the ",(0,o.kt)("inlineCode",{parentName:"li"},"question")," block of that page. It is a ",(0,o.kt)("a",{parentName:"li",href:"#id-tip"},"good idea for every ",(0,o.kt)("inlineCode",{parentName:"a"},"question")," block in your interview to have a unique id"),". It can be useful for other blocks too.",(0,o.kt)("a",{parentName:"li",href:"#fnref-id",className:"footnote-backref"},"\u21a9")),(0,o.kt)("li",{parentName:"ol",id:"fn-d-time"},"Technically, the file will keep downloading until the test ends.",(0,o.kt)("a",{parentName:"li",href:"#fnref-d-time",className:"footnote-backref"},"\u21a9")),(0,o.kt)("li",{parentName:"ol",id:"fn-keywords"},"Keywords are specific words that have a special meaning and purpose when you use them in specific places in your test code. They are similar to the words ",(0,o.kt)("inlineCode",{parentName:"li"},"else")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"not")," in python.",(0,o.kt)("a",{parentName:"li",href:"#fnref-keywords",className:"footnote-backref"},"\u21a9")),(0,o.kt)("li",{parentName:"ol",id:"fn-org"},"If your server is part of a GitHub organization, we recommend creating some of these values as organization secrets. That way, if you need to change the value of an input or environment variable you can do it one place.",(0,o.kt)("a",{parentName:"li",href:"#fnref-org",className:"footnote-backref"},"\u21a9")),(0,o.kt)("li",{parentName:"ol",id:"fn-slow"},"This also sometimes affects tests that fail due to genuine errors. Sadly, these types of failures look the same to ALKiln as a server reloading. That means that increasing the maximum server reload time will make some kinds of tests take an extra long time to fail.",(0,o.kt)("a",{parentName:"li",href:"#fnref-slow",className:"footnote-backref"},"\u21a9")),(0,o.kt)("li",{parentName:"ol",id:"fn-name"},'You might notice people also using the word "variable" to mean "variable name".',(0,o.kt)("a",{parentName:"li",href:"#fnref-name",className:"footnote-backref"},"\u21a9")),(0,o.kt)("li",{parentName:"ol",id:"fn-vars"},'A variable name is only sort of a label for a value. It is actually more like a label for a box and in that box is the value. You can change the value that\'s in the box and as long as the box and name stay the same, the program is happy. It will use whatever is in that box. Even that is a little bit untrue because in some languages, it is impossible to change the value in the box. Those variables are called "immutable".',(0,o.kt)("a",{parentName:"li",href:"#fnref-vars",className:"footnote-backref"},"\u21a9")),(0,o.kt)("li",{parentName:"ol",id:"fn-text"},"Name unknown ","[@Thinkwert]",". (2021, Aug 19). ",(0,o.kt)("em",{parentName:"li"},"When the archaeologists opened the ancient vase, little did they know what primeval dark power they had unleashed.")," ","[Tweet]",". Twitter. ",(0,o.kt)("a",{parentName:"li",href:"https://twitter.com/Thinkwert/status/1428488345357856777"},"https://twitter.com/Thinkwert/status/1428488345357856777"),(0,o.kt)("a",{parentName:"li",href:"#fnref-text",className:"footnote-backref"},"\u21a9")),(0,o.kt)("li",{parentName:"ol",id:"fn-img"},'PerspectiveFriendly. "I\'m waiting to bloom." Reddit, 08/29/2020, ',(0,o.kt)("a",{parentName:"li",href:"https://old.reddit.com/r/aww/comments/iit3ze/im_waiting_to_bloom/"},"https://old.reddit.com/r/aww/comments/iit3ze/im_waiting_to_bloom/"),".",(0,o.kt)("a",{parentName:"li",href:"#fnref-img",className:"footnote-backref"},"\u21a9")))))}x.isMDXComponent=!0},1958:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n={medium_width:"medium_width_N29Y","w-75p":"w-75p_n1UG",center:"center_nRkL"}}}]);