"use strict";(self.webpackChunkdocassemble_assembly_line_documentation=self.webpackChunkdocassemble_assembly_line_documentation||[]).push([[8324],{4137:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>h});var n=o(7294);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)o=s[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)o=s[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var l=n.createContext({}),u=function(e){var t=n.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},c=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var o=e.components,a=e.mdxType,s=e.originalType,l=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),m=u(o),d=a,h=m["".concat(l,".").concat(d)]||m[d]||p[d]||s;return o?n.createElement(h,i(i({ref:t},c),{},{components:o})):n.createElement(h,i({ref:t},c))}));function h(e,t){var o=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=o.length,i=new Array(s);i[0]=d;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r[m]="string"==typeof e?e:a,i[1]=r;for(var u=2;u<s;u++)i[u]=o[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}d.displayName="MDXCreateElement"},4657:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>s,metadata:()=>r,toc:()=>u});var n=o(7462),a=(o(7294),o(4137));const s={id:"customization_overview",title:"Applying a custom theme or brand",sidebar_label:"Applying a custom theme or brand",slug:"/customization/overview"},i=void 0,r={unversionedId:"customization/customization_overview",id:"customization/customization_overview",title:"Applying a custom theme or brand",description:"Sharing a custom look and feel across multiple Assembly Line interviews",source:"@site/docs/customization/customization_overview.md",sourceDirName:"customization",slug:"/customization/overview",permalink:"/docassemble-AssemblyLine-documentation/docs/customization/overview",draft:!1,editUrl:"https://github.com/SuffolkLITLab/docassemble-AssemblyLine-documentation/edit/main/docs/customization/customization_overview.md",tags:[],version:"current",frontMatter:{id:"customization_overview",title:"Applying a custom theme or brand",sidebar_label:"Applying a custom theme or brand",slug:"/customization/overview"},sidebar:"mainSidebar",previous:{title:"Step-by-step",permalink:"/docassemble-AssemblyLine-documentation/docs/assembly_line_steps/steps"},next:{title:"Installation",permalink:"/docassemble-AssemblyLine-documentation/docs/installation"}},l={},u=[{value:"Sharing a custom look and feel across multiple Assembly Line interviews",id:"sharing-a-custom-look-and-feel-across-multiple-assembly-line-interviews",level:2},{value:"Visual customization",id:"visual-customization",level:2},{value:"Customizing the logo and title for Assembly Line interviews",id:"customizing-the-logo-and-title-for-assembly-line-interviews",level:3},{value:"Creating a custom CSS theme with Bootstrap.build",id:"creating-a-custom-css-theme-with-bootstrapbuild",level:3},{value:"Creating a custom theme from source instead of with a theme generator",id:"creating-a-custom-theme-from-source-instead-of-with-a-theme-generator",level:3},{value:"Running node and npm to build a Bootstrap config (optional)",id:"running-node-and-npm-to-build-a-bootstrap-config-optional",level:4},{value:"Using custom fonts in the frontend",id:"using-custom-fonts-in-the-frontend",level:3},{value:"Using custom fonts when creating PDF files from DOCX templates",id:"using-custom-fonts-when-creating-pdf-files-from-docx-templates",level:3}],c={toc:u};function m(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"sharing-a-custom-look-and-feel-across-multiple-assembly-line-interviews"},"Sharing a custom look and feel across multiple Assembly Line interviews"),(0,a.kt)("p",null,"The ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/SuffolkLITLab/docassemble-ALThemeTemplate"},"ALThemeTemplate"),'\nrepository is a template for a "brand" package that you can use for your own organization.'),(0,a.kt)("h2",{id:"visual-customization"},"Visual customization"),(0,a.kt)("p",null,"You can customize Docassemble, and Assembly Line interviews, with a Bootstrap 5 theme."),(0,a.kt)("h3",{id:"customizing-the-logo-and-title-for-assembly-line-interviews"},"Customizing the logo and title for Assembly Line interviews"),(0,a.kt)("p",null,"You should also customize the:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docassemble-AssemblyLine-documentation/docs/framework/magic_variables#al_organization_title"},"Title")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docassemble-AssemblyLine-documentation/docs/framework/magic_variables#al_organization_homepage"},"Home page")),(0,a.kt)("li",{parentName:"ul"},"and ",(0,a.kt)("a",{parentName:"li",href:"/docassemble-AssemblyLine-documentation/docs/framework/magic_variables#al_logo"},"logo"))),(0,a.kt)("h3",{id:"creating-a-custom-css-theme-with-bootstrapbuild"},"Creating a custom CSS theme with Bootstrap.build"),(0,a.kt)("p",null,"If you want to build a custom theme, encompassing colors, fonts, button styles and other\noptions that are configurable with css, you can:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"build one from Bootstrap 5 source"),(0,a.kt)("li",{parentName:"ol"},"start with a theme generator tool like ",(0,a.kt)("a",{parentName:"li",href:"https://bootstrap.build/"},"bootstrap.build"),"\nand in some cases, add some custom CSS to make it work with Docassemble.")),(0,a.kt)("p",null,"Using bootstrap.build is the simplest option for most authors."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Visit the ",(0,a.kt)("a",{parentName:"li",href:"https://bootstrap.build/"},"bootstrap.build")," website."),(0,a.kt)("li",{parentName:"ol"},"Click the button to open the Builder"),(0,a.kt)("li",{parentName:"ol"},"Customize the options that you want to customize. Typically those will include:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Under color system, the $gray/$blue/etc. colors, if you use a matching color in your theme"),(0,a.kt)("li",{parentName:"ul"},"Under color system, almost always the variables ",(0,a.kt)("inlineCode",{parentName:"li"},"primary"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"secondary"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"success"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"info"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"warning"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"danger"),",\n",(0,a.kt)("inlineCode",{parentName:"li"},"light")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"dark")),(0,a.kt)("li",{parentName:"ul"},"Under Typography, customize any fonts that you wish to use"),(0,a.kt)("li",{parentName:"ul"},"Under forms, you may want to customize button size and rounded edges"))),(0,a.kt)("li",{parentName:"ol"},'Click the "export theme" button (it may be hidden behind a banner at the top of the page) and choose the\n"bootstrap.min.css" option. Rename this theme to be more specific. Optionally, download the ',(0,a.kt)("inlineCode",{parentName:"li"},"_variables.scss")," file\nso that you can easily load and adjust your settings in future.")),(0,a.kt)("p",null,"Next, you will need to make a small adjustment to the theme generated by bootstrap.build.\nCopy and paste the code below into the ",(0,a.kt)("inlineCode",{parentName:"p"},"bootstrap.min.css")," file (or your new file name)."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-css"},".visually-hidden {\n    clip: rect(0 0 0 0);\n    clip-path: inset(50%);\n    height: 1px;\n    overflow: hidden;\n    position: absolute;\n    white-space: nowrap;\n    width: 1px;\n}\n  \n.bg-dark {\n  background-color: #1a73e8!important;  /* replace with your desired nav bar color */\n}\n")),(0,a.kt)("p",null,"Add this theme to your Docassemble playground using the Folders | Static menu."),(0,a.kt)("p",null,"You can then reference your new file by adding a bootstrap theme feature to your interview:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"features:\n  bootstrap theme: bootstrap.min.css\n")),(0,a.kt)("h3",{id:"creating-a-custom-theme-from-source-instead-of-with-a-theme-generator"},"Creating a custom theme from source instead of with a theme generator"),(0,a.kt)("p",null,"While the above instructions to use bootstrap.build can work well in most\ncircumstances, you may run into small interface bugs introduced by the theme\ngenerator. If you prefer more control over building the theme, you can create\na custom theme from the bootstrap source code. The Bootstrap documentation\n",(0,a.kt)("a",{parentName:"p",href:"https://getbootstrap.com/docs/5.1/customize/overview"},"covers the details of theming"),"\nif you want to take this approach."),(0,a.kt)("p",null,"Create a new ",(0,a.kt)("inlineCode",{parentName:"p"},"custom.scss")," file anywhere on your computer to contain the SASS/CSS styles for your branding.\nDetailed instructions on what this file can contain are in the ",(0,a.kt)("a",{parentName:"p",href:"https://getbootstrap.com/docs/5.1/customize/sass/#importing"},"Bootstrap\ndocumentation"),"."),(0,a.kt)("p",null,"You can use a ",(0,a.kt)("a",{parentName:"p",href:"https://huemint.com/bootstrap-basic/"},"color theme generator")," like\n",(0,a.kt)("a",{parentName:"p",href:"https://huemint.com/bootstrap-basic/"},"Huemint.com")," to make sure that you have a\nconsistent set of all 9 Bootstrap variables. When you use the color theme\ngenerator, at the bottom of the page, you will see a small snippet of code that\nyou can copy into the ",(0,a.kt)("inlineCode",{parentName:"p"},"customs.scss")," file."),(0,a.kt)("p",null,"For example, your new ",(0,a.kt)("inlineCode",{parentName:"p"},"custom.scss")," might look like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-scss"},'// Custom.scss\n// Option A: Include all of Bootstrap\n\n// Include any default variable overrides here (though functions won\'t be available)\n\n$white: #ffffff;\n\n$theme-colors: (\n    "light":      #d8e2a5,\n    "dark":       #1b1b1b,\n    "primary":    #25dec6,\n    "secondary":  #375b5a,\n    "info":       #d74d72,\n    "success":    #0cb545,\n    "warning":    #f4ca0b,\n    "danger":     #fa043c,\n);\n\n// Note: we placed our custom.scss file in the bootstrap path for simplicity,\n// so we use a different path than in the bootstrap documentation\n// @import "../node_modules/bootstrap/scss/bootstrap";\n@import "bootstrap";\n\n// Then add additional custom code here\n')),(0,a.kt)("p",null,"Once you have written your ",(0,a.kt)("inlineCode",{parentName:"p"},"custom.scss")," file, you can use the\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/SuffolkLITLab/docassemble-ALDashboard"},"ALDashboard")," (which you can ",(0,a.kt)("a",{parentName:"p",href:"https://suffolklitlab.org/docassemble-AssemblyLine-documentation/docs/installation#install-aldashboard"},"install on\nyour docassemble server"),")\nto compile a custom Bootstrap theme. If you are associated with the Suffolk LITLab and have an account on\nthe Suffolk Development server, you can visit a ",(0,a.kt)("a",{parentName:"p",href:"https://apps-dev.suffolklitlab.org/start/ALDashboard/compile_bootstrap"},"live version of the tool"),"\nto try it out."),(0,a.kt)("p",null,"At the end of the tool, download the compiled file, and then add it\na docassemble project, in the ",(0,a.kt)("inlineCode",{parentName:"p"},"static")," folder. You can then reference your new file\nby adding a ",(0,a.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/initial.html#bootstrap%20theme"},"bootstrap theme feature")," to your interview:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"features:\n  bootstrap theme: my_bootstrap_theme.css\n")),(0,a.kt)("h4",{id:"running-node-and-npm-to-build-a-bootstrap-config-optional"},"Running node and npm to build a Bootstrap config (optional)"),(0,a.kt)("p",null,"If you don't have access to a docassemble server yourself, you can\nalso compile a bootstrap theme from source using node and npm."),(0,a.kt)("p",null,"Use a computer with a ",(0,a.kt)("a",{parentName:"p",href:"https://nodejs.dev/en/"},"current version of Node"),".\nThe instructions on this page\nassume you are using an Ubuntu Linux computer with Node installed, but they\nshould be the same on any workstation. They were tested on a machine running\nWindows 11 with Ubuntu running under Windows Subsystem for Linux (WSL)."),(0,a.kt)("p",null,"It also assumes that you have VS Code installed, but you can use any text\neditor of your choice."),(0,a.kt)("p",null,"First, ",(0,a.kt)("a",{parentName:"p",href:"https://getbootstrap.com/docs/5.1/getting-started/download/"},"download the Bootstrap source"),",\nand install its dependencies. As of this writing, the latest version you should use is 5.1.3."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"wget https://github.com/twbs/bootstrap/releases/download/v5.1.3/bootstrap-5.1.3-dist.zip\nunzip bootstrap-5.1.3-dist.zip\ncd bootstrap-5.1.3\nnpm install\n")),(0,a.kt)("p",null,"Place the ",(0,a.kt)("inlineCode",{parentName:"p"},"custom.scss")," file you wrote from ",(0,a.kt)("a",{parentName:"p",href:"#creating-a-custom-theme-from-source-instead-of-with-a-theme-generator"},"the above section"),"\nin the unzipped bootstrap-5.1.3 folder, and use ",(0,a.kt)("inlineCode",{parentName:"p"},"npm")," to compile the theme file."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"cd ~/bootstrap-5.1.3\nnpm run css-compile\n")),(0,a.kt)("p",null,"Your new ",(0,a.kt)("inlineCode",{parentName:"p"},"custom.css")," file is in the\n",(0,a.kt)("inlineCode",{parentName:"p"},"~/bootstrap-5.1.3/dist/css")," directory. Copy this file to your Docassemble\n",(0,a.kt)("inlineCode",{parentName:"p"},"static")," folder and reference it as a ",(0,a.kt)("inlineCode",{parentName:"p"},"bootstrap theme"),"."),(0,a.kt)("h3",{id:"using-custom-fonts-in-the-frontend"},"Using custom fonts in the frontend"),(0,a.kt)("p",null,"You can use custom webfonts with Docassemble, just like you can with any other web\nproduct."),(0,a.kt)("p",null,"This ",(0,a.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Learn/CSS/Styling_text/Web_fonts"},"Mozilla guide about web\nfonts"),"\nis a good place to start."),(0,a.kt)("p",null,"If you do not already have a .woff or .woff2 file but you do have a TrueType\n(TTF) or OpenType (OTF) file that you are licensed to distribute, you can create\none with a ",(0,a.kt)("a",{parentName:"p",href:"https://www.fontsquirrel.com/tools/webfont-generator"},"free online web font\ntool"),"."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Once you have a .woff file, upload it to the /static folder of a Docassemble playground."),(0,a.kt)("li",{parentName:"ol"},"Add an ",(0,a.kt)("inlineCode",{parentName:"li"},"@font-face")," directive to your bootstrap.css file (or a separate CSS file that you\nreference in the ",(0,a.kt)("inlineCode",{parentName:"li"},"features")," block of your interview)")),(0,a.kt)("p",null,"You cannot include Mako tags in your CSS file, so in order to use the new font face, you should\nadd it to a Docassemble package and then install the package on your server."),(0,a.kt)("p",null,"Example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-css"},"@font-face {\n    font-family: 'my_font';\n    src: url('/packagestatic/docassemble.MyTheme/my_font.woff2') format('woff2'),\n         url('/packagestatic/docassemble.MyTheme/my_font.woff') format('woff');\n    font-weight: normal;\n    font-style: normal;\n}\n")),(0,a.kt)("p",null,"In the example above, MyTheme is a Docassemble package that is installed\nserver-wide. my_font is both the name of a web font and the name of the WOFF file."),(0,a.kt)("h3",{id:"using-custom-fonts-when-creating-pdf-files-from-docx-templates"},"Using custom fonts when creating PDF files from DOCX templates"),(0,a.kt)("p",null,"If you would like to use a font ",(0,a.kt)("strong",{parentName:"p"},"other than")," the Microsoft fonts popular in\nthe late 1990s-2000 era (Arial, Times New Roman, Courier) then you will need to\ninstall the fonts on your Docassemble server."),(0,a.kt)("p",null,"Make sure that you have a license for each font you want to install."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Locate the .otf or .ttf file representing the font that you want to use\ninside your Word template (note that these are often in c:\\windows\\fonts",")"),(0,a.kt)("li",{parentName:"ol"},"Copy the font to your docassemble server"),(0,a.kt)("li",{parentName:"ol"},"Copy the font inside the docker container"),(0,a.kt)("li",{parentName:"ol"},"reset the font cache"),(0,a.kt)("li",{parentName:"ol"},"restart the docassemble supervisor processes")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"scp ~/myfont.ttf apps.example.com:\nssh apps.example.com\ndocker cp myfont.ttf mycontainer:/usr/share/fonts\ndocker exec mycontainer /bin/bash\nfc-cache -f -v\nsupervisorctl restart uwsgi\nsupervisorctl start reset\nsupervisorctl -s http://localhost:9001 restart unoconv\n")),(0,a.kt)("p",null,"Instead of copying the fonts to /usr/share/fonts, you could likely copy\nthem to ",(0,a.kt)("inlineCode",{parentName:"p"},"/var/www/.fonts"),". This has the advantage of being writable by the\nweb process from a Python module."),(0,a.kt)("p",null,"If the font still does not appear to be installed (try generating a PDF with the\ncustom font),you may need to do a ",(0,a.kt)("inlineCode",{parentName:"p"},"docker stop -t 600 mycontainer")," followed by a\n",(0,a.kt)("inlineCode",{parentName:"p"},"docker start mycontainer"),"."))}m.isMDXComponent=!0}}]);