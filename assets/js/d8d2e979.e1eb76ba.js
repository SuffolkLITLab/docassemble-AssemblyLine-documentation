"use strict";(self.webpackChunkdocassemble_assembly_line_documentation=self.webpackChunkdocassemble_assembly_line_documentation||[]).push([[239],{4462:(e,o,n)=>{n.d(o,{A:()=>t});const t=n.p+"assets/images/dashboard-bootstrap-example-b61dc18100ea064951d5482a15c0d5a3.png"},5341:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>r,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"components/ALThemeTemplate/althemetemplate_overview","title":"Customizing look and feel\\n","description":"Sharing a custom look and feel across multiple Assembly Line interviews","source":"@site/docs/components/ALThemeTemplate/althemetemplate_overview.md","sourceDirName":"components/ALThemeTemplate","slug":"/components/ALThemeTemplate/overview","permalink":"/docs/components/ALThemeTemplate/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/SuffolkLITLab/docassemble-AssemblyLine-documentation/edit/main/docs/components/ALThemeTemplate/althemetemplate_overview.md","tags":[],"version":"current","frontMatter":{"id":"althemetemplate_overview","title":"Customizing look and feel\\n","sidebar_label":"Customizing look and feel","slug":"overview"},"sidebar":"docs","previous":{"title":"ALToolbox.llms","permalink":"/docs/components/ALToolbox/llms"},"next":{"title":"RateMyPDF","permalink":"/docs/components/RateMyPDF/overview"}}');var s=n(4848),i=n(8453);const a={id:"althemetemplate_overview",title:"Customizing look and feel\n",sidebar_label:"Customizing look and feel",slug:"overview"},l=void 0,r={},c=[{value:"Sharing a custom look and feel across multiple Assembly Line interviews",id:"sharing-a-custom-look-and-feel-across-multiple-assembly-line-interviews",level:2},{value:"Visual customization",id:"visual-customization",level:2},{value:"Customizing the logo and title for Assembly Line interviews",id:"customizing-the-logo-and-title-for-assembly-line-interviews",level:3},{value:"Creating a custom theme",id:"creating-a-custom-theme",level:3},{value:"Use Huemint to make a .scss file that customizes colors only",id:"use-huemint-to-make-a-scss-file-that-customizes-colors-only",level:4},{value:"Or use Bootstrap.build to customize fonts, buttons, and more",id:"or-use-bootstrapbuild-to-customize-fonts-buttons-and-more",level:4},{value:"Compile your theme using the ALDashboard tool",id:"compile-your-theme-using-the-aldashboard-tool",level:4},{value:"Running node and npm to build a Bootstrap config (optional)",id:"running-node-and-npm-to-build-a-bootstrap-config-optional",level:4},{value:"Overriding the favicon for a single interview",id:"overriding-the-favicon-for-a-single-interview",level:3},{value:"Using dark mode",id:"using-dark-mode",level:3},{value:"Using custom fonts in the frontend",id:"using-custom-fonts-in-the-frontend",level:3},{value:"Using custom fonts when creating PDF files from DOCX templates",id:"using-custom-fonts-when-creating-pdf-files-from-docx-templates",level:3},{value:"Use the ALDashboard to install the font",id:"use-the-aldashboard-to-install-the-font",level:4},{value:"Manually install the font",id:"manually-install-the-font",level:4}];function d(e){const o={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.h2,{id:"sharing-a-custom-look-and-feel-across-multiple-assembly-line-interviews",children:"Sharing a custom look and feel across multiple Assembly Line interviews"}),"\n",(0,s.jsxs)(o.p,{children:["The ",(0,s.jsx)(o.a,{href:"https://github.com/SuffolkLITLab/docassemble-ALThemeTemplate",children:"ALThemeTemplate"}),'\nrepository is a template for a "brand" package that you can use for your own organization.']}),"\n",(0,s.jsx)(o.p,{children:"You can use this as the starting point for your own customizations, or decide which of the customizations\nbelow you want to implement for your organization."}),"\n",(0,s.jsx)(o.h2,{id:"visual-customization",children:"Visual customization"}),"\n",(0,s.jsx)(o.p,{children:"You can customize Docassemble, and Assembly Line interviews, with a Bootstrap 5 theme."}),"\n",(0,s.jsx)(o.h3,{id:"customizing-the-logo-and-title-for-assembly-line-interviews",children:"Customizing the logo and title for Assembly Line interviews"}),"\n",(0,s.jsx)(o.p,{children:"You should also customize the:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"/docs/components/AssemblyLine/magic_variables#al_organization_title",children:"Title"})}),"\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"/docs/components/AssemblyLine/magic_variables#al_organization_homepage",children:"Home page"})}),"\n",(0,s.jsxs)(o.li,{children:["and ",(0,s.jsx)(o.a,{href:"/docs/components/AssemblyLine/magic_variables#al_logo",children:"logo"})]}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"creating-a-custom-theme",children:"Creating a custom theme"}),"\n",(0,s.jsx)(o.p,{children:"If you want to build a custom theme, encompassing colors, fonts, button styles and other\noptions that are configurable with css, you can create a custom Bootstrap theme."}),"\n",(0,s.jsx)(o.p,{children:"To use a custom theme with Docassemble, you:"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsx)(o.li,{children:"Create a .scss file with your customized variables."}),"\n"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["If you only want to customize colors, use ",(0,s.jsx)(o.a,{href:"https://huemint.com/bootstrap-basic/",children:"Huemint"}),"."]}),"\n",(0,s.jsxs)(o.li,{children:["For more complex customization, including fonts and button shape, use ",(0,s.jsx)(o.a,{href:"https://bootstrap.build/",children:"bootstrap.build"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(o.ol,{start:"2",children:["\n",(0,s.jsx)(o.li,{children:"Compile the theme using a tool like the ALDashboard."}),"\n"]}),"\n",(0,s.jsx)(o.h4,{id:"use-huemint-to-make-a-scss-file-that-customizes-colors-only",children:"Use Huemint to make a .scss file that customizes colors only"}),"\n",(0,s.jsxs)(o.p,{children:["Visit ",(0,s.jsx)(o.a,{href:"https://huemint.com/bootstrap-basic/",children:"Huemint"}),". Create a color pallette that you like."]}),"\n",(0,s.jsx)(o.p,{children:"Scroll to the bottom of the page and copy the SCSS code that looks like this:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-scss",children:'$white: #ffffff;\n\n$theme-colors: (\n    "light":      #cfd6d1,\n    "dark":       #090807,\n    "primary":    #760076,\n    "secondary":  #f92e42,\n    "info":       #9e8412,\n    "success":    #00a167,\n    "warning":    #d9cd00,\n    "danger":     #e63300,\n);\n'})}),"\n",(0,s.jsx)(o.h4,{id:"or-use-bootstrapbuild-to-customize-fonts-buttons-and-more",children:"Or use Bootstrap.build to customize fonts, buttons, and more"}),"\n",(0,s.jsxs)(o.p,{children:["To customize other elements of the theme, including fonts and button shapes,\nyou need a more full-featured build tool. ",(0,s.jsx)(o.a,{href:"https://bootstrap.build/",children:"bootstrap.build"})," can customize\nevery Bootstrap option."]}),"\n",(0,s.jsx)(o.admonition,{title:"Bootstrap.build cannot compile a working theme for you",type:"warning",children:(0,s.jsxs)(o.p,{children:["It is important that you only use Bootstrap.build to make a ",(0,s.jsx)(o.em,{children:"SCSS"})," file. Do not download\na bootstrap.css file from this site."]})}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsxs)(o.li,{children:["Visit the ",(0,s.jsx)(o.a,{href:"https://bootstrap.build/",children:"bootstrap.build"})," website."]}),"\n",(0,s.jsx)(o.li,{children:"Click the button to open the Builder"}),"\n",(0,s.jsxs)(o.li,{children:["Customize the options that you want to customize. Typically those will include:","\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"Under color system, the $gray/$blue/etc. colors, if you use a matching color in your theme"}),"\n",(0,s.jsxs)(o.li,{children:["Under color system, almost always the variables ",(0,s.jsx)(o.code,{children:"primary"}),", ",(0,s.jsx)(o.code,{children:"secondary"}),", ",(0,s.jsx)(o.code,{children:"success"}),", ",(0,s.jsx)(o.code,{children:"info"}),", ",(0,s.jsx)(o.code,{children:"warning"}),", ",(0,s.jsx)(o.code,{children:"danger"}),",\n",(0,s.jsx)(o.code,{children:"light"})," and ",(0,s.jsx)(o.code,{children:"dark"})]}),"\n",(0,s.jsx)(o.li,{children:"Under Typography, customize any fonts that you wish to use"}),"\n",(0,s.jsx)(o.li,{children:"Under forms, you may want to customize button size and rounded edges"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:['Click the "export theme" button (it may be hidden behind a banner at the top of the page) and choose the\n"',(0,s.jsx)(o.code,{children:"_variables.scss"}),'" option.']}),"\n"]}),"\n",(0,s.jsx)(o.h4,{id:"compile-your-theme-using-the-aldashboard-tool",children:"Compile your theme using the ALDashboard tool"}),"\n",(0,s.jsxs)(o.p,{children:["Inside the AssemblyLine's ",(0,s.jsx)(o.a,{href:"https://github.com/SuffolkLITLab/docassemble-ALDashboard",children:"ALDashboard"})," tool,\nvisit the Compile Bootstrap Theme widget."]}),"\n",(0,s.jsxs)(o.p,{children:["The link should be /start/ALDashboard/compile_bootstrap on your server. If you are associated with the Suffolk LIT Lab and have an account on\nthe Suffolk Development server, you can visit a ",(0,s.jsx)(o.a,{href:"https://apps-dev.suffolklitlab.org/start/ALDashboard/compile_bootstrap",children:"live version of the tool"}),"\nto try it out."]}),"\n",(0,s.jsx)(o.p,{children:"Click continue to acknowledge the minimum system version of your Docassemble server."}),"\n",(0,s.jsxs)(o.p,{children:["Either copy and paste the snippet you copied from Huemint.com, or open the ",(0,s.jsx)(o.code,{children:"_variables.scss"})," file you exported\nfrom Bootstrap.build and copy and paste its contents. The ",(0,s.jsx)(o.code,{children:"_variables.scss"})," file is a simple text file\nthat can be opened in any editor."]}),"\n",(0,s.jsxs)(o.p,{children:[(0,s.jsxs)(o.strong,{children:["Add the ",(0,s.jsx)(o.code,{children:'@import "bootstrap";'})," line to the end of the Dashboard text entry field."]})," This is required\nfor your theme to compile."]}),"\n",(0,s.jsxs)(o.p,{children:["If you changed the ",(0,s.jsx)(o.code,{children:"$primary"})," color (from the default blue), it usually also makes sense to directly set the\nvalue of ",(0,s.jsx)(o.code,{children:"$blue"})," to the same value you chose for ",(0,s.jsx)(o.code,{children:"$primary"}),". (Docassemble uses ",(0,s.jsx)(o.code,{children:"$blue"})," for the section navigation,\nand it usually looks better if it is the same color as the next/continue button)."]}),"\n",(0,s.jsx)(o.p,{children:"Here is an example of working contents for a custom theme in the Dashboard window:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-scss",children:'$white: #ffffff;\n$blue: #760076;\n\n$theme-colors: (\n    "light":      #cfd6d1,\n    "dark":       #090807,\n    "primary":    #760076,\n    "secondary":  #f92e42,\n    "info":       #9e8412,\n    "success":    #00a167,\n    "warning":    #d9cd00,\n    "danger":     #e63300,\n);\n@import "bootstrap";\n'})}),"\n",(0,s.jsx)(o.p,{children:"The ALDashboard widget will let you see a preview of your theme so you can see what it will look like in Docassemble."}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.img,{alt:"A screenshot that says &quot;Your file is compiled! You can view and copy your file, or download it directly by right clicking the link to save it as a CSS file&quot;. Below are examples of Bootstrap components like buttons and nav bars.",src:n(4462).A+"",width:"1362",height:"821"})}),"\n",(0,s.jsxs)(o.p,{children:["Once you like the colors you've chosen, download the compiled file, and then add it\na docassemble project, in the ",(0,s.jsx)(o.code,{children:"static"})," folder. You can then reference your new file\nby adding a ",(0,s.jsx)(o.a,{href:"https://docassemble.org/docs/initial.html#bootstrap%20theme",children:"bootstrap theme feature"})," to your interview:"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-yaml",children:"features:\n  bootstrap theme: my_bootstrap_theme.css\n"})}),"\n",(0,s.jsx)(o.h4,{id:"running-node-and-npm-to-build-a-bootstrap-config-optional",children:"Running node and npm to build a Bootstrap config (optional)"}),"\n",(0,s.jsx)(o.p,{children:"If you don't have access to a docassemble server yourself, you can\nalso compile a bootstrap theme from source using node and npm."}),"\n",(0,s.jsxs)(o.p,{children:["Use a computer with a ",(0,s.jsx)(o.a,{href:"https://nodejs.dev/en/",children:"current version of Node"}),".\nThe instructions on this page\nassume you are using an Ubuntu Linux computer with Node installed, but they\nshould be the same on any workstation. They were tested on a machine running\nWindows 11 with Ubuntu running under Windows Subsystem for Linux (WSL)."]}),"\n",(0,s.jsx)(o.p,{children:"It also assumes that you have VS Code installed, but you can use any text\neditor of your choice."}),"\n",(0,s.jsxs)(o.p,{children:["First, ",(0,s.jsx)(o.a,{href:"https://getbootstrap.com/docs/5.1/getting-started/download/",children:"download the Bootstrap source"}),",\nand install its dependencies. As of this writing, the latest version you should use is 5.1.3."]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"wget https://github.com/twbs/bootstrap/releases/download/v5.1.3/bootstrap-5.1.3-dist.zip\nunzip bootstrap-5.1.3-dist.zip\ncd bootstrap-5.1.3\nnpm install\n"})}),"\n",(0,s.jsxs)(o.p,{children:["Place the ",(0,s.jsx)(o.code,{children:"custom.scss"})," file you wrote from ",(0,s.jsx)(o.a,{href:"#creating-a-custom-theme-from-source-instead-of-with-a-theme-generator",children:"the above section"}),"\nin the unzipped bootstrap-5.1.3 folder, and use ",(0,s.jsx)(o.code,{children:"npm"})," to compile the theme file."]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"cd ~/bootstrap-5.1.3\nnpm run css-compile\n"})}),"\n",(0,s.jsxs)(o.p,{children:["Your new ",(0,s.jsx)(o.code,{children:"custom.css"})," file is in the\n",(0,s.jsx)(o.code,{children:"~/bootstrap-5.1.3/dist/css"})," directory. Copy this file to your Docassemble\n",(0,s.jsx)(o.code,{children:"static"})," folder and reference it as a ",(0,s.jsx)(o.code,{children:"bootstrap theme"}),"."]}),"\n",(0,s.jsx)(o.h3,{id:"overriding-the-favicon-for-a-single-interview",children:"Overriding the favicon for a single interview"}),"\n",(0,s.jsx)(o.p,{children:"Docassemble's global configuration only allows you to define the favicon server-wide,\nbut sometimes you have a reason for a single interview to use a different one."}),"\n",(0,s.jsx)(o.p,{children:"You can override the favicon at runtime by loading a custom JavaScript file in your interview:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-javascript",children:"$(document).on('daPageLoad', function(){\n    var link = document.querySelector(\"link[rel*='shortcut icon'\") || document.createElement('link');\n    link.type = 'image/x-icon';\n    link.rel = 'shortcut icon';\n    link.href = \"/packagestatic/docassemble.YourPackage/your_favicon.svg?v=2023_02_04_1\";\n    document.getElementsByTagName('head')[0].appendChild(link);\n});\n"})}),"\n",(0,s.jsx)(o.p,{children:"To use this:"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsx)(o.li,{children:"Install the package server-wide. The link will need to be pointed to a permanent location on the server, so you will not be able to test changes to the favicon from the playground."}),"\n",(0,s.jsxs)(o.li,{children:["Create a JavaScript file (e.g., ",(0,s.jsx)(o.code,{children:"favicon.js"}),") in your package's ",(0,s.jsx)(o.code,{children:"data/static"})," folder with the code above. You can test the image is properly installed by visiting a url like ",(0,s.jsx)(o.code,{children:"https://apps.yourserver.com/packagestatic/docassemble.YourPackage/your_favicon.svg?v=2023_02_04_1"})," after replacing the information with your actual package and image name."]}),"\n",(0,s.jsxs)(o.li,{children:["Customize the SVG filename in the ",(0,s.jsx)(o.code,{children:"link.href"})," line, replacing ",(0,s.jsx)(o.code,{children:"YourPackage"})," with your package name and ",(0,s.jsx)(o.code,{children:"your_favicon.svg"})," with your favicon filename.","\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["It is a good practice to update the ",(0,s.jsx)(o.code,{children:"v=..."})," value after each change to the icon itself to avoid problems with the browser cache. The specific value is not important, but using a date in the parameter is a common practice called ",(0,s.jsx)(o.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Guides/Caching#avoiding_revalidation",children:"cache busting"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["Add the JavaScript file to your interview's ",(0,s.jsx)(o.code,{children:"features"})," block:"]}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-yaml",children:"features:\n  javascript:\n    - favicon.js\n"})}),"\n",(0,s.jsx)(o.p,{children:"The favicon will be updated whenever a new page loads in your interview, overriding the server's default favicon for that specific interview only."}),"\n",(0,s.jsx)(o.h3,{id:"using-dark-mode",children:"Using dark mode"}),"\n",(0,s.jsxs)(o.p,{children:['Docassemble by default will show an alternate "dark mode" version of your interview to\nusers who request it, usually with a browser or OS setting. You can set your browser\nor OS to use dark mode by following ',(0,s.jsx)(o.a,{href:"https://support.google.com/chrome/answer/9275525?hl=en&co=GENIE.Platform%3DDesktop#zippy=",children:"these instructions"})," to see what your interview looks like."]}),"\n",(0,s.jsx)(o.h3,{id:"using-custom-fonts-in-the-frontend",children:"Using custom fonts in the frontend"}),"\n",(0,s.jsx)(o.p,{children:"You can use custom webfonts with Docassemble, just like you can with any other web\nproduct."}),"\n",(0,s.jsxs)(o.p,{children:["This ",(0,s.jsx)(o.a,{href:"https://developer.mozilla.org/en-US/docs/Learn/CSS/Styling_text/Web_fonts",children:"Mozilla guide about web\nfonts"}),"\nis a good place to start."]}),"\n",(0,s.jsxs)(o.p,{children:["If you do not already have a .woff or .woff2 file but you do have a TrueType\n(TTF) or OpenType (OTF) file that you are licensed to distribute, you can create\none with a ",(0,s.jsx)(o.a,{href:"https://www.fontsquirrel.com/tools/webfont-generator",children:"free online web font\ntool"}),"."]}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsx)(o.li,{children:"Once you have a .woff file, upload it to the /static folder of a Docassemble playground."}),"\n",(0,s.jsxs)(o.li,{children:["Add an ",(0,s.jsx)(o.code,{children:"@font-face"})," directive to your bootstrap.css file (or a separate CSS file that you\nreference in the ",(0,s.jsx)(o.code,{children:"features"})," block of your interview)"]}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"You cannot include Mako tags in your CSS file, so in order to use the new font face, you should\nadd it to a Docassemble package and then install the package on your server."}),"\n",(0,s.jsx)(o.p,{children:"Example:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-css",children:"@font-face {\n    font-family: 'my_font';\n    src: url('/packagestatic/docassemble.MyTheme/my_font.woff2') format('woff2'),\n         url('/packagestatic/docassemble.MyTheme/my_font.woff') format('woff');\n    font-weight: normal;\n    font-style: normal;\n}\n"})}),"\n",(0,s.jsx)(o.p,{children:"In the example above, MyTheme is a Docassemble package that is installed\nserver-wide. my_font is both the name of a web font and the name of the WOFF file."}),"\n",(0,s.jsx)(o.h3,{id:"using-custom-fonts-when-creating-pdf-files-from-docx-templates",children:"Using custom fonts when creating PDF files from DOCX templates"}),"\n",(0,s.jsxs)(o.p,{children:["If you would like to use a font ",(0,s.jsx)(o.strong,{children:"other than"})," the Microsoft fonts popular in\nthe late 1990s-2000 era (Arial, Times New Roman, Courier) then you will need to\ninstall the fonts on your Docassemble server."]}),"\n",(0,s.jsx)(o.p,{children:"Make sure that you have a license for each font you want to install."}),"\n",(0,s.jsx)(o.p,{children:"The first step is to locate the .otf or .ttf file representing the font that you want to use\ninside your Word template (note that these are often in c:\\windows\\fonts)"}),"\n",(0,s.jsx)(o.h4,{id:"use-the-aldashboard-to-install-the-font",children:"Use the ALDashboard to install the font"}),"\n",(0,s.jsxs)(o.p,{children:["The ",(0,s.jsx)(o.a,{href:"https://github.com/suffolklitlab/docassemble-ALDashboard",children:"ALDashboard"})," tool has a\nwidget that helps you install a font server-wide so it is available when a DOCX\nis converted to PDF."]}),"\n",(0,s.jsx)(o.p,{children:"If you do not already have ALDashboard installed:"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsxs)(o.li,{children:["Install the ALDashboard package via the global Package Management page (e.g., add ",(0,s.jsx)(o.code,{children:"https://github.com/suffolklitlab/docassemble-ALDashboard"}),' to the GitHub input field and click "update")']}),"\n",(0,s.jsx)(o.li,{children:'Run it, either from the "Dashboard" menu item (if you added the menu shortcut) or by visiting /start/ALDashboard/menu on your\nserver.'}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"Once you are at the ALDashboard menu page:"}),"\n",(0,s.jsxs)(o.ol,{start:"3",children:["\n",(0,s.jsx)(o.li,{children:"Click the Install Fonts button."}),"\n",(0,s.jsx)(o.li,{children:'Drag and drop the OTF or TTF file on the upload target and click "Continue". The font should be available\nafter a short wait.'}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["If the font isn't available, you can try stopping and then re-starting the container by logging in to the server\nhosting your Docassemble container and running ",(0,s.jsx)(o.code,{children:"docker stop -t 600 CONTAINERNAME"})," followed by ",(0,s.jsx)(o.code,{children:"docker start CONTAINERNAME"}),"."]}),"\n",(0,s.jsx)(o.h4,{id:"manually-install-the-font",children:"Manually install the font"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsx)(o.li,{children:"Copy the font to your docassemble server"}),"\n",(0,s.jsx)(o.li,{children:"Copy the font inside the docker container"}),"\n",(0,s.jsx)(o.li,{children:"reset the font cache"}),"\n",(0,s.jsx)(o.li,{children:"restart the docassemble supervisor processes"}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"scp ~/myfont.ttf apps.example.com:\nssh apps.example.com\ndocker cp myfont.ttf CONTAINERNAME:/usr/share/fonts\ndocker exec mycontainer /bin/bash\nfc-cache -f -v\nsupervisorctl restart uwsgi\nsupervisorctl start reset\nsupervisorctl -s http://localhost:9001 restart unoconv\n"})}),"\n",(0,s.jsxs)(o.p,{children:['Replace "CONTAINERNAME" with the actual name of your container. You can often\nauto-complete the container name by hitting ',(0,s.jsx)(o.code,{children:"tab"}),"."]}),"\n",(0,s.jsxs)(o.p,{children:["Instead of copying the fonts to /usr/share/fonts, you could likely copy\nthem to ",(0,s.jsx)(o.code,{children:"/var/www/.fonts"}),". This has the advantage of being writable by the\nweb process from a Python module."]}),"\n",(0,s.jsxs)(o.p,{children:["If the font still does not appear to be installed (try generating a PDF with the\ncustom font),you may need to do a ",(0,s.jsx)(o.code,{children:"docker stop -t 600 CONTAINERNAME"})," followed by a\n",(0,s.jsx)(o.code,{children:"docker start CONTAINERNAME"}),"."]})]})}function h(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,o,n)=>{n.d(o,{R:()=>a,x:()=>l});var t=n(6540);const s={},i=t.createContext(s);function a(e){const o=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function l(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(i.Provider,{value:o},e.children)}}}]);