"use strict";(globalThis.webpackChunkdocassemble_assembly_line_documentation=globalThis.webpackChunkdocassemble_assembly_line_documentation||[]).push([[2227],{6472(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>r});const i=JSON.parse('{"id":"authoring/ai_mcp_and_rest","title":"Use MCP and REST endpoints for AI-assisted coding","description":"You can use AI-assisted authoring tools without installing docassemble.ALWeaver or docassemble.ALDashboard in your local Python environment.","source":"@site/docs/authoring/ai_mcp_and_rest.md","sourceDirName":"authoring","slug":"/authoring/ai_mcp_and_rest","permalink":"/docs/authoring/ai_mcp_and_rest","draft":false,"unlisted":false,"editUrl":"https://github.com/SuffolkLITLab/docassemble-AssemblyLine-documentation/edit/main/docs/authoring/ai_mcp_and_rest.md","tags":[],"version":"current","frontMatter":{"id":"ai_mcp_and_rest","title":"Use MCP and REST endpoints for AI-assisted coding","sidebar_label":"Use MCP and REST endpoints","slug":"ai_mcp_and_rest"},"sidebar":"docs","previous":{"title":"Coding with AI assistance","permalink":"/docs/authoring/authoring_with_ai"},"next":{"title":"Checklist: project setup and context","permalink":"/docs/authoring/ai_checklist_project_setup"}}');var l=s(4848),o=s(8453);const a={id:"ai_mcp_and_rest",title:"Use MCP and REST endpoints for AI-assisted coding",sidebar_label:"Use MCP and REST endpoints",slug:"ai_mcp_and_rest"},d=void 0,c={},r=[{value:"Why use APIs instead of local package installs?",id:"why-use-apis-instead-of-local-package-installs",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Option 1: MCP bridge (tool discovery + tool execution)",id:"option-1-mcp-bridge-tool-discovery--tool-execution",level:2},{value:"Example: list MCP tools",id:"example-list-mcp-tools",level:3},{value:"Example: call a discovered tool",id:"example-call-a-discovered-tool",level:3},{value:"Option 2: Direct REST calls",id:"option-2-direct-rest-calls",level:2},{value:"ALWeaver API",id:"alweaver-api",level:3},{value:"ALDashboard API",id:"aldashboard-api",level:3},{value:"Async mode for long-running jobs",id:"async-mode-for-long-running-jobs",level:2},{value:"Recommended workflow",id:"recommended-workflow",level:2}];function t(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.p,{children:["You can use AI-assisted authoring tools without installing ",(0,l.jsx)(n.code,{children:"docassemble.ALWeaver"})," or ",(0,l.jsx)(n.code,{children:"docassemble.ALDashboard"})," in your local Python environment."]}),"\n",(0,l.jsx)(n.p,{children:"Instead, call the APIs on a running Docassemble server:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["ALWeaver REST API (",(0,l.jsx)(n.code,{children:"/al/api/v1/weaver..."}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["ALDashboard REST API (",(0,l.jsx)(n.code,{children:"/al/api/v1/dashboard/..."}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["ALDashboard MCP bridge (",(0,l.jsx)(n.code,{children:"/al/api/v1/mcp"}),")"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"why-use-apis-instead-of-local-package-installs",children:"Why use APIs instead of local package installs?"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Keeps your AI workflow lightweight on local machines."}),"\n",(0,l.jsx)(n.li,{children:"Lets your AI agent work against one shared, server-side environment."}),"\n",(0,l.jsx)(n.li,{children:"Avoids local dependency setup for OCR, PDF tooling, and Docassemble internals."}),"\n",(0,l.jsx)(n.li,{children:"Makes async jobs available for longer-running tasks."}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,l.jsxs)(n.p,{children:["These endpoints use Docassemble API auth (",(0,l.jsx)(n.code,{children:"api_verify()"}),"), typically:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"X-API-Key: YOUR_API_KEY"}),", or"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Authorization: Bearer ..."})," (if configured on your server)."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"option-1-mcp-bridge-tool-discovery--tool-execution",children:"Option 1: MCP bridge (tool discovery + tool execution)"}),"\n",(0,l.jsx)(n.p,{children:"The MCP bridge is exposed by ALDashboard:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"POST /al/api/v1/mcp"})," (JSON-RPC 2.0)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"GET /al/api/v1/mcp"})," (metadata)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"GET /al/api/v1/mcp/tools"})," (tool list)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"GET /al/api/v1/mcp/docs"})," (human docs)"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Supported methods:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"initialize"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"ping"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"tools/list"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"tools/call"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Use this when your AI coding tool can speak MCP or JSON-RPC and you want dynamic tool discovery."}),"\n",(0,l.jsx)(n.h3,{id:"example-list-mcp-tools",children:"Example: list MCP tools"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'curl -X POST "https://YOURSERVER/al/api/v1/mcp" \\\n  -H "Content-Type: application/json" \\\n  -H "X-API-Key: YOUR_API_KEY" \\\n  -d \'{"jsonrpc":"2.0","id":1,"method":"tools/list","params":{}}\'\n'})}),"\n",(0,l.jsx)(n.h3,{id:"example-call-a-discovered-tool",children:"Example: call a discovered tool"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'curl -X POST "https://YOURSERVER/al/api/v1/mcp" \\\n  -H "Content-Type: application/json" \\\n  -H "X-API-Key: YOUR_API_KEY" \\\n  -d \'{"jsonrpc":"2.0","id":2,"method":"tools/call","params":{"name":"aldashboard.get_al_api_v1_dashboard_openapi_json","arguments":{}}}\'\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"tools/call"})," reuses the same request authentication context, so you do not need a second API key just for MCP."]}),"\n",(0,l.jsx)(n.h2,{id:"option-2-direct-rest-calls",children:"Option 2: Direct REST calls"}),"\n",(0,l.jsx)(n.p,{children:"Use REST directly when you want explicit control over endpoints and payloads."}),"\n",(0,l.jsx)(n.h3,{id:"alweaver-api",children:"ALWeaver API"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"POST /al/api/v1/weaver"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"GET /al/api/v1/weaver/jobs/{job_id}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"DELETE /al/api/v1/weaver/jobs/{job_id}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"GET /al/api/v1/weaver/openapi.json"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"GET /al/api/v1/weaver/docs"})}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"aldashboard-api",children:"ALDashboard API"}),"\n",(0,l.jsx)(n.p,{children:"Examples include:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"POST /al/api/v1/dashboard/docx/auto-label"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"POST /al/api/v1/dashboard/docx/relabel"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"POST /al/api/v1/dashboard/pdf/fields/detect"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"POST /al/api/v1/dashboard/review-screen/draft"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"GET /al/api/v1/dashboard/jobs/{job_id}"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"GET /al/api/v1/dashboard/openapi.json"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"GET /al/api/v1/dashboard/docs"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"async-mode-for-long-running-jobs",children:"Async mode for long-running jobs"}),"\n",(0,l.jsx)(n.p,{children:"Many endpoints support async processing:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["include ",(0,l.jsx)(n.code,{children:"mode=async"})," (or ",(0,l.jsx)(n.code,{children:"async=true"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["poll ",(0,l.jsx)(n.code,{children:"/jobs/{job_id}"})]}),"\n",(0,l.jsxs)(n.li,{children:["optionally download artifacts from ",(0,l.jsx)(n.code,{children:"/jobs/{job_id}/download"})," (ALDashboard)"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"To enable async workers, configure:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"celery modules:\n  - docassemble.ALWeaver.api_weaver_worker\n  - docassemble.ALDashboard.api_dashboard_worker\n"})}),"\n",(0,l.jsx)(n.h2,{id:"recommended-workflow",children:"Recommended workflow"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.a,{href:"/docs/authoring/authoring_with_ai",children:"Coding with AI assistance"})," for overall flow."]}),"\n",(0,l.jsxs)(n.li,{children:["Use MCP ",(0,l.jsx)(n.code,{children:"tools/list"})," to discover available server capabilities."]}),"\n",(0,l.jsx)(n.li,{children:"Use REST/MCP calls for concrete tasks (labeling, draft generation, validation)."}),"\n",(0,l.jsx)(n.li,{children:"Apply the focused checklists in this section to review outputs before publishing."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(t,{...e})}):t(e)}},8453(e,n,s){s.d(n,{R:()=>a,x:()=>d});var i=s(6540);const l={},o=i.createContext(l);function a(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);