"use strict";(self.webpackChunkdocassemble_assembly_line_documentation=self.webpackChunkdocassemble_assembly_line_documentation||[]).push([[1645],{4137:(e,a,s)=>{s.d(a,{Zo:()=>u,kt:()=>h});var t=s(7294);function n(e,a,s){return a in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function r(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),s.push.apply(s,t)}return s}function o(e){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?r(Object(s),!0).forEach((function(a){n(e,a,s[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))}))}return e}function i(e,a){if(null==e)return{};var s,t,n=function(e,a){if(null==e)return{};var s,t,n={},r=Object.keys(e);for(t=0;t<r.length;t++)s=r[t],a.indexOf(s)>=0||(n[s]=e[s]);return n}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)s=r[t],a.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}var l=t.createContext({}),d=function(e){var a=t.useContext(l),s=a;return e&&(s="function"==typeof e?e(a):o(o({},a),e)),s},u=function(e){var a=d(e.components);return t.createElement(l.Provider,{value:a},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},m=t.forwardRef((function(e,a){var s=e.components,n=e.mdxType,r=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),p=d(s),m=n,h=p["".concat(l,".").concat(m)]||p[m]||c[m]||r;return s?t.createElement(h,o(o({ref:a},u),{},{components:s})):t.createElement(h,o({ref:a},u))}));function h(e,a){var s=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var r=s.length,o=new Array(r);o[0]=m;var i={};for(var l in a)hasOwnProperty.call(a,l)&&(i[l]=a[l]);i.originalType=e,i[p]="string"==typeof e?e:n,o[1]=i;for(var d=2;d<r;d++)o[d]=s[d];return t.createElement.apply(null,o)}return t.createElement.apply(null,s)}m.displayName="MDXCreateElement"},425:(e,a,s)=>{s.d(a,{Z:()=>o});var t=s(7294),n=s(6010);const r="tabItem_Ymn6";function o(e){let{children:a,hidden:s,className:o}=e;return t.createElement("div",{role:"tabpanel",className:(0,n.Z)(r,o),hidden:s},a)}},4259:(e,a,s)=>{s.d(a,{Z:()=>m});var t=s(7462),n=s(7294),r=s(6010),o=s(1048),i=s(3609),l=s(1943),d=s(2957);const u="tabList__CuJ",p="tabItem_LNqP";function c(e){const{lazy:a,block:s,defaultValue:o,values:c,groupId:m,className:h}=e,f=n.Children.map(e.children,(e=>{if((0,n.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),y=c??f.map((e=>{let{props:{value:a,label:s,attributes:t}}=e;return{value:a,label:s,attributes:t}})),b=(0,i.l)(y,((e,a)=>e.value===a.value));if(b.length>0)throw new Error(`Docusaurus error: Duplicate values "${b.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const g=null===o?o:o??f.find((e=>e.props.default))?.props.value??f[0].props.value;if(null!==g&&!y.some((e=>e.value===g)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${g}" but none of its children has the corresponding value. Available values are: ${y.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:k,setTabGroupChoices:v}=(0,l.U)(),[w,_]=(0,n.useState)(g),N=[],{blockElementScrollPositionUntilNextRender:x}=(0,d.o5)();if(null!=m){const e=k[m];null!=e&&e!==w&&y.some((a=>a.value===e))&&_(e)}const T=e=>{const a=e.currentTarget,s=N.indexOf(a),t=y[s].value;t!==w&&(x(a),_(t),null!=m&&v(m,String(t)))},q=e=>{let a=null;switch(e.key){case"Enter":T(e);break;case"ArrowRight":{const s=N.indexOf(e.currentTarget)+1;a=N[s]??N[0];break}case"ArrowLeft":{const s=N.indexOf(e.currentTarget)-1;a=N[s]??N[N.length-1];break}}a?.focus()};return n.createElement("div",{className:(0,r.Z)("tabs-container",u)},n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":s},h)},y.map((e=>{let{value:a,label:s,attributes:o}=e;return n.createElement("li",(0,t.Z)({role:"tab",tabIndex:w===a?0:-1,"aria-selected":w===a,key:a,ref:e=>N.push(e),onKeyDown:q,onClick:T},o,{className:(0,r.Z)("tabs__item",p,o?.className,{"tabs__item--active":w===a})}),s??a)}))),a?(0,n.cloneElement)(f.filter((e=>e.props.value===w))[0],{className:"margin-top--md"}):n.createElement("div",{className:"margin-top--md"},f.map(((e,a)=>(0,n.cloneElement)(e,{key:a,hidden:e.props.value!==w})))))}function m(e){const a=(0,o.Z)();return n.createElement(c,(0,t.Z)({key:String(a)},e))}},387:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>u,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>d,toc:()=>p});var t=s(7462),n=(s(7294),s(4137)),r=s(4259),o=s(425);const i={id:"ql_addresses",title:"Addresses",sidebar_label:"Addresses",slug:"/question_library/addresses"},l=void 0,d={unversionedId:"question_library/ql_addresses",id:"question_library/ql_addresses",title:"Addresses",description:"What addresses are for",source:"@site/docs/question_library/addresses.md",sourceDirName:"question_library",slug:"/question_library/addresses",permalink:"/docassemble-AssemblyLine-documentation/docs/question_library/addresses",draft:!1,editUrl:"https://github.com/SuffolkLITLab/docassemble-AssemblyLine-documentation/edit/main/docs/question_library/addresses.md",tags:[],version:"current",frontMatter:{id:"ql_addresses",title:"Addresses",sidebar_label:"Addresses",slug:"/question_library/addresses"},sidebar:"mainSidebar",previous:{title:"Names",permalink:"/docassemble-AssemblyLine-documentation/docs/question_library/names"},next:{title:"Gender",permalink:"/docassemble-AssemblyLine-documentation/docs/question_library/gender"}},u={},p=[{value:"What addresses are for",id:"what-addresses-are-for",level:2},{value:"Ask for addresses in parts",id:"ask-for-addresses-in-parts",level:2},{value:"Allow user to specify country if appropriate",id:"allow-user-to-specify-country-if-appropriate",level:3},{value:"Allow the user to provide a separate mailing address",id:"allow-the-user-to-provide-a-separate-mailing-address",level:2},{value:"Getting the address of someone who is experiencing homelessness",id:"getting-the-address-of-someone-who-is-experiencing-homelessness",level:2},{value:"Determine the purpose of collecting the address",id:"determine-the-purpose-of-collecting-the-address",level:3},{value:"Ask for a city, state, and a written explanation",id:"ask-for-a-city-state-and-a-written-explanation",level:3},{value:"Use <code>person.address.has_no_address</code> as a trigger, not <code>person.address.address</code>",id:"use-personaddresshas_no_address-as-a-trigger-not-personaddressaddress",level:4},{value:"Come up with a strategy for placing the alternative address on the form",id:"come-up-with-a-strategy-for-placing-the-alternative-address-on-the-form",level:3},{value:"Handling international addresses",id:"handling-international-addresses",level:2},{value:"Consider a fall back of a completely open text field",id:"consider-a-fall-back-of-a-completely-open-text-field",level:3},{value:"Further reading",id:"further-reading",level:2},{value:"Collecting international addresses",id:"collecting-international-addresses",level:3},{value:"Collecting address of an unhoused person",id:"collecting-address-of-an-unhoused-person",level:3}],c={toc:p};function m(e){let{components:a,...s}=e;return(0,n.kt)("wrapper",(0,t.Z)({},c,s,{components:a,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"what-addresses-are-for"},"What addresses are for"),(0,n.kt)("p",null,"Address information serves two unrelated purposes on most legal forms:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Providing a place to send official court notices and receive service of\nprocess"),(0,n.kt)("li",{parentName:"ul"},"Determining eligibility and venue")),(0,n.kt)("p",null,"Determine which purpose is served by the address question on your form. In\nparticular, if you have both purposes, be aware that your users may have\ndifferent domiciles and mailing addresses."),(0,n.kt)("h2",{id:"ask-for-addresses-in-parts"},"Ask for addresses in parts"),(0,n.kt)("p",null,"Most PDF forms ask for an address in multiple labeled parts. Addresses are also\noften used to determine eligibility, which requires separating zip code or city\nname from the rest of the address. There is no 100% reliable programmatic way to\nbreak a single-line address field into parts, so best practice is to ask for the\naddress in parts in your interview."),(0,n.kt)(r.Z,{mdxType:"Tabs"},(0,n.kt)(o.Z,{value:"Assembly Line Example",label:"Assembly Line Example",default:!0,mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-yaml"},"id: person's address\nsets:\n  - person.address.address\n  - person.address.city\nquestion: |\n  Person's Address\nfields:\n  - code: |\n      person.address_fields()\n"))),(0,n.kt)(o.Z,{value:"Vanilla Docassemble",label:"Vanilla Docassemble",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nid: your address\nquestion: |\n  What is your address?\nsubquestion: |\n  Where do you live?\nfields:\n  - Street address: users[0].address.address\n    address autocomplete: True\n  - Unit: users[0].address.unit\n    required: False\n  - City: users[0].address.city\n  - State: users[0].address.state\n    code: |\n      states_list()\n    default: MA      \n  - Zip: users[0].address.zip\n    required: False\n")))),(0,n.kt)("h3",{id:"allow-user-to-specify-country-if-appropriate"},"Allow user to specify country if appropriate"),(0,n.kt)("p",null,"If your users commonly may provide addresses from a different country,\nshow a country dropdown. Store the country with the ISO country code."),(0,n.kt)("p",null,"Ideally, update fields to match at least the most common countries, by\nupdating labels like ",(0,n.kt)("inlineCode",{parentName:"p"},"Zip code")," to ",(0,n.kt)("inlineCode",{parentName:"p"},"Postal code")," and replacing\n",(0,n.kt)("inlineCode",{parentName:"p"},"State")," with the appropriate label for that country."),(0,n.kt)(r.Z,{mdxType:"Tabs"},(0,n.kt)(o.Z,{value:"Assembly Line Example",label:"Assembly Line Example",default:!0,mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-yaml"},"id: person's address\nsets:\n  - person.address.address\n  - person.address.city\nquestion: |\n  Person's Address\nfields:\n  - code: |\n      person.address_fields(show_country=True, country_code=\"US\")\n"))),(0,n.kt)(o.Z,{value:"Vanilla Docassemble",label:"Vanilla Docassemble",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nid: your address\nquestion: |\n  What is your address?\nsubquestion: |\n  Where do you live?\nfields:\n  - Street address: person.address.address\n    address autocomplete: True\n  - Unit: person.address.unit\n    required: False\n  - City: person.address.city\n  - State: person.address.state\n    code: |\n      states_list()\n    default: MA      \n  - Zip: person.address.zip\n    required: False\n  - Country: person.address.country\n    code: |\n      countries_list()\n")))),(0,n.kt)("h2",{id:"allow-the-user-to-provide-a-separate-mailing-address"},"Allow the user to provide a separate mailing address"),(0,n.kt)("p",null,"If both residence and mailing address are important, make sure to ask for both,\nand ask a clear question that prompts the user for the correct information."),(0,n.kt)("p",null,"It is appropriate to offer the user's home address as a default for their\nmailing address."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"ALIndividual")," objects in the Assembly Line framework have a predefined\n",(0,n.kt)("inlineCode",{parentName:"p"},"mailing_address")," attribute."),(0,n.kt)(r.Z,{mdxType:"Tabs"},(0,n.kt)(o.Z,{value:"Assembly Line Example",label:"Assembly Line Example",default:!0,mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-yaml"},"id: person's address\nsets:\n  - person.address.address\n  - person.address.city\nquestion: |\n  Person's Address\nfields:\n  - My mailing address is: person.mailing_address\n    datatype: object_radio\n    choices:\n      - person.address\n    object labeler: |\n      lambda y: y.on_one_line()      \n    none of the above: |\n      Somewhere else\n    disable others: True  \n  - code: |\n      person.mailing_address.address_fields()\n"))),(0,n.kt)(o.Z,{value:"Vanilla Docassemble",label:"Vanilla Docassemble",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nobjects:\n  - person.mailing_address: Address\n---\nid: your address\nquestion: |\n  What is your address?\nsubquestion: |\n  What address should the court use to mail papers to you?\nfields:\n  - My mailing address is: person.mailing_address\n    datatype: object_radio\n    choices:\n      - person.address\n    object labeler: |\n      lambda y: y.on_one_line()      \n    none of the above: |\n      Somewhere else\n    disable others: True\n  - Street address: users[0].mailing_address.address\n    address autocomplete: True\n  - Unit: users[0].mailing_address.unit\n    required: False\n  - City: users[0].mailing_address.city\n  - State: users[0].mailing_address.state\n    code: |\n      states_list()\n    default: MA      \n  - Zip: users[0].mailing_address.zip\n    required: False\n")))),(0,n.kt)("h2",{id:"getting-the-address-of-someone-who-is-experiencing-homelessness"},"Getting the address of someone who is experiencing homelessness"),(0,n.kt)("p",null,"Some users may be un-homed. Getting the address of a user who does not have a\ntraditional home can be tricky. Consider fallback solutions that gracefully\nhandle situations where an individual:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"lacks a permanent address"),(0,n.kt)("li",{parentName:"ul"},'is "couch surfing" or staying with a friend'),(0,n.kt)("li",{parentName:"ul"},"living in a homeless shelter"),(0,n.kt)("li",{parentName:"ul"},"is sleeping outside"),(0,n.kt)("li",{parentName:"ul"},"is otherwise experiencing homelessness")),(0,n.kt)("p",null,"Note that many unhoused people ",(0,n.kt)("strong",{parentName:"p"},"do")," have a place that they receive mail. It might\nbe:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"a friend or family member"),(0,n.kt)("li",{parentName:"ul"},"a local homeless shelter "),(0,n.kt)("li",{parentName:"ul"},"a PO Box or non-traditional box (such as at Mailboxes, Etc.)"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://faq.usps.com/s/article/What-is-General-Delivery"},"general delivery")," at\nthe local post office")),(0,n.kt)("p",null,"For people with these common solutions, the traditional address question above\nmay be sufficient."),(0,n.kt)("h3",{id:"determine-the-purpose-of-collecting-the-address"},"Determine the purpose of collecting the address"),(0,n.kt)("p",null,"When designing your address question, it is important to know whether the\naddress is being collected to provide a place to send official correspondence or\nto determine eligibility or venue."),(0,n.kt)("p",null,"For eligibility and venue, knowing the city and state is usually enough. People\nwithout a traditional home still stay in a city and state. ",(0,n.kt)("strong",{parentName:"p"},"Note"),": someone who\nis unhoused may be more likely to use a mailing address that is not in the same\nvenue as their physical location."),(0,n.kt)("p",null,"There may be special circumstances where more information is required for\ndetermining venue or eligibility. For example, Dana Chisnell of the United\nStates Digital Service Agency\n",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/danachis/status/1557180760410492929"},"reports")," that they\nallow people without a traditional address to mark a map indicating the\nintersection where they can normally be found."),(0,n.kt)("p",null,"If the address is being used for official correspondence, decide how to handle\nthe fact that some users just will not have a traditional address to receive\ncorrespondence."),(0,n.kt)("h3",{id:"ask-for-a-city-state-and-a-written-explanation"},"Ask for a city, state, and a written explanation"),(0,n.kt)(r.Z,{mdxType:"Tabs"},(0,n.kt)(o.Z,{value:"Assembly Line Example",label:"Assembly Line Example",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-yaml"},"id: person's address\nsets:\n  - person.address.address\n  - person.address.city\nquestion: |\n  Person's Address\nfields:\n  - code: |\n      person.address_fields(allow_no_address=True)\n"))),(0,n.kt)(o.Z,{value:"Vanilla Docassemble",label:"Vanilla Docassemble",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-yaml"},'---\nid: your address\nquestion: |\n  What is your address?\nsubquestion: |\n  Write the address where you live.\nfields:\n  - I do not have an address: person.address.has_no_address\n    datatype: yesno\n  - Is there anything else you want to say about your living situation?: person.address.no_address_explanation\n    datatype: area\n    required: False\n    rows: 2\n    show if: person.address.has_no_address\n    help: |\n      Explain your address circumstances. Example: "I usually stay at the corner\n      of Fifth and Main St."\n  - Street address: person.address.address\n    address autocomplete: True\n    hide if: person.address.has_no_address\n  - Unit: person.address.unit\n    required: False\n    hide if: person.address.has_no_address\n  - City: person.address.city\n  - State: person.address.state\n    code: |\n      states_list()\n    default: MA      \n  - Zip: person.address.zip\n    required: False\n    hide if: person.address.has_no_address\n')))),(0,n.kt)("h4",{id:"use-personaddresshas_no_address-as-a-trigger-not-personaddressaddress"},"Use ",(0,n.kt)("inlineCode",{parentName:"h4"},"person.address.has_no_address")," as a trigger, not ",(0,n.kt)("inlineCode",{parentName:"h4"},"person.address.address")),(0,n.kt)("p",null,"If you need to accommodate users without a traditional address, use the variable\n",(0,n.kt)("inlineCode",{parentName:"p"},"person.address.has_no_address")," as a trigger in your interview order block,\ninstead of ",(0,n.kt)("inlineCode",{parentName:"p"},"person.address.address"),"."),(0,n.kt)("h3",{id:"come-up-with-a-strategy-for-placing-the-alternative-address-on-the-form"},"Come up with a strategy for placing the alternative address on the form"),(0,n.kt)("p",null,"Most forms have two lines for an address--a line for apartment, street number and\nstreet name, and a separate line for the city, state, and zip code."),(0,n.kt)("p",null,"If you use the 3-part input described above, you can put the explanation on line\n1 and fill in the city and state as normal, leaving the zip code blank."),(0,n.kt)("p",null,"Make sure the user knows the character limit for this line on the form. Consider\nproviding an addendum."),(0,n.kt)("p",null,'If you use the Assembly Line framework, the following methods are all "aware" of the\nvariation on an address that handle un-homed individuals, and you do not need\nany special logic in the template file or attachment block:'),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"address.block()"),(0,n.kt)("li",{parentName:"ul"},"address_block()"),(0,n.kt)("li",{parentName:"ul"},"address.on_one_line()"),(0,n.kt)("li",{parentName:"ul"},"address.line_one()"),(0,n.kt)("li",{parentName:"ul"},"address.line_two()")),(0,n.kt)("h2",{id:"handling-international-addresses"},"Handling international addresses"),(0,n.kt)("p",null,"Court forms usually require that one or both litigants in the action reside in\nthe United States, but they may require you to provide the address of a\nnon-party to the case. That person may not live in the same country as the\njurisdiction of the form."),(0,n.kt)("p",null,'International addresses are complicated. Divisions like "state" may have a\ndifferent name and may not be commonly used to address mail in some countries.\nThe order of fields like postal code and apartment number may be totally\ndifferent.'),(0,n.kt)("p",null,"Ideally, your address fields should accommodate the order and presence of fields\nfor at least the most common countries that your users will provide addresses\nfrom."),(0,n.kt)("p",null,'The most common field that will cause trouble is the drop-down menu for "state".\nYou may want to replace this with a free-text field and make it optional when an\ninternational address might be provided in your interview.'),(0,n.kt)("h3",{id:"consider-a-fall-back-of-a-completely-open-text-field"},"Consider a fall back of a completely open text field"),(0,n.kt)("p",null,"The most flexible input of all for an address is a wide-open text field. This\nmay be appropriate to show as an alternative, even if your user is able to\nselect the country, to handle countries with address formats that you may not\nknow in advance."),(0,n.kt)("p",null,"Keep in mind that this may not be a very good user experience for most users.\nYour default address question should be more standardized."),(0,n.kt)("h2",{id:"further-reading"},"Further reading"),(0,n.kt)("h3",{id:"collecting-international-addresses"},"Collecting international addresses"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://www.uxmatters.com/mt/archives/2008/06/international-address-fields-in-web-forms.php"},"https://www.uxmatters.com/mt/archives/2008/06/international-address-fields-in-web-forms.php")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://ux.shopify.com/designing-address-forms-for-everyone-everywhere-f481f6baf513"},"https://ux.shopify.com/designing-address-forms-for-everyone-everywhere-f481f6baf513"))),(0,n.kt)("h3",{id:"collecting-address-of-an-unhoused-person"},"Collecting address of an unhoused person"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://demo.getcalfresh.org/"},"https://demo.getcalfresh.org/"))))}m.isMDXComponent=!0}}]);