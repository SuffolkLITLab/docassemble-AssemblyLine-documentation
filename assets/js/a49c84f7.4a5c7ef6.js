"use strict";(self.webpackChunkdocassemble_assembly_line_documentation=self.webpackChunkdocassemble_assembly_line_documentation||[]).push([[8240],{4137:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>_});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=a.createContext({}),m=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=m(e.components);return a.createElement(o.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,l=e.originalType,o=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),d=m(n),k=i,_=d["".concat(o,".").concat(k)]||d[k]||u[k]||l;return n?a.createElement(_,s(s({ref:t},p),{},{components:n})):a.createElement(_,s({ref:t},p))}));function _(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=n.length,s=new Array(l);s[0]=k;var r={};for(var o in t)hasOwnProperty.call(t,o)&&(r[o]=t[o]);r.originalType=e,r[d]="string"==typeof e?e:i,s[1]=r;for(var m=2;m<l;m++)s[m]=n[m];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},7138:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>d,frontMatter:()=>l,metadata:()=>r,toc:()=>m});var a=n(7462),i=(n(7294),n(4137));const l={sidebar_label:"sessions",title:"AssemblyLine.sessions"},s=void 0,r={unversionedId:"reference/AssemblyLine/sessions",id:"reference/AssemblyLine/sessions",title:"AssemblyLine.sessions",description:"is\\file\\like",source:"@site/docs/reference/AssemblyLine/sessions.md",sourceDirName:"reference/AssemblyLine",slug:"/reference/AssemblyLine/sessions",permalink:"/docassemble-AssemblyLine-documentation/docs/reference/AssemblyLine/sessions",draft:!1,editUrl:"https://github.com/SuffolkLITLab/docassemble-AssemblyLine-documentation/edit/main/docs/reference/AssemblyLine/sessions.md",tags:[],version:"current",frontMatter:{sidebar_label:"sessions",title:"AssemblyLine.sessions"},sidebar:"api",previous:{title:"language",permalink:"/docassemble-AssemblyLine-documentation/docs/reference/AssemblyLine/language"},next:{title:"conversions",permalink:"/docassemble-AssemblyLine-documentation/docs/reference/EFSPIntegration/conversions"}},o={},m=[{value:"is_file_like",id:"is_file_like",level:4},{value:"set_interview_metadata",id:"set_interview_metadata",level:4},{value:"get_interview_metadata",id:"get_interview_metadata",level:4},{value:"get_saved_interview_list",id:"get_saved_interview_list",level:4},{value:"delete_interview_sessions",id:"delete_interview_sessions",level:4},{value:"interview_list_html",id:"interview_list_html",level:4},{value:"nice_interview_title",id:"nice_interview_title",level:4},{value:"pascal_to_zwspace",id:"pascal_to_zwspace",level:4},{value:"nice_interview_subtitle",id:"nice_interview_subtitle",level:4},{value:"radial_progress",id:"radial_progress",level:4},{value:"local_date",id:"local_date",level:4},{value:"session_list_html",id:"session_list_html",level:4},{value:"rename_interview_answers",id:"rename_interview_answers",level:4},{value:"set_current_session_metadata",id:"set_current_session_metadata",level:4},{value:"rename_current_session",id:"rename_current_session",level:4},{value:"save_interview_answers",id:"save_interview_answers",level:4},{value:"get_filtered_session_variables",id:"get_filtered_session_variables",level:4},{value:"get_filtered_session_variables_string",id:"get_filtered_session_variables_string",level:4},{value:"load_interview_answers",id:"load_interview_answers",level:4},{value:"load_interview_json",id:"load_interview_json",level:4},{value:"export_interview_variables",id:"export_interview_variables",level:4},{value:"is_valid_json",id:"is_valid_json",level:4}],p={toc:m};function d(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h4",{id:"is_file_like"},"is","_","file","_","like"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"def is_file_like(obj: Any) -> bool\n")),(0,i.kt)("p",null,"Return True if the object is a file-like object."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"obj")," ",(0,i.kt)("em",{parentName:"li"},"Any")," - The object to test")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"bool")," - True if the object is a file-like object.")),(0,i.kt)("h4",{id:"set_interview_metadata"},"set","_","interview","_","metadata"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'def set_interview_metadata(filename: str,\n                           session_id: int,\n                           data: Dict,\n                           metadata_key_name="metadata") -> None\n')),(0,i.kt)("p",null,"Add searchable interview metadata for the specified filename and session ID.\nIntended to be used to add an interview title, etc.\nStandardized metadata dictionary:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"title"),(0,i.kt)("li",{parentName:"ul"},"subtitle"),(0,i.kt)("li",{parentName:"ul"},"original_interview_filename"),(0,i.kt)("li",{parentName:"ul"},"variable_count")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"filename")," ",(0,i.kt)("em",{parentName:"li"},"str")," - The filename of the interview to add metadata for"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"session_id")," ",(0,i.kt)("em",{parentName:"li"},"int")," - The session ID of the interview to add metadata for"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"data")," ",(0,i.kt)("em",{parentName:"li"},"Dict")," - The metadata to add"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"metadata_key_name")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - The name of the metadata key. Defaults to ",'"',"metadata",'"',".")),(0,i.kt)("h4",{id:"get_interview_metadata"},"get","_","interview","_","metadata"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'def get_interview_metadata(\n        filename: str,\n        session_id: int,\n        metadata_key_name: str = "metadata") -> Dict[str, Any]\n')),(0,i.kt)("p",null,"Retrieve the unencrypted metadata associated with an interview.\nWe implement this with the docassemble jsonstorage table and a dedicated ",(0,i.kt)("inlineCode",{parentName:"p"},"tag")," which defaults to ",(0,i.kt)("inlineCode",{parentName:"p"},"metadata"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"filename")," ",(0,i.kt)("em",{parentName:"li"},"str")," - The filename of the interview to retrieve metadata for"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"session_id")," ",(0,i.kt)("em",{parentName:"li"},"int")," - The session ID of the interview to retrieve metadata for"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"metadata_key_name")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - The name of the metadata key. Defaults to ",'"',"metadata",'"',".")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("p",null,"  Dict","[str, Any]",": The metadata associated with the interview"),(0,i.kt)("h4",{id:"get_saved_interview_list"},"get","_","saved","_","interview","_","list"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'def get_saved_interview_list(\n        filename: Optional[str] = al_session_store_default_filename,\n        user_id: Union[int, str, None] = None,\n        metadata_key_name: str = "metadata",\n        limit: int = 50,\n        offset: int = 0,\n        filename_to_exclude: str = "",\n        exclude_current_filename: bool = True,\n        exclude_filenames: Optional[List[str]] = None,\n        exclude_newly_started_sessions: bool = False) -> List[Dict[str, Any]]\n')),(0,i.kt)("p",null,"Get a list of saved sessions for the specified filename. If the save_interview_answers function was used\nto add metadata, the result list will include columns containing the metadata.\nIf the user is a developer or administrator, setting user_id = None will list all interviews on the server. Otherwise,\nthe user is limited to their own sessions."),(0,i.kt)("p",null,"Setting ",(0,i.kt)("inlineCode",{parentName:"p"},"exclude_newly_started_sessions")," to True will exclude any results from the list that are still on\n",'"',"step 1",'"',". Note that while this may be useful to filter out interviews that were accidentally started\nand likely do not need to be resumed, it will also have the side effect of excluding all answer sets from the\nresults. Answer sets generally have exactly one ",'"',"step",'"',", which is the step where information was copied from\nan existing interview to the answer set."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"filename")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - The filename of the interview to retrieve sessions for. Defaults to al_session_store_default_filename."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"user_id")," ",(0,i.kt)("em",{parentName:"li"},"Union","[int, str, None]",", optional")," - The user ID to retrieve sessions for. Defaults to None."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"metadata_key_name")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - The name of the metadata key. Defaults to ",'"',"metadata",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"limit")," ",(0,i.kt)("em",{parentName:"li"},"int, optional")," - The maximum number of results to return. Defaults to 50."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"offset")," ",(0,i.kt)("em",{parentName:"li"},"int, optional")," - The offset to start returning results from. Defaults to 0."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"filename_to_exclude")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - The filename to exclude from the results. Defaults to ",'"','"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"exclude_current_filename")," ",(0,i.kt)("em",{parentName:"li"},"bool, optional")," - Whether to exclude the current filename from the results. Defaults to True."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"exclude_filenames")," ",(0,i.kt)("em",{parentName:"li"},"Optional[List","[str]","], optional")," - A list of filenames to exclude from the results. Defaults to None."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"exclude_newly_started_sessions")," ",(0,i.kt)("em",{parentName:"li"},"bool, optional")," - Whether to exclude sessions that are still on ",'"',"step 1",'"',". Defaults to False.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("p",null,"  List[Dict","[str, Any]","]: A list of saved sessions for the specified filename."),(0,i.kt)("h4",{id:"delete_interview_sessions"},"delete","_","interview","_","sessions"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"def delete_interview_sessions(\n        user_id: Optional[int] = None,\n        filename_to_exclude: str = al_session_store_default_filename,\n        exclude_current_filename: bool = True) -> None\n")),(0,i.kt)("p",null,"Delete all sessions for the specified user, excluding the current filename\nand by default, the intentionally saved ",'"',"answer sets",'"',". Created because\ninterview_list(action=",'"',"delete_all",'"',") is both quite slow and because it deletes answer sets."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"user_id")," ",(0,i.kt)("em",{parentName:"li"},"Optional","[int]",", optional")," - The user ID to delete sessions for. Defaults to None."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"filename_to_exclude")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - The filename to exclude from the results. Defaults to al_session_store_default_filename."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"exclude_current_filename")," ",(0,i.kt)("em",{parentName:"li"},"bool, optional")," - Whether to exclude the current filename from the results. Defaults to True.")),(0,i.kt)("h4",{id:"interview_list_html"},"interview","_","list","_","html"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'def interview_list_html(filename: str = al_session_store_default_filename,\n                        user_id: Union[int, str, None] = None,\n                        metadata_key_name: str = "metadata",\n                        exclude_newly_started_sessions=False,\n                        date_label: str = word("Date"),\n                        details_label: str = word("Details"),\n                        actions_label: str = word("Actions"),\n                        delete_label: str = word("Delete"),\n                        view_label: str = word("View"),\n                        load_action: str = "al_sessions_fast_forward_session",\n                        delete_action: str = "al_sessions_delete_session",\n                        view_only: bool = False,\n                        limit: int = 50,\n                        offset: int = 0,\n                        display_interview_title: bool = True) -> str\n')),(0,i.kt)("p",null,"Return a string containing an HTML-formatted table with the list of saved answers\nassociated with the specified filename."),(0,i.kt)("p",null,"Designed to return a list of ",'"',"answer sets",'"'," and by default clicking a title will\ntrigger an action to load the answers into the current session. This only works as\ndesigned when inside an AssemblyLine line interview."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"exclude_newly_started_sessions")," should almost always be set to False, because most answer sets\nare on ",'"',"page 1",'"'," (exactly 1 step was taken to copy the answers and the user isn","'","t able to interact with the answer set\nitself in a way that adds additional steps)"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"filename")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Name of the file. Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"al_session_store_default_filename"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"user_id")," ",(0,i.kt)("em",{parentName:"li"},"Union","[int, str, None]",", optional")," - User","'","s ID. Defaults to None."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"metadata_key_name")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Name of the metadata key. Defaults to ",'"',"metadata",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"exclude_newly_started_sessions")," ",(0,i.kt)("em",{parentName:"li"},"bool, optional")," - If True, newly started sessions are excluded. Defaults to False."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"date_label")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Label for the date column. Defaults to translated word ",'"',"Date",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"details_label")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Label for the details column. Defaults to translated word ",'"',"Details",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"actions_label")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Label for the actions column. Defaults to translated word ",'"',"Actions",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"delete_label")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Label for the delete action. Defaults to translated word ",'"',"Delete",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"view_label")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Label for the view action. Defaults to translated word ",'"',"View",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"load_action")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Name of the load action. Defaults to ",'"',"al_sessions_fast_forward_session",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"delete_action")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Name of the delete action. Defaults to ",'"',"al_sessions_delete_session",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"view_only")," ",(0,i.kt)("em",{parentName:"li"},"bool, optional")," - If True, only view is allowed. Defaults to False."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"limit")," ",(0,i.kt)("em",{parentName:"li"},"int, optional")," - Limit for the number of sessions returned. Defaults to 50."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"offset")," ",(0,i.kt)("em",{parentName:"li"},"int, optional")," - Offset for the session list. Defaults to 0."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"display_interview_title")," ",(0,i.kt)("em",{parentName:"li"},"bool, optional")," - If True, displays the title of the interview. Defaults to True.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"str")," - HTML-formatted table containing the list of saved answers.")),(0,i.kt)("h4",{id:"nice_interview_title"},"nice","_","interview","_","title"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"def nice_interview_title(answer: Dict[str, str]) -> str\n")),(0,i.kt)("p",null,"Return a human readable version of the interview name. Will try several strategies\nin descending priority order."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Try looking up the interview title from the ",(0,i.kt)("inlineCode",{parentName:"li"},"dispatch")," directive"),(0,i.kt)("li",{parentName:"ol"},"Try removing the package and path from the filename and replace _ with spaces."),(0,i.kt)("li",{parentName:"ol"},"Finally, return ",'"',"Untitled interview",'"'," or translated phrase from system-wide words.yml")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"answer")," ",(0,i.kt)("em",{parentName:"li"},"Dict","[str, str]")," - The answer dictionary to get the interview title from")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"str")," - The human readable interview title")),(0,i.kt)("h4",{id:"pascal_to_zwspace"},"pascal","_","to","_","zwspace"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"def pascal_to_zwspace(text: str) -> str\n")),(0,i.kt)("p",null,"Insert a zero-width space into words that are PascalCased to help\nwith word breaks on small viewports."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"text")," ",(0,i.kt)("em",{parentName:"li"},"str")," - The text to insert zero-width spaces into")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"str")," - The text with zero-width spaces inserted")),(0,i.kt)("h4",{id:"nice_interview_subtitle"},"nice","_","interview","_","subtitle"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"def nice_interview_subtitle(answer: Dict[str, str],\n                            exclude_identical=True) -> str\n")),(0,i.kt)("p",null,"Return first defined of the ",'"',"title",'"'," metadata, the ",'"',"auto_title",'"'," metadata, or empty string."),(0,i.kt)("p",null,"If exclude_identical, return empty string when title is the same as the subtitle."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"answer")," ",(0,i.kt)("em",{parentName:"li"},"Dict","[str, str]")," - The answer dictionary to get the interview subtitle from"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"exclude_identical")," ",(0,i.kt)("em",{parentName:"li"},"bool, optional")," - If True, excludes the subtitle if it is identical to the title. Defaults to True.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"str")," - The human readable interview subtitle")),(0,i.kt)("h4",{id:"radial_progress"},"radial","_","progress"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"def radial_progress(answer: Dict[str, Union[str, int]]) -> str\n")),(0,i.kt)("p",null,"Return HTML for a radial progress bar, or the number of steps if progress isn","'","t available in the metadata."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"answer")," ",(0,i.kt)("em",{parentName:"li"},"Dict[str, Union","[str, int]","]")," - The answer dictionary to get the interview progress from")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"str")," - the HTML as a string")),(0,i.kt)("h4",{id:"local_date"},"local","_","date"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"def local_date(utcstring: Optional[str]) -> DADateTime\n")),(0,i.kt)("p",null,"Return a localized date from a UTC string."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"utcstring")," ",(0,i.kt)("em",{parentName:"li"},"Optional","[str]")," - The UTC string to convert to a localized date")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"DADateTime")," - The localized date")),(0,i.kt)("h4",{id:"session_list_html"},"session","_","list","_","html"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'def session_list_html(\n        filename: Optional[str] = None,\n        user_id: Union[int, str, None] = None,\n        metadata_key_name: str = "metadata",\n        filename_to_exclude: str = al_session_store_default_filename,\n        exclude_current_filename: bool = True,\n        exclude_filenames: Optional[List[str]] = None,\n        exclude_newly_started_sessions: bool = False,\n        name_label: str = word("Title"),\n        date_label: str = word("Date modified"),\n        details_label: str = word("Progress"),\n        actions_label: str = word("Actions"),\n        delete_label: str = word("Delete"),\n        rename_label: str = word("Rename"),\n        rename_action: str = "interview_list_rename_action",\n        delete_action: str = "interview_list_delete_session",\n        copy_action: str = "interview_list_copy_action",\n        clone_label: str = word("Copy as answer set"),\n        show_title: bool = True,\n        limit: int = 50,\n        offset: int = 0) -> str\n')),(0,i.kt)("p",null,"Return a string containing an HTML-formatted table with the list of user sessions.\nWhile interview_list_html() is for answer sets, this feature is for standard\nuser sessions. The results exclude the answer set filename by default."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"filename")," ",(0,i.kt)("em",{parentName:"li"},"Optional","[str]",", optional")," - Name of the file. Defaults to None."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"user_id")," ",(0,i.kt)("em",{parentName:"li"},"Union","[int, str, None]",", optional")," - User","'","s ID. Defaults to None."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"metadata_key_name")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Name of the metadata key. Defaults to ",'"',"metadata",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"filename_to_exclude")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Name of the file to exclude. Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"al_session_store_default_filename"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"exclude_current_filename")," ",(0,i.kt)("em",{parentName:"li"},"bool, optional")," - If True, excludes the current filename. Defaults to True."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"exclude_filenames")," ",(0,i.kt)("em",{parentName:"li"},"Optional[List","[str]","], optional")," - List of filenames to exclude. Defaults to None."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"exclude_newly_started_sessions")," ",(0,i.kt)("em",{parentName:"li"},"bool, optional")," - If True, excludes newly started sessions. Defaults to False."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"name_label")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Label for the session name/title. Defaults to translated word ",'"',"Title",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"date_label")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Label for the date column. Defaults to translated word ",'"',"Date modified",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"details_label")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Label describing the progress of the session. Defaults to translated word ",'"',"Progress",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"actions_label")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Label for actions applicable to the session. Defaults to translated word ",'"',"Actions",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"delete_label")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Label for the delete action. Defaults to translated word ",'"',"Delete",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"rename_label")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Label for the rename action. Defaults to translated word ",'"',"Rename",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"rename_action")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Name of the rename action. Defaults to ",'"',"interview_list_rename_action",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"delete_action")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Name of the delete action. Defaults to ",'"',"interview_list_delete_session",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"copy_action")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Name of the copy action. Defaults to ",'"',"interview_list_copy_action",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"clone_label")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Label for the action to copy as an answer set. Defaults to translated word ",'"',"Copy as answer set",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"show_title")," ",(0,i.kt)("em",{parentName:"li"},"bool, optional")," - If True, shows the title of the session. Defaults to True."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"limit")," ",(0,i.kt)("em",{parentName:"li"},"int, optional")," - Limit for the number of sessions returned. Defaults to 50."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"offset")," ",(0,i.kt)("em",{parentName:"li"},"int, optional")," - Offset for the session list. Defaults to 0.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"str")," - HTML-formatted table containing the list of user sessions.")),(0,i.kt)("h4",{id:"rename_interview_answers"},"rename","_","interview","_","answers"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'def rename_interview_answers(filename: str,\n                             session_id: int,\n                             new_name: str,\n                             metadata_key_name: str = "metadata") -> None\n')),(0,i.kt)("p",null,"Update the ","'","title","'"," metadata of an interview, as stored in the dedicated ",(0,i.kt)("inlineCode",{parentName:"p"},"metadata")," column, without touching other\nmetadata that may be present."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"filename")," ",(0,i.kt)("em",{parentName:"p"},"str")," - The filename of the interview to rename")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"session_id")," ",(0,i.kt)("em",{parentName:"p"},"int")," - The session ID of the interview to rename")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"new_name")," ",(0,i.kt)("em",{parentName:"p"},"str")," - The new name to set for the interview")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"metadata_key_name")," ",(0,i.kt)("em",{parentName:"p"},"str, optional")," - The name of the metadata key. Defaults to ",'"',"metadata",'"',"."),(0,i.kt)("p",{parentName:"li"},"If exception is raised in set_session_variables, this will silently fail but log the error."))),(0,i.kt)("h4",{id:"set_current_session_metadata"},"set","_","current","_","session","_","metadata"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'def set_current_session_metadata(data: Dict[str, Any],\n                                 metadata_key_name: str = "metadata") -> None\n')),(0,i.kt)("p",null,"Set metadata for the current session, such as the title, in an unencrypted database entry."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"data")," ",(0,i.kt)("em",{parentName:"li"},"Dict","[str, Any]")," - The metadata to set"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"metadata_key_name")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - The name of the metadata key. Defaults to ",'"',"metadata",'"',".")),(0,i.kt)("h4",{id:"rename_current_session"},"rename","_","current","_","session"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'def rename_current_session(new_name: str,\n                           metadata_key_name: str = "metadata") -> None\n')),(0,i.kt)("p",null,"Update the ",'"',"title",'"'," metadata entry for the current session without changing any other\nmetadata that might be present."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"new_name")," ",(0,i.kt)("em",{parentName:"li"},"str")," - The new name to set for the interview"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"metadata_key_name")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - The name of the metadata key. Defaults to ",'"',"metadata",'"',".")),(0,i.kt)("h4",{id:"save_interview_answers"},"save","_","interview","_","answers"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'def save_interview_answers(filename: str = al_session_store_default_filename,\n                           variables_to_filter: Union[Set[str], List[str],\n                                                      None] = None,\n                           metadata: Optional[Dict] = None,\n                           metadata_key_name: str = "metadata",\n                           original_interview_filename=None,\n                           source_filename=None,\n                           source_session=None) -> str\n')),(0,i.kt)("p",null,"Copies the answers from a given session into a new session with a specified interview filename."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"filename")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - The desired filename for the new session. Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"al_session_store_default_filename"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"variables_to_filter")," ",(0,i.kt)("em",{parentName:"li"},"Union[Set","[str]",", List","[str]",", None], optional")," - List or set of variables to filter out. Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"al_sessions_variables_to_remove"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"metadata")," ",(0,i.kt)("em",{parentName:"li"},"Optional","[Dict]",", optional")," - Dictionary containing metadata. Defaults to an empty dictionary."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"metadata_key_name")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Key name for metadata storage. Defaults to ",'"',"metadata",'"',"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"original_interview_filename")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Original filename of the interview. Defaults to None."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"source_filename")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Source filename to get session variables from. Defaults to None."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"source_session")," ",(0,i.kt)("em",{parentName:"li"},"str, optional")," - Session ID of the source file. Defaults to None.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"str")," - ID of the new session.")),(0,i.kt)("h4",{id:"get_filtered_session_variables"},"get","_","filtered","_","session","_","variables"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"def get_filtered_session_variables(\n    filename: Optional[str] = None,\n    session_id: Optional[int] = None,\n    variables_to_filter: Union[Set[str], List[str], None] = None\n) -> Dict[str, Any]\n")),(0,i.kt)("p",null,"Retrieves a filtered subset of variables from a specified interview and session.\nIf no filename and session ID are given, it will return a filtered list of variables\nfrom the current interview."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"filename")," ",(0,i.kt)("em",{parentName:"li"},"Optional","[str]",", optional")," - Filename of the session. Defaults to None."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"session_id")," ",(0,i.kt)("em",{parentName:"li"},"Optional","[int]",", optional")," - Session ID to retrieve variables from. Defaults to None."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"variables_to_filter")," ",(0,i.kt)("em",{parentName:"li"},"Union[Set","[str]",", List","[str]",", None], optional")," - List or set of variables to exclude. Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"al_sessions_variables_to_remove"),".")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("p",null,"  Dict","[str, Any]",": A dictionary of filtered session variables."),(0,i.kt)("h4",{id:"get_filtered_session_variables_string"},"get","_","filtered","_","session","_","variables","_","string"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"def get_filtered_session_variables_string(\n        filename: Optional[str] = None,\n        session_id: Optional[int] = None,\n        variables_to_filter: Union[Set[str], List[str], None] = None) -> str\n")),(0,i.kt)("p",null,"Returns a JSON string that represents the filtered contents of a specified filename and session ID.\nIf no filename and session ID are provided, the current session","'","s variables will be used."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"filename")," ",(0,i.kt)("em",{parentName:"li"},"Optional","[str]",", optional")," - Filename of the session. Defaults to None."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"session_id")," ",(0,i.kt)("em",{parentName:"li"},"Optional","[int]",", optional")," - Session ID to retrieve variables from. Defaults to None."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"variables_to_filter")," ",(0,i.kt)("em",{parentName:"li"},"Union[Set","[str]",", List","[str]",", None], optional")," - List or set of variables to exclude. Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"al_sessions_variables_to_remove"),".")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"str")," - A JSON-formatted string of filtered session variables.")),(0,i.kt)("h4",{id:"load_interview_answers"},"load","_","interview","_","answers"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"def load_interview_answers(\n    old_interview_filename: str,\n    old_session_id: int,\n    new_session: bool = False,\n    new_interview_filename: Optional[str] = None,\n    variables_to_filter: Optional[List[str]] = None\n) -> Optional[Union[int, bool]]\n")),(0,i.kt)("p",null,"Loads answers from a specified session. If the parameter ",(0,i.kt)("inlineCode",{parentName:"p"},"new_session")," is set to True, it will create\na new session with the provided or current interview filename. Otherwise, it will load the answers into\nthe active session. This function is primarily used for migrating answers between sessions."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"old_interview_filename")," ",(0,i.kt)("em",{parentName:"li"},"str")," - Filename of the old interview."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"old_session_id")," ",(0,i.kt)("em",{parentName:"li"},"int")," - Session ID of the old interview."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"new_session")," ",(0,i.kt)("em",{parentName:"li"},"bool, optional")," - Determines whether to create a new session. Defaults to False."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"new_interview_filename")," ",(0,i.kt)("em",{parentName:"li"},"Optional","[str]",", optional")," - Filename for the new session. Defaults to None."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"variables_to_filter")," ",(0,i.kt)("em",{parentName:"li"},"Optional[List","[str]","], optional")," - List of variables to exclude. Defaults to None.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("p",null,"  Optional[Union","[int, bool]","]: ID of the newly created session if ",(0,i.kt)("inlineCode",{parentName:"p"},"new_session")," is True, otherwise True or False based on success."),(0,i.kt)("h4",{id:"load_interview_json"},"load","_","interview","_","json"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"def load_interview_json(\n        json_string: str,\n        new_session: bool = False,\n        new_interview_filename: Optional[str] = None,\n        variables_to_filter: Optional[List[str]] = None) -> Optional[int]\n")),(0,i.kt)("p",null,"Given a JSON string, this function loads the specified variables into a Docassemble session.\nJSON strings containing annotated class names will be transformed into Docassemble objects.\nIf the ",(0,i.kt)("inlineCode",{parentName:"p"},"new_session")," argument is not set, the JSON answers will be loaded into the current interview."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"json_string")," ",(0,i.kt)("em",{parentName:"li"},"str")," - A JSON-formatted string containing session variables."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"new_session")," ",(0,i.kt)("em",{parentName:"li"},"bool, optional")," - Specifies whether to create a new session or load into the current one. Defaults to False."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"new_interview_filename")," ",(0,i.kt)("em",{parentName:"li"},"Optional","[str]",", optional")," - Filename for the new session. Defaults to None."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"variables_to_filter")," ",(0,i.kt)("em",{parentName:"li"},"Optional[List","[str]","], optional")," - List of variables to exclude. Defaults to None.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("p",null,"  Optional[Union","[int, bool]","]: ID of the newly created session if ",(0,i.kt)("inlineCode",{parentName:"p"},"new_session")," is True, otherwise True or False based on success."),(0,i.kt)("h4",{id:"export_interview_variables"},"export","_","interview","_","variables"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"def export_interview_variables(filename: Optional[str] = None,\n                               session_id: Optional[int] = None,\n                               variables_to_filter: Union[Set, List[str],\n                                                          None] = None,\n                               output: DAFile = None) -> DAFile\n")),(0,i.kt)("p",null,"Generates a DAFile containing a JSON representation of a specified session","'","s interview answers.\nThe resultant output is compatible with ",(0,i.kt)("inlineCode",{parentName:"p"},"set_session_variables(process_objects=True)")," and\n",(0,i.kt)("inlineCode",{parentName:"p"},"set_variables(process_objects=True)")," methods."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"filename")," ",(0,i.kt)("em",{parentName:"li"},"Optional","[str]",", optional")," - Filename of the session. Defaults to None."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"session_id")," ",(0,i.kt)("em",{parentName:"li"},"Optional","[int]",", optional")," - Session ID to retrieve variables from. Defaults to None."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"variables_to_filter")," ",(0,i.kt)("em",{parentName:"li"},"Union[Set, List","[str]",", None], optional")," - List or set of variables to exclude. Defaults to None."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"output")," ",(0,i.kt)("em",{parentName:"li"},"DAFile, optional")," - DAFile to write the JSON output to. If None, a new DAFile is created.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"DAFile")," - DAFile with a JSON representation of the answers")),(0,i.kt)("h4",{id:"is_valid_json"},"is","_","valid","_","json"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"def is_valid_json(json_string: str) -> bool\n")),(0,i.kt)("p",null,"Checks if the provided string is a valid JSON-formatted string."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"json_string")," ",(0,i.kt)("em",{parentName:"li"},"str")," - The string to be checked for JSON validity.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Returns"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"bool")," - True if the string is a valid JSON, otherwise it raises a validation error and returns False.")))}d.isMDXComponent=!0}}]);