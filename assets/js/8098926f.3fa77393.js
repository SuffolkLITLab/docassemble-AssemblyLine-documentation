"use strict";(self.webpackChunkdocassemble_assembly_line_documentation=self.webpackChunkdocassemble_assembly_line_documentation||[]).push([[3285],{2088:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>r,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>o,toc:()=>a});var i=n(4848),d=n(8453);const l={id:"al_general_overview",title:"Python classes for representing people and addresses",sidebar_label:"Representing people & addresses",slug:"ALGeneral/overview"},t=void 0,o={id:"components/AssemblyLine/al_general_overview",title:"Python classes for representing people and addresses",description:"The functions and classes listed on this page are always available in Assembly Line interviews.",source:"@site/docs/components/AssemblyLine/al_general_overview.md",sourceDirName:"components/AssemblyLine",slug:"/components/AssemblyLine/ALGeneral/overview",permalink:"/docs/components/AssemblyLine/ALGeneral/overview",draft:!1,unlisted:!1,editUrl:"https://github.com/SuffolkLITLab/docassemble-AssemblyLine-documentation/edit/main/docs/components/AssemblyLine/al_general_overview.md",tags:[],version:"current",frontMatter:{id:"al_general_overview",title:"Python classes for representing people and addresses",sidebar_label:"Representing people & addresses",slug:"ALGeneral/overview"},sidebar:"docs",previous:{title:"Interview accessibility",permalink:"/docs/coding_style/accessibility"},next:{title:"Working with multiple templates",permalink:"/docs/components/AssemblyLine/ALDocument/overview"}},r={},a=[{value:"ALAddress and ALAddressList classes",id:"ALAddress",level:2},{value:"ALAddressList",id:"ALAddressList",level:3},{value:"ALIndividual and ALPeopleList classes",id:"ALIndividual",level:3},{value:"Relation to the <code>Individual</code> class",id:"relation-to-the-individual-class",level:4},{value:"ALPeopleList",id:"ALPeopleList",level:3},{value:"Relation to the <code>DAList</code> class",id:"relation-to-the-dalist-class",level:3},{value:"Classes for specific kinds of people",id:"other-people",level:2}];function c(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.p,{children:"The functions and classes listed on this page are always available in Assembly Line interviews."}),"\n",(0,i.jsx)(s.h2,{id:"ALAddress",children:"ALAddress and ALAddressList classes"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"ALAddress"})," class is an extension of the built-in Docassemble\n",(0,i.jsx)(s.a,{href:"https://docassemble.org/docs/objects.html#Address",children:(0,i.jsx)(s.code,{children:"Address"})})," class."]}),"\n",(0,i.jsxs)(s.p,{children:["If an address is an ",(0,i.jsx)(s.code,{children:"ALAddress"}),", it has an ",(0,i.jsx)(s.code,{children:"address_fields()"})," method that can be used inside a ",(0,i.jsx)(s.code,{children:"fields: code: |"})," statement to insert a consistently formatted series of address fields. ",(0,i.jsx)(s.code,{children:"address_fields()"})," will include an autocomplete method and is internationalized."]}),"\n",(0,i.jsxs)(s.p,{children:["Assembly Line question library questions use ",(0,i.jsx)(s.code,{children:"ALAddress"})," objects for both the ",(0,i.jsx)(s.code,{children:"address"})," and ",(0,i.jsx)(s.code,{children:"mailing_address"})," attributes of people."]}),"\n",(0,i.jsx)(s.p,{children:"Example:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"---\nobjects:\n  - the_address: ALAddress\n---\nid: address question\nsets:\n  - the_address.address\n  - the_address.city\nquestion: |\n  What is the address?\nfields:\n  - code: |\n      the_address.address_fields()\n"})}),"\n",(0,i.jsxs)(s.p,{children:["See ",(0,i.jsx)(s.a,{href:"/docs/style_guide/question_library/addresses",children:(0,i.jsx)(s.code,{children:"Addresses"})})," for more information and\nexamples."]}),"\n",(0,i.jsxs)(s.admonition,{type:"note",children:[(0,i.jsx)(s.mdxAdmonitionTitle,{}),(0,i.jsxs)(s.p,{children:["You must use ",(0,i.jsx)(s.code,{children:"sets"})," with the ",(0,i.jsx)(s.code,{children:"address_fields()"})," method. Otherwise\nDocassemble will not be able to find the block to provide a definition\nof the address fields."]})]}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"address_fields()"})," method includes the following optional parameters:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"country_code"}),": if provided, will be used to control the list of states that\nis displayed as well as the default country in the ",(0,i.jsx)(s.code,{children:"country"})," drop down. In\nthe Assembly Line question library, ",(0,i.jsx)(s.code,{children:"country_code"})," typically defaults to the value of\n",(0,i.jsx)(s.code,{children:"AL_DEFAULT_COUNTRY"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"default_state"}),": default state, province, or sub locality. In the Assembly Line\nquestion library, ",(0,i.jsx)(s.code,{children:"default_state"})," typically defaults to the value of\n",(0,i.jsx)(s.code,{children:"AL_DEFAULT_STATE"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"show_country"}),": defaults to ",(0,i.jsx)(s.code,{children:"False"}),". If enabled, a country drop down menu will\nbe displayed."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"ALAddressList",children:"ALAddressList"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"ALAddressList"})," class is a collection of ",(0,i.jsx)(s.code,{children:"ALAddress"}),"es. It is used to\nallow you to collect multiple addresses in one go and otherwise works exactly\nlike the built-in Docassemble ",(0,i.jsxs)(s.a,{href:"https://docassemble.org/docs/objects.html#DAList",children:[(0,i.jsx)(s.code,{children:"DAList"}),"\nobject"]}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"__str__()"})," method of an ",(0,i.jsx)(s.code,{children:"ALAddressList"})," has been modified so that using it\ndisplays a series of addresses on one line, separated by ",(0,i.jsx)(s.code,{children:";"}),". This is used\nany place that Docassemble treats the variable as text, such as in a\ntemplate, attachment block, or in a ",(0,i.jsx)(s.code,{children:"question"})," or ",(0,i.jsx)(s.code,{children:"subquestion"})," field."]}),"\n",(0,i.jsx)(s.p,{children:"Example:"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"${ person.previous_addresses }"})," might display ",(0,i.jsx)(s.code,{children:"123 Main St, Boston, MA; 456 Broadway, Cambridge, MA"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"previous_addresses"})," attribute of an ",(0,i.jsx)(s.code,{children:"ALIndividual"})," is an ",(0,i.jsx)(s.code,{children:"ALAddressList"}),"."]}),"\n",(0,i.jsx)(s.h3,{id:"ALIndividual",children:"ALIndividual and ALPeopleList classes"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"ALIndividual"})," is an extension of the Docassemble\n",(0,i.jsx)(s.a,{href:"https://docassemble.org/docs/objects.html#Individual",children:(0,i.jsx)(s.code,{children:"Individual"})})," class. It\nshould be used to represent both natural people and businesses or other\nentities."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"ALIndividual"})," objects include the following methods that are not in the stock\n",(0,i.jsx)(s.code,{children:"Individual"})," class:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"signature_if_final(i)"})," is meant to be used inside a template or attachment\nblock with the ",(0,i.jsx)(s.code,{children:"ALDocument"})," class. It displays the signature if and only if\n",(0,i.jsx)(s.code,{children:"i"})," == 'final'."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"phone_numbers()"})," displays either ",(0,i.jsx)(s.code,{children:"mobile_number"}),", ",(0,i.jsx)(s.code,{children:"phone_number"}),", or both if\nboth are present for use in a PDF form with only one space to list phone\nnumbers."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"contact_methods()"}),' displays a list of the contact methods the user provided\nin the default question library "contact information" screen as a formatted\nstring. Specifically, it will display ',(0,i.jsx)(s.code,{children:"mobile_number"}),", ",(0,i.jsx)(s.code,{children:"phone_number"}),",\n",(0,i.jsx)(s.code,{children:"email"}),", and ",(0,i.jsx)(s.code,{children:"other_contact_method"}),". This may be helpful in a formatted letter."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"age_in_years()"})," returns the individual's age as an integer (whole number), calculated from the individual's ",(0,i.jsx)(s.code,{children:"birthdate"})," attribute."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"formatted_age()"})," is like ",(0,i.jsx)(s.code,{children:"age_in_years()"})," but returns a formatted string with\n",(0,i.jsx)(s.code,{children:"years"}),", ",(0,i.jsx)(s.code,{children:"months"}),", ",(0,i.jsx)(s.code,{children:"weeks"}),", and ",(0,i.jsx)(s.code,{children:"days"})," included when relevant. The cutoff is 2\nweeks to display days, 2 years to display months, and anything over 2 years\ndisplays only years."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"name_fields(person_or_business:str = 'person', show_suffix=True)"})," is like\n",(0,i.jsx)(s.code,{children:"address_fields()"})," and is used to display a list of either 3 or 4 fields for a\nperson's name. See ",(0,i.jsx)(s.a,{href:"/docs/style_guide/question_library/names",children:(0,i.jsx)(s.code,{children:"Names"})})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"address_fields()"})," is a wrapper around the ",(0,i.jsx)(s.code,{children:"address_fields()"})," method of an\n",(0,i.jsx)(s.code,{children:"ALAddress"})," with the same parameters."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"gender_fields(show_help=False)"})," is like the ",(0,i.jsx)(s.code,{children:"address_fields()"})," method but\ndisplays a list of vetted gender options. Read more about\n",(0,i.jsx)(s.a,{href:"/docs/style_guide/question_library/gender",children:(0,i.jsx)(s.code,{children:"gender"})})," questions."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"pronoun_fields()"})," displays a question that allows the user to provide their pronouns, with multiple choice and a fill-in-the-blank option. See ",(0,i.jsx)(s.a,{href:"/docs/style_guide/question_library/pronouns",children:(0,i.jsx)(s.code,{children:"pronouns"})}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"initials()"})," is used to return a string with the 1, 2, or 3 initial letters of\na person's name. E.g., ",(0,i.jsx)(s.code,{children:"QKS"})," for Quinten K Steenhuis."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"language_fields(choices=List[Dict[str, str]])"})," provides a language selector that sets the ",(0,i.jsx)(s.code,{children:".language"})," attribute of the user, together with an ",(0,i.jsx)(s.code,{children:"other"})," fill-in. This should be the two-letter ISO language code. We recommend defining and passing a dictionary named ",(0,i.jsx)(s.code,{children:"al_language_user_choices"})," which will also be used by built-in questions triggered from ",(0,i.jsx)(s.code,{children:"ql_baseline.yml"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"language_name()"})," will return the language name in English. If there is a system-wide translation ",(0,i.jsx)(s.code,{children:"words.yml"})," translation file and the user's interface is in that language, the language name will be translated. If the user selected an ",(0,i.jsx)(s.code,{children:"other"})," option, the ",(0,i.jsx)(s.code,{children:"other"})," option will be returned."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Read-only attributes:"}),"\n",(0,i.jsxs)(s.p,{children:["The following are all read-only attributes you can use with PDF checkbox fields.\nThey return ",(0,i.jsx)(s.code,{children:"True"})," or ",(0,i.jsx)(s.code,{children:"False"})," depending on the value of the ",(0,i.jsx)(s.code,{children:"gender"})," attribute."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"gender_male"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"gender_female"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"gender_nonbinary"})}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"gender_other"})," (True if and only if the ",(0,i.jsx)(s.code,{children:"gender"}),' attribute is not "female" or "male")']}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"gender_unknown"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"gender_self_described"})}),"\n"]}),"\n",(0,i.jsxs)(s.h4,{id:"relation-to-the-individual-class",children:["Relation to the ",(0,i.jsx)(s.code,{children:"Individual"})," class"]}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"ALIndividual"})," class inherits from Docassemble's ",(0,i.jsx)(s.a,{href:"https://docassemble.org/docs/objects.html#Individual",children:(0,i.jsx)(s.code,{children:"Individual"})})," class, and all other methods of ",(0,i.jsx)(s.code,{children:"Individual"})," work\nthe same way as they do in the ",(0,i.jsx)(s.code,{children:"Individual"})," class."]}),"\n",(0,i.jsx)(s.h3,{id:"ALPeopleList",children:"ALPeopleList"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"ALPeopleList"})," class is used to represent a group of people. Otherwise it\nworks exactly like the built-in Docassemble ",(0,i.jsxs)(s.a,{href:"https://docassemble.org/docs/objects.html#DAList",children:[(0,i.jsx)(s.code,{children:"DAList"}),"\nobject"]}),"."]}),"\n",(0,i.jsx)(s.p,{children:"It also has the following additional methods:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"familiar()"})," returns a comma-separated list of just the first name of each\nmember of the list, with ",(0,i.jsx)(s.code,{children:"and"})," joining the last two items"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"familiar_or()"})," returns a comma-separated list of just the first name of each\nmember of the list, with ",(0,i.jsx)(s.code,{children:"or"})," joining the last two items"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"short_list(limit:int, truncate_string:str=', et. al.')"})," returns a list that\nwill be cut off at the ",(0,i.jsx)(s.code,{children:"limit"})," provided. By default, ",(0,i.jsx)(s.code,{children:", et. al."})," is appended.\nThe text can be customized."]}),"\n"]}),"\n",(0,i.jsxs)(s.admonition,{type:"note",children:[(0,i.jsx)(s.mdxAdmonitionTitle,{}),(0,i.jsxs)(s.p,{children:["In the lists above, ",(0,i.jsx)(s.code,{children:"and"})," and ",(0,i.jsx)(s.code,{children:"or"})," can be translated using\n",(0,i.jsx)(s.a,{href:"https://docassemble.org/docs/config.html#words",children:(0,i.jsx)(s.code,{children:"words.yml"})}),")"]})]}),"\n",(0,i.jsx)(s.p,{children:"Example:"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"users.short_list(2)"})," will display ",(0,i.jsx)(s.code,{children:"John Smith and Jane Smith, et. al."})," if the\nlist contains John Smith, Jane Smith, and Jane Doe. ",(0,i.jsx)(s.code,{children:"et al"})," is not used if the\nlist is at or below the limit provided."]}),"\n",(0,i.jsxs)(s.h3,{id:"relation-to-the-dalist-class",children:["Relation to the ",(0,i.jsx)(s.code,{children:"DAList"})," class"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"ALPeopleList"})," inherits from Docassemble's\n",(0,i.jsx)(s.a,{href:"https://docassemble.org/docs/objects.html#DAList",children:(0,i.jsx)(s.code,{children:"DAList"})})," class, and retains\nall methods and attributes of a ",(0,i.jsx)(s.code,{children:"DAList"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["Specifically, the language methods, including the ",(0,i.jsx)(s.code,{children:"pronoun()"})," and related\nmethods, can be used to display the correct pronoun depending on the number and\ngender of the members of an ",(0,i.jsx)(s.code,{children:"ALPeopleList"}),". E.g., ",(0,i.jsx)(s.code,{children:"users.pronoun_possessive()"}),"\nwill return ",(0,i.jsx)(s.code,{children:"her"})," if there is a single user with the ",(0,i.jsx)(s.code,{children:"gender"}),' attribute value\n"female", and ',(0,i.jsx)(s.code,{children:"their"})," if there are multiple members of the list."]}),"\n",(0,i.jsx)(s.p,{children:'These methods can be helpful inside single-language pleading templates but\nusually should not be used inside the interview itself, as they can make\ntranslation challenging. While there are language-specific versions of these\nmethods, they can lead to odd ungrammatical "fragments". As tedious as it may\nbe, the best practice for translation inside the interview is to use conditional\nlogic for full sentences matching each gender and number.'}),"\n",(0,i.jsx)(s.h2,{id:"other-people",children:"Classes for specific kinds of people"}),"\n",(0,i.jsx)(s.p,{children:"Currently, the Assembly Line interviews provide these classes that you can use\nto target questions to a specific type of person:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"Tenant"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"HousingAuthority"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"Applicant"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"Abuser"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"Survivor"})}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Each class subclasses ",(0,i.jsx)(s.code,{children:"ALIndividual"})," and shares its methods and attributes.\nThere are no special attributes or methods of these classes. They are\nprovided for you to customize questions."]})]})}function h(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>o});var i=n(6540);const d={},l=i.createContext(d);function t(e){const s=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),i.createElement(l.Provider,{value:s},e.children)}}}]);