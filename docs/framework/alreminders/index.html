<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-framework/alreminders" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Scheduled reminders | The Document Assembly Line</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://assemblyline.suffolklitlab.org/docs/framework/alreminders"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Scheduled reminders | The Document Assembly Line"><meta data-rh="true" name="description" content="A guided interview is always an intervention into one part of a larger process."><meta data-rh="true" property="og:description" content="A guided interview is always an intervention into one part of a larger process."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://assemblyline.suffolklitlab.org/docs/framework/alreminders"><link data-rh="true" rel="alternate" href="https://assemblyline.suffolklitlab.org/docs/framework/alreminders" hreflang="en"><link data-rh="true" rel="alternate" href="https://assemblyline.suffolklitlab.org/docs/framework/alreminders" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-622Z2D6Q3Q"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-622Z2D6Q3Q",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.6d2fe215.css">
<script src="/assets/js/runtime~main.f1e42e59.js" defer="defer"></script>
<script src="/assets/js/main.d7f14ec8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/LITLab_white_and_gold.svg" alt="The Suffolk LIT Lab Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/LITLab_white_and_gold.svg" alt="The Suffolk LIT Lab Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">The Document Assembly Line</b></a><a class="navbar__item navbar__link" href="/docs/get_started">Get Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/overview">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://suffolklitlab.org/legal-tech-class/docs/introduction-to-docassemble" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Legal Tech Class<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://docassemble.org/docs.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Docassemble Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/planning">Authoring interviews</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/style_guide/question_overview">Writing good questions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/coding_style_guide">Coding style guide</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/framework/magic_variables">Special variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/framework/reserved_keywords">Reserved variables</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/framework/algeneral">AssemblyLine</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/algeneral">al_general 01</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/AssemblyLine/al_general">al_general</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/AssemblyLine/al_courts">al_courts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/aldocument">al_document 01</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/AssemblyLine/al_document">al_document</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/AssemblyLine/language">language</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/framework/alreminders">Scheduled reminders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/AssemblyLine/sessions">sessions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/framework/answer_sets">Answer sets</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/navigation">Dynamic navigation sections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/framework/error_actions">Error pages</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/framework/alrecipes">ALRecipes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/framework/altoolbox">ALToolbox</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/framework/alrecipes">ALRecipes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/complexity/complexity">RateMyPDF</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/framework/github_feedback">Feedback</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/analytics/tracking_usage">InterviewStats</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/reference/formfyxer/lit_explorer">FormFyxer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/efiling/overview">E-filing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/alkiln/intro">ALKiln</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">AssemblyLine</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Scheduled reminders</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Scheduled reminders</h1></header><p>A guided interview is always an intervention into one part of a larger process.</p>
<p>One way to help the user after the main interview is over is to send them reminders
at scheduled times.</p>
<p>You can use scheduled reminders to:</p>
<ul>
<li>Remind the user to show up in court</li>
<li>Provide a link to the interview so they can perform a follow-up step (like sending in a motion)</li>
<li>Provide affirmations</li>
<li>Provide helpful information &quot;just in time&quot; around important milestones in their case</li>
</ul>
<p>The Assembly Line&#x27;s reminder system supports both:</p>
<ol>
<li>Email reminders, and</li>
<li>SMS text messages</li>
</ol>
<p>This is simply a light API with basic use of Docassemble&#x27;s built-in
<a href="https://docassemble.org/docs/background.html#scheduled" target="_blank" rel="noopener noreferrer">cron</a> system. If it doesn&#x27;t
fit your needs, you may want to use our example for inspiration and build your own.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" href="/docs/framework/alreminders#prerequisites">​</a></h2>
<p>To send reminders by SMS, you will need an SMS provider set up in your docassemble configuration.
Currently, Docassemble&#x27;s only supported provider is Twilio.</p>
<p>To send reminders by <strong>email</strong> you will need email configured on your server.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started-with-the-assembly-lines-reminders-system">Getting started with the Assembly Line&#x27;s reminders system<a class="hash-link" aria-label="Direct link to Getting started with the Assembly Line&#x27;s reminders system" title="Direct link to Getting started with the Assembly Line&#x27;s reminders system" href="/docs/framework/alreminders#getting-started-with-the-assembly-lines-reminders-system">​</a></h2>
<p>The Assembly Line reminder system is an optional part of the Assembly Line.
It was added in Assembly Line version <code>2.23.0</code>.
To add it to your interview, add the following line:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="include-the-yaml-file">Include the YAML file<a class="hash-link" aria-label="Direct link to Include the YAML file" title="Direct link to Include the YAML file" href="/docs/framework/alreminders#include-the-yaml-file">​</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">include</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> docassemble.AssemblyLine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">al_reminders.yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Warning</div><div class="admonitionContent_BuS1"><p>The Assembly Line reminder system uses Docassemble&#x27;s scheduled task system.
If you want to use reminders but have an existing scheduled task in your interview, you need
to configure your scheduled tasks so that they work together.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="integrate-it-into-your-interview-order-block">Integrate it into your interview order block<a class="hash-link" aria-label="Direct link to Integrate it into your interview order block" title="Direct link to Integrate it into your interview order block" href="/docs/framework/alreminders#integrate-it-into-your-interview-order-block">​</a></h3>
<p>You need to integrate the Assembly Line reminder system in two places:</p>
<ol>
<li>Ask your user if they want to receive reminders, with <code>al_user_wants_reminders</code></li>
<li>Send a confirmation message to the user letting them know they&#x27;ve successfully subscribed, with <code>al_reminders_sent_initial_test_message</code></li>
</ol>
<p>Because the Assembly Line reminder system evaluates the list of reminders just once by default,
you should wait to ask the user if they want reminders until after any questions that can change
the date of the reminders gets sent out.</p>
<p>Example:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> interview order</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">code</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  users[0].name.first</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  eviction_answer_date</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  # ... Ask other interview questions</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  al_user_wants_reminders</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  al_reminders_sent_initial_test_message</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  interview_order_eviction_answer = True</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="customize-the-list-of-times-and-reminders">Customize the list of times and reminders<a class="hash-link" aria-label="Direct link to Customize the list of times and reminders" title="Direct link to Customize the list of times and reminders" href="/docs/framework/alreminders#customize-the-list-of-times-and-reminders">​</a></h3>
<p>To use the reminder system, you will need to customize
the <code>al_reminders</code> dictionary and add any email and SMS
templates that you want to use.</p>
<p><code>al_reminders</code> is a dictionary. Each entry is a dictionary
with the following keys:</p>
<ol>
<li><code>description</code>, a short plain language description of the reminder</li>
<li><code>date</code>, a date the reminder will be sent. Should be in ISO format and will be calculated only once. You can use <code>mako</code> to calculate with variables.</li>
<li><code>email template</code>: the name of a <code>template</code> block in your YAML file that will be used for email reminders</li>
<li><code>sms template</code>: same as the <code>email template</code>, but for SMS reminders</li>
</ol>
<p>In the examples below, we define <code>al_reminders</code> with Docassemble&#x27;s <code>data</code> block. But you
can define it any way that makes sense for you. All entries should be strings. If you use
a <code>code</code> block instead of a <code>data</code> block, make sure you put the names of templates in quotes.</p>
<p>Note that when <code>al_user_wants_reminders</code> is triggered,
at least the <code>description</code> key for each entry in <code>al_user_wants_reminders</code>
will be evaluated.</p>
<p>Here is what the default <code>al_user_wants_reminders</code> question looks like:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/reminders_question-b1932db48f17f00a37dff1c998de6ad8.png" width="849" height="847" class="img_ev3q"></p>
<p>Here is a complete example:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">variable name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> al_reminders</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">use objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">appear_in_court</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">description</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Show up in court</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> eviction_answer_date.plus(days=3).format(&quot;yyyy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">MM</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">dd&quot;) </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">email template</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> eviction_email_reminder_template</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">sms template</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> eviction_sms_reminder_template</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">template</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> eviction_email_reminder_template</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">subject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  ${ users }, you may have a court date coming up</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">content</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  When you used the eviction answer interview at Court Forms Online, you asked</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  us to send you reminders about important dates.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  According to the information you told us</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> your court date should be on </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> eviction_answer_date.plus(days=4) </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">. That&#x27;s tomorrow</span><span class="token tag" style="color:rgb(255, 85, 114)">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  This is not a message from the court. Make sure to double</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">check if something</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  changed in your court case.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  You can </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">unsubscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">($</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> interview_url_action(&#x27;al_reminders_unsubscribe_emails&#x27;) </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">) if you no longer want to get reminders.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">template</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> eviction_sms_reminder_template</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">content</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  ${ users }, you may have court tomorrow!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  According to the information you told us when you used Court Forms Online</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> your court date should be on </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> eviction_answer_date.plus(days=4) </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">. That&#x27;s tomorrow</span><span class="token tag" style="color:rgb(255, 85, 114)">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  This message is from Court Forms Online. This is not a message from the court.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Click to unsubscribe $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> interview_url_action(&#x27;al_reminders_unsubscribe_emails&#x27;) </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> to stop reminders from this</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  interview or reply STOP if you no longer want any reminders from $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> AL_ORGANIZATION_TITLE </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="allowing-the-user-to-unsubscribe">Allowing the user to unsubscribe<a class="hash-link" aria-label="Direct link to Allowing the user to unsubscribe" title="Direct link to Allowing the user to unsubscribe" href="/docs/framework/alreminders#allowing-the-user-to-unsubscribe">​</a></h4>
<p>The event <code>al_reminders_unsubscribe_emails</code> triggers a screen that lets the user
turn off reminders.</p>
<p>You should add this to the bottom of every email and SMS message. You can do so like this:</p>
<p><code>${ interview_url_action(&#x27;al_reminders_unsubscribe_emails&#x27;) }</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-stop-keyword-in-twilio">The STOP keyword in Twilio<a class="hash-link" aria-label="Direct link to The STOP keyword in Twilio" title="Direct link to The STOP keyword in Twilio" href="/docs/framework/alreminders#the-stop-keyword-in-twilio">​</a></h4>
<p>If your user replies STOP to an SMS message, it will stop them from receiving any messages
from the Twilio phone number that they get the message on.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="customize-other-screens">Customize other screens<a class="hash-link" aria-label="Direct link to Customize other screens" title="Direct link to Customize other screens" href="/docs/framework/alreminders#customize-other-screens">​</a></h3>
<p>The reminder system provides several other screens, code blocks and templates you may wish to customize:</p>
<ol>
<li><code>id: wants reminders</code>: the screen that lets the user ask to get reminders and choose the method and provide email and phone</li>
<li><code>template: al_reminder_initial_sms_template</code>, the confirmation message sent to the user&#x27;s phone when they first sign up</li>
<li><code>template: al_reminder_initial_email_template</code>, same but for emails</li>
<li><code>al_reminders_cron_daily = True</code>: if you need to allow your user to edit the date reminders
will get sent after they first sign up for reminders, you may want to customize the code in this code block.</li>
</ol>
<p>Take a look at
<a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine/blob/main/docassemble/AssemblyLine/data/questions/al_reminders.yml" target="_blank" rel="noopener noreferrer">al_reminders.yml</a>
to find and customize the blocks that you need.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="caveats-and-warnings">Caveats and warnings<a class="hash-link" aria-label="Direct link to Caveats and warnings" title="Direct link to Caveats and warnings" href="/docs/framework/alreminders#caveats-and-warnings">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="al_reminders-takes-over-docassembles-cron-system"><code>al_reminders</code> takes over docassemble&#x27;s <code>cron</code> system<a class="hash-link" aria-label="Direct link to al_reminders-takes-over-docassembles-cron-system" title="Direct link to al_reminders-takes-over-docassembles-cron-system" href="/docs/framework/alreminders#al_reminders-takes-over-docassembles-cron-system">​</a></h3>
<p>If you use <code>cron</code> for anything else, you will need to customize a few blocks
to make sure they work together.</p>
<p>Specifically:</p>
<ol>
<li>Combine any <code>cron_daily</code> tasks with the <a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine/blob/main/docassemble/AssemblyLine/data/questions/al_reminders.yml" target="_blank" rel="noopener noreferrer">Assembly Line&#x27;s version</a> (search for <code>cron_daily</code> in this file and copy the relevant block). Docassemble only evaluates one per interview.</li>
<li>Make sure you define <code>al_reminders_evaluate_stop_cron</code> so that it doesn&#x27;t stop
cron before <strong>your</strong> tasks are finished.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dates-are-only-calculated-once">Dates are only calculated once<a class="hash-link" aria-label="Direct link to Dates are only calculated once" title="Direct link to Dates are only calculated once" href="/docs/framework/alreminders#dates-are-only-calculated-once">​</a></h3>
<p>If you need more flexible calculation of dates, you might want to
customize the block that defines <code>al_reminders_cron_daily = True</code> to insert a
<code>reconsider(&quot;al_reminders&quot;)</code> at an appropriate place.</p>
<p>We don&#x27;t do that by default for you because you may want to calculate a date
based on <code>today()</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cron-resets-the-modified-date-of-your-interview"><code>cron</code> resets the <code>modified</code> date of your interview<a class="hash-link" aria-label="Direct link to cron-resets-the-modified-date-of-your-interview" title="Direct link to cron-resets-the-modified-date-of-your-interview" href="/docs/framework/alreminders#cron-resets-the-modified-date-of-your-interview">​</a></h3>
<p>Whenever the <code>cron</code> system runs, it updates the <code>modified</code> date of the interview.
This will bump the interview up on the user&#x27;s list of recent interviews. It also
means that it will extend the date that the session is on the server. By default,
docassemble deletes unused sessions after 90 days. The 90 days won&#x27;t start running
until <code>cron</code> is explicitly stopped in the interview.</p>
<p>By default, the Assembly Line reminders system shuts off <code>cron</code> (for the specific
user&#x27;s session) after all reminders have been sent.</p>
<p>This is just good to keep in mind when you describe your data retention policies to users.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine-documentation/edit/main/docs/framework/alreminders.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/reference/AssemblyLine/language"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">language</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/reference/AssemblyLine/sessions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">sessions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/alreminders#prerequisites">Prerequisites</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/alreminders#getting-started-with-the-assembly-lines-reminders-system">Getting started with the Assembly Line&#39;s reminders system</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/alreminders#include-the-yaml-file">Include the YAML file</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/alreminders#integrate-it-into-your-interview-order-block">Integrate it into your interview order block</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/alreminders#customize-the-list-of-times-and-reminders">Customize the list of times and reminders</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/alreminders#customize-other-screens">Customize other screens</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/alreminders#caveats-and-warnings">Caveats and warnings</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/alreminders#al_reminders-takes-over-docassembles-cron-system"><code>al_reminders</code> takes over docassemble&#39;s <code>cron</code> system</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/alreminders#dates-are-only-calculated-once">Dates are only calculated once</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/framework/alreminders#cron-resets-the-modified-date-of-your-interview"><code>cron</code> resets the <code>modified</code> date of your interview</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> | This documentation website is built with <a href="https://docusaurus.io/" target="_blank">Docusaurus</a>.</div></div></div></footer></div>
</body>
</html>