<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-framework/aldocument" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">al_document: Python Classes to simplify working with multiple templates | The Document Assembly Line</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://suffolklitlab.org/docassemble-AssemblyLine-documentation/docs/framework/aldocument"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="al_document: Python Classes to simplify working with multiple templates | The Document Assembly Line"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/docassemble-AssemblyLine-documentation/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://suffolklitlab.org/docassemble-AssemblyLine-documentation/docs/framework/aldocument"><link data-rh="true" rel="alternate" href="https://suffolklitlab.org/docassemble-AssemblyLine-documentation/docs/framework/aldocument" hreflang="en"><link data-rh="true" rel="alternate" href="https://suffolklitlab.org/docassemble-AssemblyLine-documentation/docs/framework/aldocument" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-622Z2D6Q3Q"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-622Z2D6Q3Q",{anonymize_ip:!0})</script><link rel="stylesheet" href="/docassemble-AssemblyLine-documentation/assets/css/styles.23ca97d0.css">
<script src="/docassemble-AssemblyLine-documentation/assets/js/runtime~main.5d50757a.js" defer="defer"></script>
<script src="/docassemble-AssemblyLine-documentation/assets/js/main.3559bcb4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docassemble-AssemblyLine-documentation/"><div class="navbar__logo"><img src="/docassemble-AssemblyLine-documentation/img/LITLab_white_and_gold.svg" alt="The Suffolk LIT Lab Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docassemble-AssemblyLine-documentation/img/LITLab_white_and_gold.svg" alt="The Suffolk LIT Lab Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">The Document Assembly Line</b></a><a class="navbar__item navbar__link" href="/docassemble-AssemblyLine-documentation/docs/">Get Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docassemble-AssemblyLine-documentation/docs/getting_started_docassemble">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Docassemble</a><ul class="dropdown__menu"><li><a href="https://suffolklitlab.org/legal-tech-class/docs/introduction-to-docassemble" target="_blank" rel="noopener noreferrer" class="dropdown__link">Intro to Docassemble<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://docassemble.org/docs.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Docassemble Docs<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docassemble-AssemblyLine-documentation/docs/getting_started_docassemble">Getting started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docassemble-AssemblyLine-documentation/docs/planning">Authoring interviews</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docassemble-AssemblyLine-documentation/docs/style_guide/question_overview">Writing good questions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docassemble-AssemblyLine-documentation/docs/coding_style_guide">Coding style guide</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docassemble-AssemblyLine-documentation/docs/framework/magic_variables">Special variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docassemble-AssemblyLine-documentation/docs/framework/reserved_keywords">Reserved variables</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docassemble-AssemblyLine-documentation/docs/framework/algeneral">AssemblyLine</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docassemble-AssemblyLine-documentation/docs/framework/algeneral">al_general 01</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docassemble-AssemblyLine-documentation/docs/reference/AssemblyLine/al_general">al_general</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docassemble-AssemblyLine-documentation/docs/reference/AssemblyLine/al_courts">al_courts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docassemble-AssemblyLine-documentation/docs/framework/aldocument">al_document 01</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docassemble-AssemblyLine-documentation/docs/reference/AssemblyLine/al_document">al_document</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docassemble-AssemblyLine-documentation/docs/reference/AssemblyLine/language">language</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docassemble-AssemblyLine-documentation/docs/framework/alreminders">Scheduled reminders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docassemble-AssemblyLine-documentation/docs/reference/AssemblyLine/sessions">sessions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docassemble-AssemblyLine-documentation/docs/framework/answer_sets">Answer sets</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docassemble-AssemblyLine-documentation/docs/framework/alrecipes">ALRecipes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docassemble-AssemblyLine-documentation/docs/framework/altoolbox">ALToolbox</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docassemble-AssemblyLine-documentation/docs/complexity/complexity">RateMyPDF</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docassemble-AssemblyLine-documentation/docs/framework/github_feedback">Feedback</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docassemble-AssemblyLine-documentation/docs/analytics/tracking_usage">InterviewStats</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docassemble-AssemblyLine-documentation/docs/reference/formfyxer/lit_explorer">FormFyxer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docassemble-AssemblyLine-documentation/docs/efiling/overview">E-filing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docassemble-AssemblyLine-documentation/docs/alkiln/intro">ALKiln</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docassemble-AssemblyLine-documentation/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">AssemblyLine</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">al_document 01</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>al_document: Python Classes to simplify working with multiple templates</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>The <code>ALDocument</code> class was created to solve these problems in Docassemble interviews:</p>
<ol>
<li>handling apps that can assemble multiple forms, with the final list of forms
depending on the answers that the user gives</li>
<li>handling a way to display a &quot;preview&quot; and &quot;final&quot; version of a document with
and without a signature (to allow the user to confirm information before
signing)</li>
<li>handling text in PDF templates that doesn&#x27;t fit and needs to be sent to an addendum</li>
</ol>
<p>This collection of classes has some other nice benefits:</p>
<ol>
<li>a compact, neat and easily customizable list of downloads at the end, with
both <code>view</code> and <code>download</code> buttons</li>
<li>a more customizable email-sending input than the stock Docassemble input that
can be displayed on the final screen</li>
<li>always-fresh documents that will be updated when the user changes or edits a
response</li>
<li>a helper class and model questions to allow the user to upload evidence,
including generating a table of contents and adding exhibit cover pages</li>
<li>helper classes to include not just templates but static documents and tables
in XLSX format as download options</li>
</ol>
<p>The primary classes that developers interact with are the <code>ALDocument</code> class,
which represents a template that is filled in with the user&#x27;s answers during the
course of the interview, and the <code>ALDocumentBundle</code> class, which provides a way
to group documents together to be emailed, downloaded, or delivered to a court
or opposing party.</p>
<p><code>ALDocumentBundle</code> objects can be nested to allow you to group multiple individual
template files into one document that the user can download.</p>
<p>Both <code>ALDocument</code> and <code>ALDocumentBundle</code> objects can be either <code>enabled</code> or not.
The Docassemble interview will seek logic that defines when the document should
be included in the final output, letting you easily create interviews that have
contingent documents.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="aldocument-class">ALDocument class<a href="#aldocument-class" class="hash-link" aria-label="Direct link to ALDocument class" title="Direct link to ALDocument class">​</a></h2>
<p>An <code>ALDocument</code> is a
<a href="https://docassemble.org/docs/objects.html#DADict" target="_blank" rel="noopener noreferrer"><code>DADict</code></a>  that has top level
attributes and points to one or more Docassemble <a href="https://docassemble.org/docs/documents.html#attachment" target="_blank" rel="noopener noreferrer"><code>attachment</code>
blocks</a>.</p>
<p>There are usually exactly two keys in the dictionary: <code>preview</code> and <code>final</code>,
with the only difference being the presence or absence of a signature. Conditional
logic inside the template or attachment block can be used to show or hide the signature
depending on the value of the <code>key</code> so that the template does not need to be created
twice.</p>
<p>The <code>signature_if_final</code> method of an
<a href="/docassemble-AssemblyLine-documentation/docs/framework/algeneral#ALIndividual">ALIndividual</a> was created to simplify this
common use case.</p>
<p>Here&#x27;s how to use an ALDocument:</p>
<ol>
<li>Create <code>ALDocument</code> objects in an objects block.</li>
<li>Set any required attributes, like <code>enabled</code>, in the object block or in a
separate code block. If you set <code>enabled=True</code> in the object block, your
document will always be enabled.</li>
<li>Define the key of the <code>ALDocument</code> in an <code>attachment</code> block using the
<code>variable name</code> modifier. Usually, use one attachment block and define the variable name
like this: <code>variable name: some_al_document[i]</code>.</li>
<li>Optionally, reference the <code>ALDocument</code> inside an <code>ALDocumentBundle</code>.</li>
</ol>
<p>Example:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">letter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ALDocument.using(title=&quot;Letter to Social Security&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> filename=&quot;ssa_letter&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> enabled=True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> has_addendum=False)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">attachment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">pdf template file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ssa_letter.pdf</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">variable name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> letter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">&quot;users1_name&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">&quot;users1_signature&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">.signature_if_final(i) </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enabled-example">Enabled Example<a href="#enabled-example" class="hash-link" aria-label="Direct link to Enabled Example" title="Direct link to Enabled Example">​</a></h3>
<p>If other variables in your interview determine if your document is
<code>enabled</code>, you should define the <code>enabled</code> attribute in a code block, like this:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">main_document</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ALDocument.using(title=&quot;Letter to Social Security&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> filename=&quot;main_document&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> enabled=True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> has_addendum=False)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">insurance_rider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ALDocument.using(title=&quot;Letter to Social Security&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> filename=&quot;rider&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> has_addendum=False)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">attachments</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">pdf template file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> main_document.pdf</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">variable name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> main_document</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">&quot;users1_name&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">&quot;users1_signature&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">.signature_if_final(i) </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">pdf template file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> rider.pdf</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">variable name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> rider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">&quot;users1_name&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">&quot;users1_signature&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">.signature_if_final(i) </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">code</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  if total_cost &gt; 1000:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">    insurance_rider.enabled = True</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  else:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">    insurance_rider.enabled = False</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  # or more concise but slightly harder to read:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  # insurance_rider.enabled = total_cost &gt; 1000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the example above, the <code>insurance_rider</code> document is only included in any bundles if the
total cost of the project is over $1,000. Note that the <code>enabled</code> value is global for the
interview session. If you want to use different logic in different bundles, you can easily
create a separate <code>ALDocument</code> that references the same template file and attachment block.</p>
<p>Attributes:</p>
<ul>
<li><code>filename</code>: the <strong>display</strong> filename used for the document when it is downloaded</li>
<li><code>title</code>: the title shown on the download screen</li>
<li><code>enabled</code>: whether the document should be &quot;turned on&quot; when it is referenced in an <code>ALDocumentBundle</code></li>
<li><code>addendum</code>: points to a variable representing an <code>attachment</code> block with a
formatted addendum. The Assembly Line provides a good default addendum
template that is flexible enough to work with many fields.</li>
<li><code>overflow_fields</code>: an <code>ALAddendumFieldDict</code> with each representing a field
that has potential to be sent to the addendum if exceeds a pre-set length.</li>
<li><code>has_addendum</code>: set this to True or False to control whether the
<code>overflow_fields</code> dictionary will be checked to decide whether or not to
generate an addendum file. Optional; defaults to <code>False</code>.</li>
</ul>
<p>Methods:</p>
<ul>
<li><code>as_pdf(key:str=&#x27;final&#x27;, refresh:bool=True)</code>: returns a PDF version of the
completed template and any addendum. <code>key</code> is normally <code>preview</code> or <code>final</code></li>
<li><code>as_docx(key:str=&#x27;final&#x27;, refresh:bool=True)</code>: returns a DOCX version of the
completed template and any addendum if the original is a DOCX template. <code>key</code>
is normally <code>preview</code> or <code>final</code>.</li>
<li><code>as_list(key:str=&#x27;final&#x27;, refresh:bool=True)</code>: returns a 1 or 2 item list
which contains the template and its addendum, if any.</li>
<li><code>need_addendum()</code>: returns <code>True</code> if the addendum exists and there are
overflow fields.</li>
<li><code>has_overflow()</code>: returns <code>True</code> if there are fields that trigger the
addendum.</li>
<li><code>overflow()</code>: returns a list of just the fields that triggered the addendum.</li>
<li><code>safe_value(field_name:str, overflow_message:str=None, preserve_newlines:bool=False, input_width:int=80)</code>:
returns the &quot;safe&quot; value
of <code>field_name</code> (the amount that is less than <code>overflow_trigger</code>) plus an
overflow message. Used in an attachment block.</li>
<li><code>overflow_value(field_name:str, overflow_message:str=None, preserve_newlines:bool=False, input_width:int=80)</code>:
returns the &quot;unsafe&quot; value of <code>field_name</code>--the amount that exceeds the <code>overflow_trigger</code>. Potentially used
inside an addendum document.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="aldocumentbundle-class">ALDocumentBundle class<a href="#aldocumentbundle-class" class="hash-link" aria-label="Direct link to ALDocumentBundle class" title="Direct link to ALDocumentBundle class">​</a></h2>
<p>An <code>ALDocumentBundle</code> is a
<a href="https://docassemble.org/docs/objects.html#DAList" target="_blank" rel="noopener noreferrer"><code>DAList</code></a> that provides
developers a way to conveniently group documents and treat them as a single set,
even if the exact list of documents might change depending on the user&#x27;s
answers.</p>
<p>Here&#x27;s how to use an <code>ALDocumentBundle</code>:</p>
<ol>
<li>Create the <code>ALDocumentBundle</code> in an <code>objects</code> block.</li>
<li>Add each <code>ALDocument</code> or nested <code>ALDocumentBundle</code> that your interview will
sometimes produce to the bundle. Because the list is usually known in advance,
it&#x27;s common to include this in the object definition.</li>
<li>Use the <code>as_pdf()</code> method on your preview screen to display a preview of the
output without any signature.</li>
<li>Use the <code>download_list_html()</code> and <code>send_button_html()</code> methods on your <code>download</code>
screen.</li>
</ol>
<p>You can have as many or as few bundles as you would like. The Assembly Line convention
is to use the following two bundles:</p>
<ol>
<li><code>al_user_bundle</code> which should include a <strong>next steps</strong> document with
instructions for your user</li>
<li><code>al_court_bundle</code> which leaves out the instructions and should have every
document that you want the clerk to receive</li>
</ol>
<p>Stick with this convention if you expect to integrate with E-filing.</p>
<p>Example:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">al_user_bundle</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ALDocumentBundle.using(title=&quot;Forms to download&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> filename=&quot;ssa_documents&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> elements=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ssa_next_steps</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> letter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">al_court_bundle</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ALDocumentBundle.using(title=&quot;Forms to download&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> filename=&quot;ssa_documents&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> elements=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">letter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>You can <strong>nest</strong> <code>ALDocumentBundle</code>s! Just create your bundle in a separate <code>objects</code> block and add it directly
into the list of <code>elements</code>. This lets you create a document from multiple templates that you want the user
to be able to open and print as one file.</p></div></div>
<p>Attributes:</p>
<ul>
<li><code>enabled</code> (optional): define this if the bundle is included inside another <code>ALDocumentBundle</code>. If other variables in your interview determine if it&#x27;s enabled, you should define the attribute in a code block, like in <a href="#enabled-example">this earlier example</a></li>
<li><code>title</code>: this is displayed on the download screen</li>
<li><code>filename</code>: used to construct the display filename for a <code>pdf</code> version of the bundle</li>
</ul>
<p>Methods:</p>
<ul>
<li><code>as_pdf(key:str=&#x27;final&#x27;, refresh:bool=True) -&gt; DAFile</code>: return a single concatenated PDF of the bundle&#x27;s attachments</li>
<li><code>as_zip(self, key:str = &#x27;final&#x27;, refresh:bool = True, title:str = &#x27;&#x27;) -&gt; DAFile</code>:
returns a compressed ZIP archive with separate documents for each item.</li>
<li><code>enabled_documents(self, refresh:bool=True) -&gt; List[Any]</code>: return a list of only the &quot;enabled&quot; documents in the bundle</li>
<li><code>as_flat_list(self, key:str=&#x27;final&#x27;, refresh:bool=True) -&gt; List[DAFile]</code>:</li>
<li><code>get_titles(self, key:str=&#x27;final&#x27;, refresh:bool=True) -&gt; List[str]</code>:</li>
<li><code>as_pdf_list(self, key:str=&#x27;final&#x27;, refresh:bool=True) -&gt; List[DAFile]</code>:</li>
<li><code>as_editable_list(self, key:str=&#x27;final&#x27;, refresh:bool=True) -&gt; List[DAFile]</code>:</li>
<li><code>download_list_html(self, key:str=&#x27;final&#x27;, format:str=&#x27;pdf&#x27;, view:bool=True     refresh:bool=True, include_zip:bool = True, view_label=&quot;View&quot;, view_icon:str=&quot;eye&quot;,     download_label:str=&quot;Download&quot;, download_icon:str=&quot;download&quot;, zip_label:str=None,     zip_icon:str=&quot;file-archive&quot;) -&gt; str</code>: returns HTML for a table with download and view buttons, as for a download screen</li>
<li><code>send_button_html(self, key:str=&#x27;final&#x27;, show_editable_checkbox:bool = True)-&gt;str</code>:</li>
<li><code>send_email(self, to:any=None, key:str=&#x27;final&#x27;, editable:bool=False, template:any=None, **kwargs) -&gt; bool</code>:</li>
</ul>
<p>Example of a download screen that uses an <code>ALDocumentBundle</code>:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">progress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> download</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> petition_to_change_name_of_adult_download</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">question</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  Your form is ready to download.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">subquestion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  Thank you ${ user_name_first_new }. Your form is ready to download and deliver.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  View</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> download and send your form below. Click the &quot;Make changes&quot; button to fix any mistakes. </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  1. Download each of the documents below. Print at least two copies.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  2. Call the $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> trial_court </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> at $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> bold(trial_court.phone) </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> to find out how</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  to deliver these forms. You can mail a copy to $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> trial_court.address.on_one_line() </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  3. Get a </span><span class="token important">**certified**</span><span class="token plain"> copy of your birth certificate from the town hall</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  where you were born.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  4. File one of the copies with the court. Keep the other for your records.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> action_button_html(url_action(&#x27;review_petition_to_change_name_of_adult&#x27;)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> label=&#x27;Make changes&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> color=&#x27;info&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> icon=&#x27;pencil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">alt&#x27;) </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> action_button_html(al_user_bundle.as_pdf().url_for()</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> label=&quot;Download a copy as a single PDF&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> icon=&#x27;download&#x27;) </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> al_user_bundle.download_list_html() </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> al_user_bundle.send_button_html() </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-download_list_html-method">Using the <code>download_list_html()</code> method<a href="#using-the-download_list_html-method" class="hash-link" aria-label="Direct link to using-the-download_list_html-method" title="Direct link to using-the-download_list_html-method">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">download_list_html</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;final&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">format</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;pdf&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> view</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      refresh</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> include_zip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> view_label</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;View&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> view_icon</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;eye&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      download_label</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Download&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> download_icon</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;download&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> zip_label</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      zip_icon</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;file-archive&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The default download table displays a row with a title, a &quot;view&quot; button which
allows opening a PDF in-browser, and a &quot;download&quot; button that allows downloading
the PDF with one block. A row with a &quot;Download as zip&quot; button is also added
by default if there is more than 1 document in the table.</p>
<p>These defaults can be customized quite a bit. In addition to the parameters listed below,
the appearance can be controlled by editing CSS files. Take a look at the values in
<a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine/blob/main/docassemble/AssemblyLine/data/static/aldocument.css" target="_blank" rel="noopener noreferrer"><code>aldocument.css</code></a>
and customize to match your needs.</p>
<p>It is also not necessary to use the <code>download_list_html()</code> method. If you
prefer, you can directly reference <code>enabled_documents</code> and create your own
download table format.</p>
<p>Parameters:</p>
<ul>
<li><code>key</code>: either &quot;final&quot; or &quot;preview&quot;</li>
<li><code>format</code>: either &quot;pdf&quot;, &quot;docx&quot;, or &quot;original&quot;, used to control the file linked to the &quot;download&quot; button</li>
<li><code>view</code>: display a button that links to a PDF version of the document, if possible</li>
<li><code>refresh</code>: controls whether the file should be cached</li>
<li><code>include_zip</code>: controls whether a &quot;Download zip&quot; button is added to a download list with more than 1 document</li>
<li><code>view_label</code>: label used for the &quot;View&quot; button</li>
<li><code>view_icon</code>: icon from <a href="https://fontawesome.com" target="_blank" rel="noopener noreferrer">fontawesome</a>&#x27;s &quot;free&quot; library</li>
<li><code>download_label</code>: label used for the &quot;Download&quot; button</li>
<li><code>download_icon</code>: icon from <a href="https://fontawesome.com" target="_blank" rel="noopener noreferrer">fontawesome</a>&#x27;s &quot;free&quot; library</li>
<li><code>zip_label</code>: text used for the row with the &quot;zip&quot; button. If not provided,
this will refer to the value of <code>self.zip_label</code> which should be defined in a
Docassemble <code>template</code> block. This is to aid translation.</li>
<li><code>zip_icon</code>: icon from <a href="https://fontawesome.com" target="_blank" rel="noopener noreferrer">fontawesome</a>&#x27;s &quot;free&quot; library</li>
</ul>
<p>Example: customizing the text on the &quot;zip_label&quot; interview-wide:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">generic object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ALDocumentBundle</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">template</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> x.zip_label</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">content</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  Download as one ZIP file</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-send_button_html-method">Using the <code>send_button_html()</code> method<a href="#using-the-send_button_html-method" class="hash-link" aria-label="Direct link to using-the-send_button_html-method" title="Direct link to using-the-send_button_html-method">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">send_button_html</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;final&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> show_editable_checkbox</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> template_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>send_button_html()</code> is used to display an HTML input that the user can interact
with to send themselves a copy of the contents of a bundle.</p>
<p><code>send_button_html()</code> has two parameters:</p>
<ul>
<li><code>show_editable_checkbox</code> controls whether a checkbox will be displayed that allows the user to toggle including the DOCX version of templates in the email that they receive.</li>
<li><code>template_name</code> controls the actual contents of the email sent to the user. By default,
the value of the <code>send_email_template</code> attribute of this ALDocumentBundle is used (see
below). This parameter is useful if you want to have two emails for the same bundle.</li>
</ul>
<p>All of the text shown to the user, on the screen or in the email, can be customized. Copy each YAML block
below into your own interview to edit and customize the text.
It can be edited interview-wide (shown) or on a per-bundle basis.</p>
<p>Customize the text &quot;Get a copy of the documents in email&quot;:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">generic object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ALDocumentBundle</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">template</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> x.get_email_copy</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">content</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  Get a copy of the documents in email</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Customize the text &quot;Include an editable copy&quot;:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">generic object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ALDocumentBundle</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">template</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> x.include_editable_documents</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">content</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  Include an editable copy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Customize the text &quot;Download zip&quot;:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">generic object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ALDocumentBundle</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">template</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> x.zip_label</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">content</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  Download zip</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The subject and contents of the email can also be customized:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">generic object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ALDocumentBundle</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">template</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> x.send_email_template</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">subject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  % if len(x) &gt; 1:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  Your ${ x.title } document is ready</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  % else:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  Your &quot;${ x.title }&quot; documents are ready</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  % endif</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">content</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  Thank you for using our app!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Please find the document for $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> users </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> attached.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="working-with-overflow-text-aladdendumfield-and-aladdendumfielddict">Working with overflow text, ALAddendumField and ALAddendumFieldDict<a href="#working-with-overflow-text-aladdendumfield-and-aladdendumfielddict" class="hash-link" aria-label="Direct link to Working with overflow text, ALAddendumField and ALAddendumFieldDict" title="Direct link to Working with overflow text, ALAddendumField and ALAddendumFieldDict">​</a></h2>
<p>The <code>ALDocument</code> class has a special Addendum feature for working with fields
that may not fit into a PDF. For example: the PDF may have room for 3 lines, but
the user may have a longer story to tell.</p>
<p>Addenda can be used for both text fields and lists of items, such as children,
where the original form may not allow enough room.</p>
<p>The default addendum file for an AssemblyLine interview uses a special
attribute, <code>label</code>, to decide how to format the text in the addendum. It will
put objects, such as people, that are in a list into a table in the output.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview-1">Overview<a href="#overview-1" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h3>
<p>Each <code>ALDocument</code> has a dictionary attribute named <code>overflow_fields</code>. The
dictionary will contain a complete list of each field in the document that may
trigger the addendum. The length of each field will be evaluated to decide if
the addendum needs to be generated, based on the user&#x27;s answers in the
interview. If there are no <code>overflow_fields</code> or each <code>overflow_field</code> is below
the specified limit for that field, no addendum will be generated.</p>
<p>You can use the AssemblyLine&#x27;s default addendum template, which works well for a
court form, or you can supply your own template file to use for the addendum.
Usually, the addendum will be a Word document so it can expand to fit all of the
content.</p>
<p>Here is the basic process of using an addendum:</p>
<ol>
<li>set the <code>has_addendum</code> attribute of the <code>ALDocument</code> to <code>True</code></li>
<li>add an <code>ALAddendumField</code> object to the <code>overflow_fields</code> dictionary attribute
of the <code>ALDocument</code> for each field that you want to handle in the addendum</li>
<li>set the <code>overflow_trigger</code> attribute of the <code>ALAddendumField</code> to match the
maximum number of <em>characters</em> or <em>items</em> that may appear in that field</li>
<li>optionally, set the value of the <code>label</code> attribute of the <code>ALAddendumField</code>
(this is used in the default addendum file)</li>
<li>optionally, specify the template file that you want to use for the addendum</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assumptions-and-changes-to-whitespace">Assumptions and changes to whitespace<a href="#assumptions-and-changes-to-whitespace" class="hash-link" aria-label="Direct link to Assumptions and changes to whitespace" title="Direct link to Assumptions and changes to whitespace">​</a></h3>
<p>The addendum code does not preserve whitespace; both repeated spaces and
new lines will always be condensed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h3>
<p>Below is a complete example that demonstrates how to use a custom addendum.</p>
<ol>
<li>the addendum is enabled</li>
<li>we specify a custom addendum template</li>
<li>we add the <code>reasons_for_request</code> variable to the fields that will be checked
for the addendum and say it can contain at most 640 characters</li>
<li>we limit the number of characters that will go onto the main PDF form to the &quot;safe&quot; number of characters</li>
</ol>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">CRA_Motion_to_Dismiss_attachment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ALDocument.using(filename=&quot;CRA_Motion_to_Dismiss&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> title=&quot;Motion to Dismiss CRA&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> enabled=True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> has_addendum=True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> default_overflow_message=&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">See addendum</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">&quot;)  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">al_user_bundle</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ALDocumentBundle.using(elements=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">CRA_Motion_to_Dismiss_attachment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> title=&quot;Forms to download and deliver to court&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> filename=&quot;motion_to_dismiss_CRA.pdf&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">attachment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">variable name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> CRA_Motion_to_Dismiss_attachment.addendum</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">docx template file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> CRA_Motion_to_Dismiss_addendum.docx</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">code</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  CRA_Motion_to_Dismiss_attachment.overflow_fields[&#x27;reasons_for_request&#x27;].overflow_trigger = 640</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  CRA_Motion_to_Dismiss_attachment.overflow_fields[&#x27;reasons_for_request&#x27;].label = &quot;Reasons for request&quot;</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  CRA_Motion_to_Dismiss_attachment.overflow_fields.gathered = True  </span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">attachment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">variable name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> CRA_Motion_to_Dismiss_attachment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> CRA Motion to Dismiss</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">filename</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> CRA_Motion_to_Dismiss</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">skip undefined</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">pdf template file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> CRA_Motion_to_Dismiss.pdf</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">&quot;reasons_for_request&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> CRA_Motion_to_Dismiss_attachment.safe_value(&#x27;reasons_for_request&#x27;) </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">&quot;docket_number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> docket_number </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">&quot;user_signature&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">.signature_if_final(i) </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">&quot;signature_date&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> signature_date </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If you would like to make your own custom Addendum file, you can start by
examining the <a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine/blob/main/docassemble/AssemblyLine/data/templates/al_basic_addendum.docx" target="_blank" rel="noopener noreferrer">generic
addendum</a>
file included in the AssemblyLine repository. This example is very flexible, and may have more features
than you need for your addendum.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-parameters-for-the-addendum-code">Custom parameters for the addendum code<a href="#custom-parameters-for-the-addendum-code" class="hash-link" aria-label="Direct link to Custom parameters for the addendum code" title="Direct link to Custom parameters for the addendum code">​</a></h3>
<p>The <code>safe_value()</code> method is used to control the options for putting text into the PDF.
The mirror, <code>overflow_value()</code> method can be used to control the text that is sent to
addendum. The options for both methods are the same. When you use <code>safe_value()</code>
and <code>overflow_value()</code>, you must use the same choices for each parameter to get consistent
results.</p>
<ul>
<li><code>input_width: int</code> should equal the approximate width, in characters, of the input box on the PDF.
We default to 80 characters, which is a typical of PDF field width. A full page-width PDF field at 12
points Helvetica is about 99 characters. <code>input_width</code> is used to calculate the total number of
lines of text that fit in a multi-line input. It should be a whole divisor of the <code>overflow_trigger</code>.</li>
<li><code>preserve_newlines: bool</code> defaults to <code>False</code>. When <code>False</code>, all whitespace will be condensed to
a single space. If <code>True</code>, repeated newlines will be replaced with a single newline. Repeated spaces
will be condensed to a single space. When the limit is less than or equal to one line, whitespace
is always condensed.</li>
<li><code>preserve_words: bool</code> defaults to <code>True</code>. When <code>True</code>, the addendum code will not cut off words
in the middle. Instead, the text will be shortened so the <code>safe_value()</code> ends with a complete word.
When <code>False</code>, text may be cut off in the middle of a word, but only for fields that are less than
one full line wide. Words will always be kept whole when the input exceeds one line in length.</li>
<li><code>overflow_message</code> can be used to provide a custom message when text is sent to the addendum. The
AssemblyLine interviews default to an overflow message of <code>...</code>, but no default is provided in the
addendum code itself.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="handling-uploaded-documents">Handling uploaded documents<a href="#handling-uploaded-documents" class="hash-link" aria-label="Direct link to Handling uploaded documents" title="Direct link to Handling uploaded documents">​</a></h2>
<p>If you want to allow your user to upload a document, you have at least 3 options:</p>
<ol>
<li>Insert the uploaded image or document into the template, using <code>Jinja2</code> tags
in a DOCX file or using a <code>signature</code> field in a PDF.</li>
<li>The <code>ALExhibitDocument</code> class, or</li>
<li>The <code>ALDocumentUpload</code> class.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="choosing-the-right-file-upload-method">Choosing the right file upload method<a href="#choosing-the-right-file-upload-method" class="hash-link" aria-label="Direct link to Choosing the right file upload method" title="Direct link to Choosing the right file upload method">​</a></h3>
<p>Use a simple file field when someone needs to upload a single page or smaller
image that can be inserted into the middle of an existing template.</p>
<p>Use the <code>ALExhibitDocument</code> when you need to handle a set of multiple exhibits
of an unknown class and you want features like document titles, pagination, OCR,
and a table of contents.</p>
<p>Use the <code>ALDocumentUpload</code> class when someone needs to upload a full page document,
but you already know the title and you want it to be a standalone document in the
final download, or if you want to append it to an existing download at the end of
the interview.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-a-simple-file-field">Using a simple file field<a href="#using-a-simple-file-field" class="hash-link" aria-label="Direct link to Using a simple file field" title="Direct link to Using a simple file field">​</a></h3>
<p>In a Word document, you can use a <a href="https://docassemble.org/docs/fields.html#file" target="_blank" rel="noopener noreferrer"><code>datatype: file</code></a> field. Then,
put the field representing the file upload in your document with ordinary
<code>Jinja2</code> tags.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">question</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  Upload a picture of your favorite pet</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Pet picture</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> pet_picture</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">datatype</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> file</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">accept</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">      &quot;image/*&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And the DOCX template would include something like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">The user&#x27;s favorite pet picture looks like this:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{{ pet_picture }}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can also insert images into PDFs! When you prepare the PDF template,
use the <code>digital signature</code> field type. Then, use the <code>fields</code> statement
in the attachment block to assign the field to the PDF.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">attachment:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  pdf template file: my_file.pdf</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  fields:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - &quot;my_image_field&quot;: ${ pet_picture }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="handling-basic-file-attachments-with-the-aldocumentupload-class">Handling basic file attachments with the ALDocumentUpload class<a href="#handling-basic-file-attachments-with-the-aldocumentupload-class" class="hash-link" aria-label="Direct link to Handling basic file attachments with the ALDocumentUpload class" title="Direct link to Handling basic file attachments with the ALDocumentUpload class">​</a></h3>
<p>The <code>ALDocumentUpload</code> class is the right choice when you:</p>
<ol>
<li>need just one or a small number of documents uploaded</li>
<li>want the uploaded document to be attached as-is to your final output</li>
<li>don&#x27;t need any of the special features of the <code>ALExhibitDocument</code> class.</li>
</ol>
<p><code>ALDocumentUpload</code> provides a simple wrapper around the <code>file</code> upload type
that just makes it compatible with the <code>ALDocumentBundle</code> class.</p>
<p>Documents uploaded using this class will be added as a standalone file inside
the bundle. They will typically fill the full page. This is perfect, for
example, if you need the user to upload some critical document and you know
exactly which document it is in advance. For example: a notice or letter that
you know the user should have received.</p>
<p>When the user needs to upload multiple documents and you want to provide flexibility
about which documents they upload and what order they are in, it may make more sense
to use the <code>ALExhibitDocument</code> class.</p>
<p>Example:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">eviction_notice_attachment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ALDocumentUpload.using(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          title=&quot;Eviction notice&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          filename=&quot;eviction_notice&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        )</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">depends on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> has_eviction_notice</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">code</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  eviction_notice_attachment.enabled=has_eviction_notice</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> interview order</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">mandatory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">code</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  al_intro_screen</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  # ...</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  if has_eviction_notice:</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">    eviction_notice_attachment.file</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  # ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">al_user_bundle</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ALDocumentBundle.using(elements=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">my_instructions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> my_main_attachment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> eviction_notice_attachment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> filename=&quot;user_bundle.pdf&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> title=&quot;All forms to download for your records&quot;)  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> eviction notice</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">question</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  Eviction notice</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">subquestion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  If you have a copy of the notice you got from your landlord, upload it now.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Do you have the eviction notice available now?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> has_eviction_notice</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">datatype</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> yesnoradio</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Upload it now</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> eviction_notice_attachment.file</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">datatype</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> file</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">accept</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">      &quot;image/*&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">show if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> has_eviction_notice</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-full-power-of-alexhibitdocument">Using the full power of ALExhibitDocument<a href="#using-the-full-power-of-alexhibitdocument" class="hash-link" aria-label="Direct link to Using the full power of ALExhibitDocument" title="Direct link to Using the full power of ALExhibitDocument">​</a></h3>
<p>Uploaded documents can raise a lot of complex issues, from validating specific
file formats and limiting size to a figure the server can process, to gathering,
organizing, and grouping pages. If you would like to handle files that are
uploaded by the interview user during the course of the interview, the
<code>ALExhibitDocument</code> class can handle some of the complexity for you.</p>
<p><code>ALExhibitDocuments</code> have:</p>
<ol>
<li>pre-written questions</li>
<li>validation of uploads for both size and valid image or document formats</li>
<li>the ability to add a document one page at a time, such as with a smartphone camera</li>
<li>the ability to add multiple labeled documents in one go</li>
<li>the ability to rearrange pages</li>
<li>an optional table of contents</li>
<li>an optional cover page for each document</li>
<li>optional page numbering</li>
<li>optional OCRing</li>
</ol>
<p>To trigger asking for the user to upload documents at a specific time in your
interview, you can use the <code>.gather()</code> method of  <code>your_document.exhibits</code>.</p>
<p>You may want to
<a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine/blob/a652df44f9cc9ea87f81fe2d88053d2c1f773d97/docassemble/AssemblyLine/data/questions/ql_baseline.yml#L1469" target="_blank" rel="noopener noreferrer">customize</a>
this screen by copying and pasting the block linked above into your interview.
This feature is fairly complex, so try just changing the wording and leave the
validation code alone.</p>
<p>You can use an <code>ALExhibitDocument</code> by creating an <code>ALExhibitDocument</code> in an
<code>objects</code> block and adding that object to an <code>ALDocumentBundle</code>.</p>
<p>Below is a simple snippet that demonstrates how to use an <code>ALExhibitDocument</code>.</p>
<ol>
<li>we use the default options, which include adding sequential Bates numbers to
pages, generating a table of contents, and adding individual cover pages for
each exhibit.</li>
<li>we trigger the questions about exhibits at a specific point in the interview.</li>
<li>we also add the <code>exhibit_attachment</code> document into the ALDocumentBundle
by adding it to the <code>elements=[...]</code> list inside the bundle&#x27;s definition</li>
</ol>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">exhibit_attachment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ALExhibitDocument.using(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          title=&quot;Exhibits&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          filename=&quot;exhibits&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">          add_page_numbers=True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">          include_table_of_contents=True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">          include_exhibit_cover_pages=True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        )</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> interview order</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">mandatory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">code</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  al_intro_screen</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  # ...</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  if exhibit_attachment.exhibits.has_exhibits:</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">    exhibit_attachment.exhibits.gather()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  # ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">al_user_bundle</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ALDocumentBundle.using(elements=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">my_instructions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> my_main_attachment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> exhibit_attachment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> filename=&quot;user_bundle.pdf&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> title=&quot;All forms to download for your records&quot;)  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="customizing-exhibits">Customizing Exhibits<a href="#customizing-exhibits" class="hash-link" aria-label="Direct link to Customizing Exhibits" title="Direct link to Customizing Exhibits">​</a></h3>
<p>You can add your own template for the table of contents by customizing
<code>your_document.cover_page</code>. Use <a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine/blob/main/docassemble/AssemblyLine/data/templates/exhibit_table_of_contents.docx" target="_blank" rel="noopener noreferrer">the stock table of
contents</a>
template as a model. It has some fancy math to figure out what page number to
start the exhibits at, based on whether it thinks the table of contents itself
will spill onto a second page.</p>
<p>You can add your own template for the individual cover pages for each document,
too. Use the <a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine/blob/main/docassemble/AssemblyLine/data/templates/exhibit_table_of_contents.docx" target="_blank" rel="noopener noreferrer">stock cover page
template</a>
as a model.</p>
<p>By default, exhibits are labeled sequentially as <code>A</code>, <code>B,</code> and so on. You can supply your own method for
labeling each exhibit by defining the <code>auto_labeler</code> attribute of the <code>your_document.exhibits</code> object
to be a Python function that accepts an integer and returns a string. The default labeler is just the
Docassemble function <a href="https://docassemble.org/docs/functions.html#alpha" target="_blank" rel="noopener noreferrer"><code>alpha</code></a>. If, for example,
you wanted to use Roman numerals:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">mandatory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">code</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  exhibit_attachment.exhibits.auto_labeler = roman</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>where <code>roman</code> is referring to the <a href="https://docassemble.org/docs/functions.html#roman" target="_blank" rel="noopener noreferrer">Docassemble
function</a>.</p>
<p>You can also define your own labeling function, like:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">mandatory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">code</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  exhibit_attachment.exhibits.auto_labeler = lambda y: str(y+1)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Which would make the exhibit labels <code>1</code>, <code>2</code>, and so on. You need to ensure that
your label override gets triggered, which is demonstrated above by adding the
<code>mandatory: True</code> modifier to the block that defines it.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-advanced-ocr-settings">Using advanced OCR settings<a href="#using-advanced-ocr-settings" class="hash-link" aria-label="Direct link to Using advanced OCR settings" title="Direct link to Using advanced OCR settings">​</a></h3>
<p>OCR, or Optical Character Recognition, adds a layer of searchable text. This may be useful
if you expect users to take photographs of documents. Searchable text may also be a
requirement for electronically filed documents in your jurisdiction.</p>
<p>By default, <code>ALExhibit</code> will be OCRed using Docassemble&#x27;s native code, which converts
images to gray-scale and is somewhat slow.</p>
<p>Optionally, you can tell AssemblyLine interviews to use an improved OCR system, OCRMyPDF.
To turn on OCRMyPDF:</p>
<ol>
<li>Install OCRMyPDF as a Debian package inside your docker container.</li>
<li>Update your global configuration.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="installing-ocrmypdf">Installing OCRMyPDF<a href="#installing-ocrmypdf" class="hash-link" aria-label="Direct link to Installing OCRMyPDF" title="Direct link to Installing OCRMyPDF">​</a></h4>
<p>Edit your global configuration and find an entry labeled <code>debian packages</code>. Edit
or add it so that it includes <code>ocrmypdf</code>, like this:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">debian packages</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> ocrmypdf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Next, you can <strong>either</strong> start and then stop your Docassemble docker container on the command
line, or manually install the application as follows:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker exec -ti [TAB] /bin/bash</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">apt update</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">apt install ocrmypdf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="setting-ocrmypdf-as-the-default-ocr-engine-in-assemblyline-interviews">Setting OCRMyPDF as the default OCR engine in AssemblyLine interviews<a href="#setting-ocrmypdf-as-the-default-ocr-engine-in-assemblyline-interviews" class="hash-link" aria-label="Direct link to Setting OCRMyPDF as the default OCR engine in AssemblyLine interviews" title="Direct link to Setting OCRMyPDF as the default OCR engine in AssemblyLine interviews">​</a></h4>
<p>Find and edit the <code>assembly line</code> directive in your configuration so that it includes this line:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">assembly line</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ocr engine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ocrmypdf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If this setting is missing or the <code>ocr engine</code> is set to anything other than <code>ocrmypdf</code>, the
default Docassemble OCR engine will be used instead.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="alstaticdocument">ALStaticDocument<a href="#alstaticdocument" class="hash-link" aria-label="Direct link to ALStaticDocument" title="Direct link to ALStaticDocument">​</a></h2>
<p>The <code>ALStaticDocument</code> class is provided to give you a simple method to include
plain PDF or Word instructions that do not have any variables included in them
and have only one version (rather than a preview and final version). It can also
work for image files or any file that can be converted to PDF.</p>
<p>To use an <code>ALStaticDocument</code> in your bundle, upload the desired PDF, Word,
or image file to the <code>static</code> folder in your Docassemble package, and
initialize it like this:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">my_static_file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ALStaticDocument.using(filename=&quot;my_static_file.pdf&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> title=&quot;Instructions&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> enabled=True)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">al_court_bundle</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ALDocumentBundle.using(elements=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">my_static_file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> title=&quot;Forms to download&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-xlsx-files-with-altabledocument">Creating XLSX files with ALTableDocument<a href="#creating-xlsx-files-with-altabledocument" class="hash-link" aria-label="Direct link to Creating XLSX files with ALTableDocument" title="Direct link to Creating XLSX files with ALTableDocument">​</a></h2>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>In progress!</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="aluntransformeddocument">ALUntransformedDocument<a href="#aluntransformeddocument" class="hash-link" aria-label="Direct link to ALUntransformedDocument" title="Direct link to ALUntransformedDocument">​</a></h2>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>In progress!</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine-documentation/edit/main/docs/framework/aldocument.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docassemble-AssemblyLine-documentation/docs/reference/AssemblyLine/al_courts"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">al_courts</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docassemble-AssemblyLine-documentation/docs/reference/AssemblyLine/al_document"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">al_document</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#aldocument-class" class="table-of-contents__link toc-highlight">ALDocument class</a><ul><li><a href="#enabled-example" class="table-of-contents__link toc-highlight">Enabled Example</a></li></ul></li><li><a href="#aldocumentbundle-class" class="table-of-contents__link toc-highlight">ALDocumentBundle class</a><ul><li><a href="#using-the-download_list_html-method" class="table-of-contents__link toc-highlight">Using the <code>download_list_html()</code> method</a></li><li><a href="#using-the-send_button_html-method" class="table-of-contents__link toc-highlight">Using the <code>send_button_html()</code> method</a></li></ul></li><li><a href="#working-with-overflow-text-aladdendumfield-and-aladdendumfielddict" class="table-of-contents__link toc-highlight">Working with overflow text, ALAddendumField and ALAddendumFieldDict</a><ul><li><a href="#overview-1" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#assumptions-and-changes-to-whitespace" class="table-of-contents__link toc-highlight">Assumptions and changes to whitespace</a></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li><li><a href="#custom-parameters-for-the-addendum-code" class="table-of-contents__link toc-highlight">Custom parameters for the addendum code</a></li></ul></li><li><a href="#handling-uploaded-documents" class="table-of-contents__link toc-highlight">Handling uploaded documents</a><ul><li><a href="#choosing-the-right-file-upload-method" class="table-of-contents__link toc-highlight">Choosing the right file upload method</a></li><li><a href="#using-a-simple-file-field" class="table-of-contents__link toc-highlight">Using a simple file field</a></li><li><a href="#handling-basic-file-attachments-with-the-aldocumentupload-class" class="table-of-contents__link toc-highlight">Handling basic file attachments with the ALDocumentUpload class</a></li><li><a href="#using-the-full-power-of-alexhibitdocument" class="table-of-contents__link toc-highlight">Using the full power of ALExhibitDocument</a></li><li><a href="#customizing-exhibits" class="table-of-contents__link toc-highlight">Customizing Exhibits</a></li><li><a href="#using-advanced-ocr-settings" class="table-of-contents__link toc-highlight">Using advanced OCR settings</a></li></ul></li><li><a href="#alstaticdocument" class="table-of-contents__link toc-highlight">ALStaticDocument</a></li><li><a href="#creating-xlsx-files-with-altabledocument" class="table-of-contents__link toc-highlight">Creating XLSX files with ALTableDocument</a></li><li><a href="#aluntransformeddocument" class="table-of-contents__link toc-highlight">ALUntransformedDocument</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> | This documentation website is built with <a href="https://docusaurus.io/" target="_blank">Docusaurus</a>.</div></div></div></footer></div>
</body>
</html>