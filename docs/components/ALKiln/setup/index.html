<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-components/ALKiln/alkiln_setup" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Set up ALKiln tests | Document Assembly Line</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://assemblyline.suffolklitlab.org/docs/components/ALKiln/setup"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Set up ALKiln tests | Document Assembly Line"><meta data-rh="true" name="description" content="WIP (Work in progress)"><meta data-rh="true" property="og:description" content="WIP (Work in progress)"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://assemblyline.suffolklitlab.org/docs/components/ALKiln/setup"><link data-rh="true" rel="alternate" href="https://assemblyline.suffolklitlab.org/docs/components/ALKiln/setup" hreflang="en"><link data-rh="true" rel="alternate" href="https://assemblyline.suffolklitlab.org/docs/components/ALKiln/setup" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"WIP Setup/Installation","item":"https://assemblyline.suffolklitlab.org/docs/components/ALKiln/setup"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-622Z2D6Q3Q"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-622Z2D6Q3Q",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.6f8b3f9e.css">
<script src="/assets/js/runtime~main.252da317.js" defer="defer"></script>
<script src="/assets/js/main.f8e97121.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/lit-lab-logo-small-inverted.svg" alt="The Suffolk LIT Lab Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/lit-lab-logo-small-inverted.svg" alt="The Suffolk LIT Lab Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Document Assembly Line</b></a><a class="navbar__item navbar__link" href="/docs/get_started">Get started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/overview">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://suffolklitlab.org/legal-tech-class/docs/introduction-to-docassemble" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Legal tech class<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://docassemble.org/docs.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Docassemble docs<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/authoring/pdfs">Authoring interviews</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/style_guide/question_overview">Writing good questions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/coding_style/overview">Coding style guide</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item sidebar-heading">Assembly Line components</li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/components/AssemblyLine/ALGeneral/overview">AssemblyLine</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/components/ALRecipes/overview">ALRecipes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/components/ALToolbox/overview">ALToolbox</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/components/ALThemeTemplate/overview">ALThemeTemplate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/components/RateMyPDF/overview">RateMyPDF</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/components/GithubFeedbackForm/overview">GithubFeedbackForm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/components/InterviewStats/overview">InterviewStats</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/components/FormFyxer/lit_explorer">FormFyxer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/components/EFSPIntegration/overview">E-filing integration (EFSP)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/components/ALKiln/intro">Automated testing (ALKiln)</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/intro">WIP Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/alkiln">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/advanced">Advanced</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/components/ALKiln/setup">WIP Setup/Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/writing">WIP Writing tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/trouble">WIP Troubleshooting &amp; errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/security">WIP Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/old">WIP Older versions</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Automated testing (ALKiln)</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">WIP Setup/Installation</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Set up ALKiln tests</h1></header><div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>WIP (Work in progress)</p></div></div>
<p>Welcome to our guide on different ways to set up your ALKiln tests. You can use as many of these methods as you want. You can also <a href="#disable">disable tests</a> if you need to.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="who">Should <em>I</em> read this?<a href="#who" class="hash-link" aria-label="Direct link to who" title="Direct link to who">​</a></h2>
<p>Maybe not. For example, if you have a GitHub repository and it already has a &quot;.github&quot; folder with a <a href="/docs/components/ALKiln/writing#workflows">workflow file</a>, you can probably skip this page.</p>
<ul>
<li><strong>People who only write tests:</strong> Skip this and see the <a href="/docs/components/ALKiln/writing">documentation on writing tests</a>.</li>
<li><strong>GitHub repository or organization managers or admins:</strong> This guide might be useful to you.</li>
<li><strong>Docassemble server managers or admins:</strong> This guide might be useful to you.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="types">Types of tests<a href="#types" class="hash-link" aria-label="Direct link to Types of tests" title="Direct link to Types of tests">​</a></h2>
<p>There are three kinds of tests:</p>
<ol>
<li><strong><a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a></strong> - GitHub-triggered tests that create and test a Project on your docassemble server. This type of test runs into the fewest setup barriers, so we recommend this method if you are doing this without help.</li>
<li><strong><a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a></strong> - Tests that you trigger manually from an <a href="https://github.com/SuffolkLITLab/docassemble-ALKilnInThePlayground" target="_blank" rel="noopener noreferrer">interview</a> you install on your docassemble server.</li>
<li><strong><a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a></strong> - GitHub-triggered tests that create their own docassemble server on GitHub and run tests there.<sup><a href="#user-content-fn-sand" id="user-content-fnref-sand" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup></li>
</ol>
<p>Each type of test has its advantages and disadvantages. This documentation explains some of those. First, here are the different ways to set up for the different types of tests.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="recommended">Recommended setup:  <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a><a href="#recommended" class="hash-link" aria-label="Direct link to recommended" title="Direct link to recommended">​</a></h2>
<p><a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests are the O.G. ALKiln tests and mix well with most docassemble server configurations and needs. Like other GitHub tests, you set them up for each repository separately.</p>
<p><strong>You will need:</strong></p>
<ul>
<li>A package with a repository on GitHub</li>
<li>A developer or admin account on your docassemble server</li>
<li>A collaborator or admin account on your package&#x27;s GitHub repository<sup><a href="#user-content-fn-auth" id="user-content-fnref-auth" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup> or an admin account in your GitHub organization</li>
</ul>
<p>Setting up can take some time for someone new, but we do our best to walk you through the process in our setup interview.</p>
<p><a href="https://apps-dev.suffolklitlab.org/start/test-setup" target="_blank" rel="noopener noreferrer" class="button button--primary text--no-decoration">Run the ALKiln <span>GitHub+You™</span> setup interview</a></p>
<p><strong>The interview will help you use:</strong></p>
<ul>
<li><a href="https://docassemble.org/docs/api.html#manage_api" target="_blank" rel="noopener noreferrer">Docassemble API keys</a></li>
<li><a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens#creating-a-personal-access-token-classic" target="_blank" rel="noopener noreferrer">GitHub personal access tokens</a> (PATs)</li>
<li><a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests" target="_blank" rel="noopener noreferrer">GitHub pull requests</a> (PRs)</li>
</ul>
<p>Once you are ready to start running tests, you can read about <a href="#first-test">adding our example test</a>, <a href="/docs/components/ALKiln/writing">writing tests in general</a>, or even more advanced techniques, like <a href="/docs/components/ALKiln/writing#trigger-tests">different ways to trigger and run <span>GitHub+You™</span> tests on GitHub</a>.</p>
<p><strong>Related topics:</strong></p>
<ul>
<li><a href="/docs/components/ALKiln/writing#secrets">GitHub secrets</a></li>
<li><a href="/docs/components/ALKiln/writing#workflows">GitHub workflows</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="first-test">First test<a href="#first-test" class="hash-link" aria-label="Direct link to First test" title="Direct link to First test">​</a></h2>
<p>You can add a short test right away that just makes sure your YAML file runs. If you run the setup interview you can choose to create this test at that time. We recommend you do that. If you set up your tests manually instead:</p>
<ol>
<li>In the Playground of your Project, go to the &quot;Sources&quot; folder.</li>
<li>Add a file that ends in <code>.feature</code>. For example, <code>interviews_load.feature</code>.</li>
<li>In that file, write <code>Feature:</code> at the top, with a description of the general category of tests that will be in that file.</li>
<li>Add a <code>Scenario:</code> for each interview you want to test. The file should look similar to this:</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Feature: Interviews load</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Scenario: The 209A loads</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Given I start the interview at &quot;ma_209a_package.yml&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Scenario: The Plaintiff&#x27;s Motion to Modify loads</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Given I start the interview at &quot;plaintiffs_motion_to_modify_209a.yml&quot;</span><br></span></code></pre></div></div>
<p>You can wait to write more complex tests till your code is more stable. &quot;Stable&quot; means that your question block variable names and values should be staying pretty much the same.</p>
<p>To learn how to do more with tests, you can read more about <a href="/docs/components/ALKiln/writing">writing tests</a> and more about <a href="/docs/components/ALKiln/writing#test-files">test files</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="diy-how-to"> <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests<a href="#diy-how-to" class="hash-link" aria-label="Direct link to diy-how-to" title="Direct link to diy-how-to">​</a></h2>
<p>If you set up <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests, any developer that logs in can run tests on any of their Projects. You only have to do this once. You can read more details and the pros and cons of <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests below.</p>
<p>Remember to use a <a href="/docs/components/ALKiln/security#testing-server">separate server for these types of tests</a>.</p>
<p>The ALKilnInThePlayground package installs the ALKiln testing framework directly on your server. For <a href="/docs/components/ALKiln/security#testing-server">security reasons</a>, avoid installing these tests on your production server.</p>
<p><strong>You need:</strong></p>
<ul>
<li>A developer or admin account on your docassemble server.</li>
</ul>
<p>It also helps to have a Project with at least one ALKiln test in it, but you can add that later instead.</p>
<p><strong>It helps to know about:</strong></p>
<ul>
<li><a href="https://docassemble.org/docs/packages.html#github_install" target="_blank" rel="noopener noreferrer">Installing GitHub packages on your docassemble server</a></li>
<li>Adding interviews to your docassemble server&#x27;s <a href="https://docassemble.org/docs/config.html#dispatch" target="_blank" rel="noopener noreferrer">configuration&#x27;s dispatch list</a></li>
</ul>
<p><strong>What to do:</strong></p>
<ol>
<li>Sign in to your docassemble server on your own developer account.</li>
<li>Go to your server&#x27;s <a href="https://docassemble.org/docs/packages.html#installing" target="_blank" rel="noopener noreferrer">&quot;Package Management&quot; page</a>.</li>
<li>Using the <a href="https://docassemble.org/docs/packages.html#github_install" target="_blank" rel="noopener noreferrer">GitHub install method</a>, install the <a href="https://github.com/SuffolkLITLab/docassemble-ALKilnInThePlayground" target="_blank" rel="noopener noreferrer">ALKilnInThePlayground package</a> from its <code>main</code> branch.</li>
<li>Follow <a href="https://docassemble.org/docs/config.html#dispatch" target="_blank" rel="noopener noreferrer">docassemble&#x27;s instructions</a> to add it to the dispatch list. This will add it to the server&#x27;s list of interviews. It may look something like this:</li>
</ol>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">dispatch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">alkiln</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> docassemble.ALKilnInThePlayground</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">data/questions/run_alkiln_tests.yml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Your other server interviews</span><br></span></code></pre></div></div>
<ol>
<li>Go to your server&#x27;s list of <a href="https://docassemble.org/docs/admin.html#available%20interviews" target="_blank" rel="noopener noreferrer">&quot;Available interviews&quot;</a>. The list should have ALKiln&#x27;s Playground package in it.</li>
<li>Run that interview.</li>
<li>On the first page of that interview, choose to install the latest version of ALKiln by picking the top item in the list. You can choose to do this whenever we make a new version of ALKiln.</li>
</ol>
<p>If you are ready to start running tests, you can read about how to <a href="#first-test">add our example test</a>, <a href="/docs/components/ALKiln/writing">write tests</a>, or continue the above interview to <a href="/docs/components/ALKiln/writing#trigger_autodiy">run your tests</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sandbox-how-to"> <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests (advanced)<a href="#sandbox-how-to" class="hash-link" aria-label="Direct link to sandbox-how-to" title="Direct link to sandbox-how-to">​</a></h2>
<p>The <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests are the most secure because they never interact with your server. ALKiln makes a server on GitHub itself and runs the tests there.</p>
<p>Every repository that needs to use this kind of test must go through this setup process.</p>
<p>This is an advanced method and may not work for everyone. We are happy to help you with it.</p>
<p>The tests <a href="/docs/components/ALKiln/writing#trigger-tests">run</a> whenever you commit any code to any branch on GitHub. Below, see details and the pros and cons of <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests.</p>
<p><strong>You need:</strong></p>
<ul>
<li>A package with a repository on GitHub.</li>
<li>A collaborator or admin account on your package&#x27;s GitHub repository<sup><a href="#user-content-fn-auth" id="user-content-fnref-auth-2" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup>.</li>
</ul>
<p><strong>It helps to know about:</strong></p>
<ul>
<li><a href="https://docs.github.com/en/repositories/working-with-files/managing-files/creating-new-files" target="_blank" rel="noopener noreferrer">Creating new files on GitHub</a></li>
<li><a href="/docs/components/ALKiln/writing#workflows">GitHub workflows</a></li>
<li><a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests" target="_blank" rel="noopener noreferrer">GitHub pull requests</a> (PRs)</li>
</ul>
<p><strong>What to do:</strong></p>
<ol>
<li>Sign in to GitHub.</li>
<li>Go to the package&#x27;s GitHub repository.</li>
<li><a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-and-deleting-branches-within-your-repository" target="_blank" rel="noopener noreferrer">Make a new branch</a> in the repository. The name is unimportant. We often call it <code>alkiln_tests</code>.</li>
<li>Navigate to your package&#x27;s &quot;sources&quot; folder. These are the folders to get there: <code>docassemble/&lt;YourPackageName&gt;/data/sources</code>.</li>
<li><a href="https://docs.github.com/en/repositories/working-with-files/managing-files/creating-new-files" target="_blank" rel="noopener noreferrer">Add a new file on GitHub</a>. This will be your first test.</li>
<li>Fill in the field for the name of the file. You might call it <code>interviews_load.feature</code>, but it can be anything that ends in <code>.feature</code>.</li>
<li>Copy our example of a <a href="#first-test">first test</a> into that file.</li>
<li><a href="https://docs.github.com/en/repositories/working-with-files/managing-files/creating-new-files" target="_blank" rel="noopener noreferrer">Commit this file to GitHub</a>.</li>
<li>Go back to the main page of the repository. Make sure you are on <a href="https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/managing-branches-in-your-repository/viewing-branches-in-your-repository" target="_blank" rel="noopener noreferrer">the correct branch</a>.</li>
<li><a href="https://docs.github.com/en/repositories/working-with-files/managing-files/creating-new-files" target="_blank" rel="noopener noreferrer">Add a new file</a> here too.</li>
<li>In the field for the file&#x27;s name, enter this text: <code>.github/workflows/a_filename.yml</code>. You can replace &quot;a_filename&quot; with whatever name you want as long as it ends with <code>.yml</code>.</li>
<li>This is your workflow file. Copy <a href="https://github.com/SuffolkLITLab/ALKiln/blob/-/.github/workflows/github_server.yml" target="_blank" rel="noopener noreferrer">ALKiln&#x27;s own workflow file</a>. Read the notes in that file to see what you need to change. You should pay attention to the notes that start with <code>#### Developer note</code> and follow those instructions.</li>
<li><a href="https://docs.github.com/en/repositories/working-with-files/managing-files/creating-new-files" target="_blank" rel="noopener noreferrer">Commit this file to GitHub</a>.</li>
<li>Go to the repository&#x27;s <a href="https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions#viewing-the-workflows-activity" target="_blank" rel="noopener noreferrer">&quot;Actions&quot; page to see the test running</a>.</li>
<li>If the tests pass, make a pull request with that branch. If not, <a href="/docs/components/ALKiln/trouble">troubleshoot the tests</a>.</li>
</ol>
<p>If you are ready to start running tests, you can read about how to <a href="#first-test">add our example test</a>, <a href="/docs/components/ALKiln/writing">write tests</a>, or <a href="/docs/components/ALKiln/writing#trigger-tests">trigger and run <span>GitHub Sandbox™</span> tests on GitHub</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="githubNyou-details"> <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> test details<a href="#githubNyou-details" class="hash-link" aria-label="Direct link to githubNyou-details" title="Direct link to githubNyou-details">​</a></h2>
<p><span>GitHub+You™</span> tests run in GitHub whenever a developer commits code to the GitHub repository of the package. As you can read below, to use this type of test we strongly recommend you create a <a href="/docs/components/ALKiln/security#test-accounts">developer account</a> for ALKiln on your server, a &quot;testing account&quot;.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="githubNyou-how">What is ALKiln doing?<a href="#githubNyou-how" class="hash-link" aria-label="Direct link to What is ALKiln doing?" title="Direct link to What is ALKiln doing?">​</a></h3>
<p>When <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests get triggered, ALKiln does the following:</p>
<ol>
<li>ALKiln creates a new Project for the <a href="/docs/components/ALKiln/security#test-accounts">testing account</a> you set up on your <a href="/docs/components/ALKiln/security#testing-server">testing server</a><sup><a href="#user-content-fn-peek" id="user-content-fnref-peek" data-footnote-ref="true" aria-describedby="footnote-label">3</a></sup>.</li>
<li>It uploads the package into the Project using the correct GitHub branch.</li>
<li>For each  test, ALKiln pretends to be a human and goes to interviews in that Project.</li>
<li>It tries to fill out the fields and take the actions the tests describe.</li>
<li>When all the tests are done, ALKiln deletes the Project it created.</li>
</ol>
<p>GitHub can show you <a href="/docs/components/ALKiln/writing#running-data">information your tests while they are running</a>. When the tests are done, you can see the <a href="/docs/components/ALKiln/writing#artifacts">&quot;artifacts&quot; of the tests</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="githubNyou-pros">Pros<a href="#githubNyou-pros" class="hash-link" aria-label="Direct link to Pros" title="Direct link to Pros">​</a></h3>
<ul>
<li><a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests work well with most servers and infrastructure. Other types of tests can sometimes run into problems because of a quirk on your server, where you store your data, or some other complication. These tests are more easy going.</li>
<li>ALKiln on GitHub will test any changes any team member commits. <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests only test your changes.</li>
<li><a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests are harsh, but honest. They install your package freshly each time they run. That means, for example, that if you forgot to commit a template file to a package, the tests will let you know by failing.</li>
<li>On GitHub, there are ways to schedule tests to run regularly - every week, every day, or on your birthday. While your code is sitting around happily staying the same, a package you use, or even docassemble itself, might update its code and break the interview. Scheduled tests will let you know.</li>
<li>Unlike <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests, you can keep editing your Project&#x27;s code without a care in the world. Except python files. They cause the server to reload. If that is going to be a problem, <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests are better about <a href="#edit_files_freely">leaving your server completely alone</a>.</li>
<li>You can configure your GitHub &quot;action&quot; to do other things, like create GitHub issues whenever tests fail.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="githubNyou-cons">Cons<a href="#githubNyou-cons" class="hash-link" aria-label="Direct link to Cons" title="Direct link to Cons">​</a></h3>
<p>For everyone:</p>
<ul>
<li><a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests work more reliably on more systems, but are more complex to setup than <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests. The <a href="https://apps-dev.suffolklitlab.org/start/test-setup" target="_blank" rel="noopener noreferrer">ALKiln test setup interview</a> tries to help with that. When you become familiar with the process, you can even do it yourself directly on GitHub.</li>
<li>When <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests start up, they pull your package code into your docassemble server, just like any other developer. This means that if you test a package with a python module, your docassemble server will reload, slowing down access for other people who are using the server and access for other tests.</li>
<li>Your tests might be more flaky. That means they may fail for reasons that have nothing to do with the code of your interview. For example, some tests may fail if your server reloads while they are running. Your server can reload when someone updates your server config, installs a new package, etc. It is darn frustrating when tests fail meaninglessly.</li>
</ul>
<p>For some people:</p>
<ul>
<li>If you have <code>restrict input variables</code> set to <code>True</code> in your server&#x27;s config and have signature screens in the interview you are testing, you <em>must</em> have the <a href="/docs/components/ALKiln/writing#special-html">trigger variable HTML</a> in your interview for signatures.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="diy-details"> <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> test details<a href="#diy-details" class="hash-link" aria-label="Direct link to diy-details" title="Direct link to diy-details">​</a></h2>
<p>The <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests are automated tests that you trigger manually from an interview you install on your docassemble <a href="/docs/components/ALKiln/security#testing-server">testing server</a>. The tests then run right on that server.</p>
<p>Remember to use a <a href="/docs/components/ALKiln/security#testing-server">testing or development server</a> for these types of tests. You can read more about <a href="/docs/components/ALKiln/writing#trigger_autodiy">running <span>ALKilnInThePlayground™</span> tests</a> in other documentation.</p>
<p>The <a href="https://github.com/SuffolkLITLab/docassemble-ALKilnInThePlayground" target="_blank" rel="noopener noreferrer">ALKilnInThePlayground package</a> installs the ALKiln testing framework directly on your server. For <a href="/docs/components/ALKiln/security#testing-server">security reasons</a>, avoid using these tests on your production server.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="diy-how">What is ALKiln doing?<a href="#diy-how" class="hash-link" aria-label="Direct link to What is ALKiln doing?" title="Direct link to What is ALKiln doing?">​</a></h3>
<p>When you <a href="/docs/components/ALKiln/writing#trigger_autodiy">run</a> the <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests while on your docassemble <a href="/docs/components/ALKiln/security#testing-server">testing server</a>, ALKiln does the following:</p>
<ol>
<li>For each  test, ALKiln pretends to be a human and goes to the url of the Project and interview you specified.</li>
<li>It tries to fill out the fields and take the actions the tests describe.</li>
</ol>
<p>When the tests are done, the interview will go to the next page where you can see the <a href="/docs/components/ALKiln/writing#artifacts">&quot;artifacts&quot; of the tests</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="diy-pros">Pros<a href="#diy-pros" class="hash-link" aria-label="Direct link to Pros" title="Direct link to Pros">​</a></h3>
<ul>
<li>You can skip putting your package on GitHub.</li>
<li>Running ALKiln on your server lets you loop through your development cycle faster - edit, test, edit, test. You don&#x27;t have to go through committing your code to GitHub every time.</li>
<li>You can more easily limit your tests to a specific set of tests using <a href="/docs/components/ALKiln/writing#tags">tag expressions</a>. You can use tags on GitHub too, it just takes more steps.</li>
<li>The full report output is easier to get right away.</li>
<li>If you also have GitHub tests, running <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests before you commit can often help you avoid the red &quot;x&quot; that appears next to failing tests on GitHub. The red &quot;x&quot; is a useful piece of information, but it can be uncomfortable.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="diy-cons">Cons<a href="#diy-cons" class="hash-link" aria-label="Direct link to Cons" title="Direct link to Cons">​</a></h3>
<p>For everyone:</p>
<ul>
<li>You cannot edit the Project that the test is testing.</li>
<li>You will miss catching some kinds of mistakes. For example, <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests will miss <a href="/docs/components/ALKiln/trouble#file-not-found">&quot;File not found&quot; errors</a>.</li>
<li>Your tests can be more flaky. For example, if your server reloads while the tests are running, the tests may get unexpected results. You may have to start the tests all over again.</li>
</ul>
<p>For some people:</p>
<ul>
<li>If your interview uses <a href="https://docassemble.org/docs/background.html#background" target="_blank" rel="noopener noreferrer">docassemble background actions</a> then your server must let at least 3 celery processes run at the same time. You can <a href="https://docassemble.org/docs/config.html#celery%20processes" target="_blank" rel="noopener noreferrer">manually set the number of celery processes in your server&#x27;s config file</a>.</li>
<li>If you are using a docassemble Docker image created before April 9th, 2023, you will have to do a <a href="https://docassemble.org/docs/docker.html#upgrading" target="_blank" rel="noopener noreferrer">&quot;system upgrade&quot;</a> to update your server to a newer docassemble Docker image. Any version of <a href="https://github.com/jhpyle/docassemble-os" target="_blank" rel="noopener noreferrer">https://github.com/jhpyle/docassemble-os</a> that is older than 1.0.8 uses versions of <code>node</code> that are too old for ALKiln. As of February 11th, 2024, ALKiln is using node version 18. A lot of people have upgraded already and it is a very good idea to do that, for security at the very least. If you do need to upgrade, though, you need to back up all your data, delete your old image and container, get the new image, create a new container, and restore your data. It may sound simple, but it is a tricky process.</li>
<li>If you have <code>restrict input variables</code> set to <code>True</code> in your server&#x27;s config and have signature screens in the interview you are testing, you <em>must</em> have the <a href="/docs/components/ALKiln/writing#special-html">trigger variable HTML</a> in your interview for signatures.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sandbox-details"> <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> test details<a href="#sandbox-details" class="hash-link" aria-label="Direct link to sandbox-details" title="Direct link to sandbox-details">​</a></h2>
<p>Any developer will <a href="/docs/components/ALKiln/writing#trigger-tests">trigger <span>GitHub Sandbox™</span> tests when they commit code to GitHub</a>. They create their own docassemble server on GitHub and run tests there.</p>
<p>The <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests are the most secure because they never interact with your server and the isolated server they each create is temporary. Unfortunately, these tests also sometimes have more setup complications.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sandbox-how">What is ALKiln doing?<a href="#sandbox-how" class="hash-link" aria-label="Direct link to What is ALKiln doing?" title="Direct link to What is ALKiln doing?">​</a></h3>
<p>When you run <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests, ALKiln does the following:</p>
<ol>
<li>ALKiln creates a server on GitHub itself</li>
<li>It installs the relevant branch of your package on that server</li>
<li>For each  test, ALKiln pretends to be a human and goes to the url of the interview named in the test</li>
<li>It tries to fill out the fields and take the actions the tests describe</li>
<li>When all the tests are done, GitHub deletes the server</li>
</ol>
<p>GitHub can show you <a href="/docs/components/ALKiln/writing#running-data">information about your running tests</a>. When the tests are done, you can see the <a href="/docs/components/ALKiln/writing#artifacts">&quot;artifacts&quot; of the tests</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sandbox-pros">Pros<a href="#sandbox-pros" class="hash-link" aria-label="Direct link to Pros" title="Direct link to Pros">​</a></h3>
<ul>
<li>All the <a href="#githubNyou-pros">same advantages as regular GitHub tests</a> as well as some more.</li>
<li>This is the most secure of all the methods. The tests don&#x27;t interact with your server at all.</li>
<li>
<span id="edit_files_freely" class="">You can edit whatever files you want on your own server because <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests don&#x27;t touch your server at all.</span>
</li>
<li>In some cases, no GitHub secrets are necessary.</li>
<li>Your tests will generally be less flaky. When a test fails it is more likely to be a problem with your code instead of a problem with the server, giving you better information. That&#x27;s because the server is isolated, or &quot;sandboxed&quot;<sup><a href="#user-content-fn-sand" id="user-content-fnref-sand-2" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup>, on GitHub and no one is going to make that sandboxed server reload in the middle of the tests.</li>
<li>You do not have to set up or update any docassemble API keys or GitHub tokens.</li>
<li>It might be useful to test <a href="https://docassemble.org/docs/fields.html#custom%20datatype" target="_blank" rel="noopener noreferrer">custom data types</a> on a sandboxed server. A docassemble CustomDatatype affects a whole server. Testing it on a sandboxed server means it cannot affect the CustomDatatypes that are already on your server.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sandbox-cons">Cons<a href="#sandbox-cons" class="hash-link" aria-label="Direct link to Cons" title="Direct link to Cons">​</a></h3>
<p>For everyone:</p>
<ul>
<li>Tests take about 5-10 minutes longer since they have to do things like create a docker container and start a server.</li>
<li>The GitHub server installs the latest version of docassemble, which might be a different version than the one you use on your production server. Any server other than your production server will be different in some ways, though. Since you should never run these tests on your production server, there is no way to avoid that.</li>
<li>In most cases, you should avoid writing tests that use hard-coded urls that go to your server. That is, avoid using links in your tests that start with your server&#x27;s address. For example, <code>https://my-server.com</code>. Avoid linking to interviews or other pages there. That will send the tests to your server, which makes them less secure again.</li>
</ul>
<p>For some people:</p>
<ul>
<li>
<p>Right now, <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests are unable to handle data stored externally. For example, data stored in an S3 bucket.<sup><a href="#user-content-fn-ways" id="user-content-fnref-ways" data-footnote-ref="true" aria-describedby="footnote-label">4</a></sup> </p>
</li>
<li>
<p>If you are including any other packages in your interview, you <strong>must</strong> make sure you have properly required them in the &quot;Dependencies&quot; section of your <a href="https://docassemble.org/docs/playground.html#packages" target="_blank" rel="noopener noreferrer">Playground Packages page</a>. This is an example of code that uses the Assembly Line package:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">include</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> docassemble.AssemblyLine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">al_package.yml</span><br></span></code></pre></div></div>
<p>Because of that code, the author needs to require the AssemblyLine package as a dependency. This is what it looks like to require the Assembly Line package:</p>
<p><img src="/img/alk_require_an_external_package.png" class="w-75p_n1UG center_nRkL" title="A row that says &#x27;docassemble.AssemblyLine&#x27; is highlighted in gray in the &#x27;Dependencies&#x27; section of the Packages page of a docassemble Playground Project called &#x27;FinancialStatementIncome&#x27;."></p>
<p>Save your choices and commit them to GitHub.</p>
</li>
<li>
<p>All the packages your package uses, like Assembly Line, <strong>must</strong> be <a href="https://docassemble.org/docs/packages.html#pypi" target="_blank" rel="noopener noreferrer">published on pypi</a>. That is the only place that the sandboxed server can get them.</p>
</li>
<li>
<p>Those packages must also correctly require all <em>their</em> dependencies and those must be published on pypi as well.</p>
</li>
<li>
<p>If your package is too big, you will be unable to use this type of test. <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests install your package on the server itself. That makes sure your package&#x27;s dependencies get automatically installed too. The method ALKiln needs to use to install your package on the server will reject big packages. We are unsure about the exact limits, but we know it must be less than 30 MB.</p>
</li>
<li>
<p>If you use any API keys for third-party services, like Google geolocation or recaptcha3, you must write code that has alternatives to using those services. This is fairly complicated. For a simple example with bad code, for recaptcha3 this code might technically work for some situations:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">code</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  if user_info().id != 1:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">    use_recaptcha</span><br></span></code></pre></div></div>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="disable">Disabling<a href="#disable" class="hash-link" aria-label="Direct link to Disabling" title="Direct link to Disabling">​</a></h2>
<p><a href="/docs/components/ALKiln/security#alkilns-precautions">ALKiln works hard to protect you from security vulnerabilities</a> and there are lots of ways for you to <a href="/docs/components/ALKiln/security">improve your own security</a>. Even so, if you ever become uncomfortable or concerned about your ALKiln tests showing <a href="/docs/components/ALKiln/security#privilege">personal or security-critical data</a>, there are multiple ways you can disable the tests.</p>
<p>If you are worried you have already shown sensitive information in your GitHub tests, you can <a href="https://docs.github.com/en/actions/managing-workflow-runs-and-deployments/managing-workflow-runs/deleting-a-workflow-run" target="_blank" rel="noopener noreferrer">delete the GitHub action that ran the workflow</a>. You can also just <a href="https://docs.github.com/en/actions/monitoring-and-troubleshooting-workflows/monitoring-workflows/using-workflow-run-logs#deleting-logs" target="_blank" rel="noopener noreferrer">delete your GitHub logs</a> and <a href="https://docs.github.com/en/actions/managing-workflow-runs-and-deployments/managing-workflow-runs/removing-workflow-artifacts" target="_blank" rel="noopener noreferrer">delete your GitHub artifacts</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="disable-test">Disable a test or test file<a href="#disable-test" class="hash-link" aria-label="Direct link to Disable a test or test file" title="Direct link to Disable a test or test file">​</a></h3>
<p><strong>This is for:</strong> Everyone</p>
<p>You can disable one or more tests in a <a href="/docs/components/ALKiln/writing#test-files">test file</a>.</p>
<p>You can fully disable any test by commenting out its code. Put a <code>#</code> at the start of every line of the test. You can do this to every line in a file if you want. You can do this by editing the file in your Playground or <a href="https://docs.github.com/en/repositories/working-with-files/managing-files/editing-files" target="_blank" rel="noopener noreferrer">editing it in GitHub</a>.</p>
<p>If you comment out a test, commenting out all its lines is better than just commenting out some. That will avoid messing up other tests.</p>
<p>If you are more comfortable completely deleting a test, that also works. You can also delete the whole file. If your package has a GitHub repository, you must <a href="https://docs.github.com/en/repositories/working-with-files/managing-files/deleting-files-in-a-repository" target="_blank" rel="noopener noreferrer">delete the file in GitHub itself</a>.</p>
<p>The old tests will still be in the version history of your repository if you ever want to get them back, but the tests will no longer run or affect your package.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="disable-repo">Disable repository tests<a href="#disable-repo" class="hash-link" aria-label="Direct link to Disable repository tests" title="Direct link to Disable repository tests">​</a></h3>
<p><strong>This is for:</strong> any packages that run tests on GitHub</p>
<p>GitHub lets you disable or limit all tests, or all actions, in your repository. You can read <a href="https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/enabling-features-for-your-repository/managing-github-actions-settings-for-a-repository#managing-github-actions-permissions-for-your-repository" target="_blank" rel="noopener noreferrer">GitHub&#x27;s documentation for managing repository actions</a> for more information.</p>
<p>Another option is to <a href="https://docs.github.com/en/actions/managing-workflow-runs/disabling-and-enabling-a-workflow" target="_blank" rel="noopener noreferrer">disable an individual workflow (action)</a>. Your package&#x27;s GitHub <a href="/docs/components/ALKiln/writing#workflows">workflow file</a> is what triggers ALKiln tests on GitHub.</p>
<p>You can also <a href="https://docs.github.com/en/repositories/working-with-files/managing-files/deleting-files-in-a-repository" target="_blank" rel="noopener noreferrer">delete</a> the <a href="/docs/components/ALKiln/writing#workflows-where">workflow file that is in your repository</a> completely.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="disable-org">Disabling tests for the whole organization<a href="#disable-org" class="hash-link" aria-label="Direct link to Disabling tests for the whole organization" title="Direct link to Disabling tests for the whole organization">​</a></h3>
<p><strong>This is for:</strong> any packages that run tests on GitHub</p>
<p>In GitHub, <a href="https://docs.github.com/en/organizations/managing-organization-settings/disabling-or-limiting-github-actions-for-your-organization#managing-github-actions-permissions-for-your-organization" target="_blank" rel="noopener noreferrer">you can disable any workflows (actions) for a whole organization</a>. That includes ALKiln tests.</p>
<!-- -->
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_LWe7 sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-sand">
<p>&quot;The isolation metaphor is taken from the idea of children who do not play well together, so each is given [their] own sandbox to play in alone.&quot; - <a href="https://en.wikipedia.org/wiki/Sandbox_(computer_security)" target="_blank" rel="noopener noreferrer">Wikipedia, Sandbox_(computer_security)</a> <a href="#user-content-fnref-sand" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a> <a href="#user-content-fnref-sand-2" data-footnote-backref="" aria-label="Back to reference 1-2" class="data-footnote-backref">↩<sup>2</sup></a></p>
</li>
<li id="user-content-fn-auth">
<p>That is, you need to have the ability to edit the code in your package&#x27;s GitHub repository. If you own the repository or organization, you are an admin and have the correct access level. If someone else is the owner and you are unsure of your access level, ask an admin what permission level you have for the repository. They can check <a href="https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/managing-repository-settings/managing-teams-and-people-with-access-to-your-repository#filtering-the-list-of-teams-and-people" target="_blank" rel="noopener noreferrer">the repository&#x27;s collaborators settings</a>. <a href="#user-content-fnref-auth" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a> <a href="#user-content-fnref-auth-2" data-footnote-backref="" aria-label="Back to reference 2-2" class="data-footnote-backref">↩<sup>2</sup></a></p>
</li>
<li id="user-content-fn-peek">
<p>You can take a sneaky peek at that Project if you want - if you log into the testing account at the right time, you can see the new Project in the list of projects. <a href="#user-content-fnref-peek" data-footnote-backref="" aria-label="Back to reference 3" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-ways">
<p>If you need to use external data and still want <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests, it is probably possible. You can write your own GitHub action to create a server on GitHub with the <a href="https://docassemble.org/docs/docker.html#data%20storage" target="_blank" rel="noopener noreferrer">right Docker build environment variables, credentials, and config details</a>. You are welcome to use <a href="https://github.com/SuffolkLITLab/ALKiln/blob/-/action_for_github_server/action.yml" target="_blank" rel="noopener noreferrer">our GitHub action code</a> as a starting point, of course. It is a feature we are hoping to add, but it is currently low on the list. If you do try to do this, we would love to help and to learn from what you do. <a href="#user-content-fnref-ways" data-footnote-backref="" aria-label="Back to reference 4" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine-documentation/edit/main/docs/components/ALKiln/setup.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/components/ALKiln/advanced"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Advanced</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/components/ALKiln/writing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">WIP Writing tests</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#who" class="table-of-contents__link toc-highlight">Should <em>I</em> read this?</a></li><li><a href="#types" class="table-of-contents__link toc-highlight">Types of tests</a></li><li><a href="#recommended" class="table-of-contents__link toc-highlight">Recommended setup:  <gtoys></gtoys></a></li><li><a href="#first-test" class="table-of-contents__link toc-highlight">First test</a></li><li><a href="#diy-how-to" class="table-of-contents__link toc-highlight"><autodiy></autodiy> tests</a></li><li><a href="#sandbox-how-to" class="table-of-contents__link toc-highlight"><kittylitter></kittylitter> tests (advanced)</a></li><li><a href="#githubNyou-details" class="table-of-contents__link toc-highlight"><gtoys></gtoys> test details</a><ul><li><a href="#githubNyou-how" class="table-of-contents__link toc-highlight">What is ALKiln doing?</a></li><li><a href="#githubNyou-pros" class="table-of-contents__link toc-highlight">Pros</a></li><li><a href="#githubNyou-cons" class="table-of-contents__link toc-highlight">Cons</a></li></ul></li><li><a href="#diy-details" class="table-of-contents__link toc-highlight"><autodiy></autodiy> test details</a><ul><li><a href="#diy-how" class="table-of-contents__link toc-highlight">What is ALKiln doing?</a></li><li><a href="#diy-pros" class="table-of-contents__link toc-highlight">Pros</a></li><li><a href="#diy-cons" class="table-of-contents__link toc-highlight">Cons</a></li></ul></li><li><a href="#sandbox-details" class="table-of-contents__link toc-highlight"><kittylitter></kittylitter> test details</a><ul><li><a href="#sandbox-how" class="table-of-contents__link toc-highlight">What is ALKiln doing?</a></li><li><a href="#sandbox-pros" class="table-of-contents__link toc-highlight">Pros</a></li><li><a href="#sandbox-cons" class="table-of-contents__link toc-highlight">Cons</a></li></ul></li><li><a href="#disable" class="table-of-contents__link toc-highlight">Disabling</a><ul><li><a href="#disable-test" class="table-of-contents__link toc-highlight">Disable a test or test file</a></li><li><a href="#disable-repo" class="table-of-contents__link toc-highlight">Disable repository tests</a></li><li><a href="#disable-org" class="table-of-contents__link toc-highlight">Disabling tests for the whole organization</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://suffolklitlab.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Suffolk LIT Lab<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> | This documentation website is built with <a href="https://docusaurus.io/" target="_blank">Docusaurus</a>.</div></div></div></footer></div>
</body>
</html>