<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-components/ALKiln/alkiln_writing_tests" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Writing ALKiln tests | Document Assembly Line</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://assemblyline.suffolklitlab.org/docs/components/ALKiln/writing"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Writing ALKiln tests | Document Assembly Line"><meta data-rh="true" name="description" content="WIP (Work in progress)"><meta data-rh="true" property="og:description" content="WIP (Work in progress)"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://assemblyline.suffolklitlab.org/docs/components/ALKiln/writing"><link data-rh="true" rel="alternate" href="https://assemblyline.suffolklitlab.org/docs/components/ALKiln/writing" hreflang="en"><link data-rh="true" rel="alternate" href="https://assemblyline.suffolklitlab.org/docs/components/ALKiln/writing" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"WIP Writing tests","item":"https://assemblyline.suffolklitlab.org/docs/components/ALKiln/writing"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-622Z2D6Q3Q"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-622Z2D6Q3Q",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.6f8b3f9e.css">
<script src="/assets/js/runtime~main.ac127f2e.js" defer="defer"></script>
<script src="/assets/js/main.8a1d3402.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/lit-lab-logo-small-inverted.svg" alt="The Suffolk LIT Lab Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/lit-lab-logo-small-inverted.svg" alt="The Suffolk LIT Lab Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Document Assembly Line</b></a><a class="navbar__item navbar__link" href="/docs/get_started">Get started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/overview">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://suffolklitlab.org/legal-tech-class/docs/introduction-to-docassemble" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Legal tech class<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://docassemble.org/docs.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Docassemble docs<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/authoring/pdfs">Authoring interviews</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/style_guide/question_overview">Writing good questions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/coding_style/overview">Coding style guide</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item sidebar-heading">Assembly Line components</li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/components/AssemblyLine/ALGeneral/overview">AssemblyLine</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/components/ALRecipes/overview">ALRecipes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/components/ALToolbox/overview">ALToolbox</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/components/ALThemeTemplate/overview">ALThemeTemplate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/components/RateMyPDF/overview">RateMyPDF</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/components/GithubFeedbackForm/overview">GithubFeedbackForm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/components/InterviewStats/overview">InterviewStats</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/components/FormFyxer/lit_explorer">FormFyxer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/components/EFSPIntegration/overview">E-filing integration (EFSP)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/components/ALKiln/intro">Automated testing (ALKiln)</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/intro">WIP Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/alkiln">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/advanced">Advanced</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/setup">WIP Setup/Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/components/ALKiln/writing">WIP Writing tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/trouble">WIP Troubleshooting &amp; errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/security">WIP Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/old">WIP Older versions</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Automated testing (ALKiln)</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">WIP Writing tests</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Writing ALKiln tests</h1></header><div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>WIP (Work in progress)</p></div></div>
<p>This page describes your tests files and how to write tests   and other useful information. To see the table of contents on a small screen, tap on the dropdown menu at the top of the page. To see it on a wider screen, see the column on the right-hand side of the screen.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="who">Do <em>I</em> need to read this?<a href="#who" class="hash-link" aria-label="Direct link to who" title="Direct link to who">​</a></h2>
<p>If you are writing tests  or need to learn about test files, this page is for you. It is easier to write the tests if you have access to the interview YAML code and understand a bit about docassemble.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="refresh">Quick refresher<a href="#refresh" class="hash-link" aria-label="Direct link to Quick refresher" title="Direct link to Quick refresher">​</a></h2>
<p>If you are coming back and just need some resource reminders, here is a short list:</p>
<ul>
<li>You can see <a href="/docs/components/ALKiln/setup#first-test">what your first test might look like</a>.</li>
<li>You can generate a first draft for a more complex test with the help of the <a href="#alkiln_story">ALKiln Story Table Step generator</a>.</li>
<li>If your interview is using generic objects or index variables, you <strong>must</strong> include <a href="#special-html">special HTML</a> in your interview.</li>
<li>Every time you change or add a required field variable, you must update the tests that need that variable.</li>
<li>You write and edit <code>.feature</code> test files in your package&#x27;s Sources folder.</li>
<li>You can check the syntax of your test file by using an editor like the <a href="https://www.assertthat.com/online-gherkin-editor" target="_blank" rel="noopener noreferrer">editor at AssertThat</a>.</li>
<li>If you are using <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> or <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests, those tests will run when anyone commits to GitHub.</li>
<li>By default, each Step or page <strong>must</strong> be completed in at most 30 seconds. You can change that with the <a href="#custom-timeout">&quot;max seconds&quot; Step</a>.</li>
<li>ALKiln creates test <a href="#report">reports</a> and pictures. For example, ALKiln saves <a href="#error-pics">pictures and the HTML of pages that caused errors</a>. In GitHub, those files are in the zip file in <a href="#artifacts">your workflow&#x27;s artifact section</a>.</li>
<li>There are some field types that ALKiln cannot yet handle, including some <code>object</code>-type fields.</li>
<li>The tests use the <a href="#gherkin-keywords">gherkin language and syntax</a>.</li>
</ul>
<p>Here is an example of a more complex test for a quick refresher on some of ALKiln&#x27;s features:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">@children</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Feature: I have children</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">@fast @child_benefits</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scenario: child has benefits</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given I start the interview at &quot;some_file_name.yml&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I get to the question id &quot;benefits&quot; with this data:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | children.there_are_any | True |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | children.target_number | 2 |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | children[0].name.first | Cashmere |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | children[0].name.last | Davis |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | children[1].name.first | Casey |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | children[1].name.last | Davis |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  When I set the var &quot;benefits[&#x27;SSI&#x27;]&quot; to &quot;True&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I tap to continue</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then the question id should be &quot;download&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I download &quot;some_motion.pdf&quot;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="steps">Writing test Steps overview<a href="#steps" class="hash-link" aria-label="Direct link to Writing test Steps overview" title="Direct link to Writing test Steps overview">​</a></h2>
<p>Most of <a href="#test-files">the code in test files</a> is code for ALKiln Steps.</p>
<p>ALKiln Steps are how you give your instructions to the ALKiln robot. Steps are made of commands<sup><a href="#user-content-fn-meh" id="user-content-fnref-meh" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup> that ALKiln has created for you. Those commands often need information from you. They are like fill-in-the-blank sentences. A sort of <a href="https://en.wikipedia.org/wiki/Mad_Libs#format" target="_blank" rel="noopener noreferrer">madlibs</a> for your ALKiln robot. For example:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;likes_bears&quot; to &quot;True&quot;</span><br></span></code></pre></div></div>
<p>This Step is made of three parts.</p>
<ol>
<li><code>And</code> is one of the <a href="#gherkin-keywords">keywords</a> that can start a Step</li>
<li><code>I set the variable &quot;___&quot; to &quot;___&quot;</code> is an ALKiln command with blanks that you need to fill in</li>
<li><code>likes_bears</code> and <code>True</code> are the information you put in the blanks so that the ALKiln robot knows what answer to give to a question</li>
</ol>
<p>That command description can also be written as <code>I set the variable &quot;&lt;variable name&gt;&quot; to &quot;&lt;value&gt;&quot;</code>. This tells you what information you should put in each of these blanks.</p>
<p>In this case there are two blank spaces you should fill. In the first blank, you should put the name of the variable that the field will set. In the second blank, you should put the value that you want the variable to have.</p>
<p>Each of your tests - <a href="#test-files">a <code>Scenario</code> or a <code>Scenario Outline</code></a> - usually contains many Steps. Any Step can be used as many times as you want anywhere in a test. If you follow <a href="#choice-values-tip">good code-writing practices</a>, most Steps work in any human language, so you can tests translations of your interviews.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="start">Steps to start tests<a href="#start" class="hash-link" aria-label="Direct link to Steps to start tests" title="Direct link to Steps to start tests">​</a></h2>
<p>Authors often use these Steps to start their tests, though these Steps can actually be used anytime in a test.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="start-interview"><code>I start the interview at &quot;&lt;file name&gt;&quot;</code><a href="#start-interview" class="hash-link" aria-label="Direct link to start-interview" title="Direct link to start-interview">​</a></h3>
<p>Use the &quot;start interview&quot; Step to start a new session of an interview.</p>
<p>The Step format:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given I start the interview at &quot;&lt;YAML file name&gt;&quot;</span><br></span></code></pre></div></div>
<p>The blank to fill in here is <code>&lt;YAML file name&gt;</code> - the name of the YAML file that starts the interview.</p>
<p>Example with just the file name:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given I start the interview at &quot;favorite_bears&quot;</span><br></span></code></pre></div></div>
<p>Example with the file extension:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given I start the interview at &quot;favorite_bears.yml&quot;</span><br></span></code></pre></div></div>
<p>Example with url arguments (<a href="https://docassemble.org/docs/special.html#url_args" target="_blank" rel="noopener noreferrer">url_args</a>):</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given I start the interview at &quot;favorite_bears.yml&amp;user_id=123&amp;from=theinterwebs&quot;</span><br></span></code></pre></div></div>
<p>You can also instead use the full url of the interview, though we recommend you avoid that. For example, one advantage to using the file name instead of the full url is that you can then still use the <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> test method to run those tests on GitHub.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Before setting fields</div><div class="admonitionContent_BuS1"><p>You <strong>must</strong> include the <code>interview</code> Step in each Scenario <strong>before setting any fields</strong>.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sign-in"><code>I sign in with the email &quot;&lt;username env var&gt;&quot; and the password &quot;&lt;password env var&gt;&quot;</code><a href="#sign-in" class="hash-link" aria-label="Direct link to sign-in" title="Direct link to sign-in">​</a></h3>
<p>Use the &quot;sign in&quot; Step to sign into your docassemble server before going to an interview with the <a href="#start-interview">&quot;start interview&quot; Step</a>. If you run your tests on GitHub, remember to use <a href="#secrets">GitHub secrets</a> to store this sensitive information.</p>
<p>The Step format:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given I sign in with the email &quot;&lt;username env var&gt;&quot; and the password &quot;&lt;password env var&gt;&quot;</span><br></span></code></pre></div></div>
<p>The two blanks to fill in are <code>&lt;username env var&gt;</code> and <code>&lt;password env var&gt;</code>. Each of them must be the name of an <a href="#env-vars">environment variable</a> that you have already added to your <a href="#workflows">workflow file</a>.</p>
<p>The <code>&lt;username env var&gt;</code> variable should contain the username of a <a href="/docs/components/ALKiln/security#test-accounts">dedicated account</a> on your docassemble server. The <code>&lt;password env var&gt;</code> variable should contain the password of that account.</p>
<p>To use this Step:</p>
<ol>
<li>When you create a user for ALKiln on your docassemble server, note the email address and the password for that account.</li>
<li>Create <a href="#secrets">GitHub secrets</a> or config values to store the email address and password.</li>
</ol>
<p>Example Step:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given I sign in with the email &quot;ALKILN_USER_EMAIL&quot; and the password &quot;ALKILN_USER_PASSWORD&quot;</span><br></span></code></pre></div></div>
<p><code>&quot;ALKILN_USER_EMAIL&quot;</code> and <code>&quot;ALKILN_USER_PASSWORD&quot;</code> are just examples of environment variable names. You can use any names you want.</p>
<p>The relevant section of your workflow file would look like this:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ALKILN_USER_EMAIL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${{ secrets.ALKILN_USER_EMAIL }}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ALKILN_USER_PASSWORD</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${{ secrets.ALKILN_USER_PASSWORD }}&quot;</span><br></span></code></pre></div></div>
<p>You can have as many of these accounts as you want.</p>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Sensitive information</div><div class="admonitionContent_BuS1"><p>If you run this in a <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> test, you <strong>must</strong> use <a href="#secrets">GitHub secrets</a> to set the <a href="#env-vars">environment variables</a> in order to keep the information secure. You should also use a <a href="/docs/components/ALKiln/security#test-accounts">separate account</a> for signing in like this. <a href="/docs/components/ALKiln/security#mock-data">Never use a real person&#x27;s account or information</a>.</p></div></div>
<p>ALKiln does avoid taking pictures or downloading the HTML for this Step, even when the test has an error on that page, so that information is still protected. ALKiln also avoids printing the value of these variables anywhere in the report or in the console. Even so, it is possible for you to <a href="/docs/components/ALKiln/security#no-show">expose this information</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="delete-interview-session"><code>I sign in with the email &quot;&lt;username env var&gt;&quot;, the password &quot;&lt;password env var&gt;&quot;, and the API key &lt;api key env var&gt;</code><a href="#delete-interview-session" class="hash-link" aria-label="Direct link to delete-interview-session" title="Direct link to delete-interview-session">​</a></h3>
<p>Use the &quot;sign in and clean up&quot; Step to sign into your docassemble server before going to an interview with the <a href="#start-interview">&quot;start interview&quot; Step</a>, then delete the interview from the account&#x27;s &quot;My interviews&quot; list. If you run your tests on GitHub, remember to use <a href="#secrets">GitHub secrets</a> to store this sensitive information.</p>
<p>This is very similar to the <a href="#sign-in">&quot;sign in&quot; Step</a> above. See that for basic information. The difference here is that you can also make sure that ALKiln deletes the interviews this user creates.</p>
<p>The new blank to fill in is <code>&lt;api key env var&gt;</code>. It is the name of the <a href="#env-vars">environment variable</a> containing an API key you create for the account that signs in.</p>
<p>Example Step:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given I sign in with the email &quot;ALKILN_USER_EMAIL&quot; and the password &quot;ALKILN_USER_PASSWORD&quot;, and the API key &quot;ALKILN_USER_API_KEY&quot;</span><br></span></code></pre></div></div>
<p><code>&quot;ALKILN_USER_EMAIL&quot;</code>, <code>&quot;ALKILN_USER_PASSWORD&quot;</code>, and <code>&quot;ALKILN_USER_API_KEY&quot;</code> are just examples of environment variable names. You can use any names you want. See the <a href="#sign-in">&quot;sign in&quot; Step</a> for more details.</p>
<p>To set up the API key, do the following:</p>
<ol>
<li>
<p>Ask an admin on your docassemble server to <a href="https://docassemble.org/docs/api.html#manage_api" target="_blank" rel="noopener noreferrer">create an API key for themselves in their user profile</a><sup><a href="#user-content-fn-new_key" id="user-content-fnref-new_key" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup>.</p>
</li>
<li>
<p>Use that admin API key to create an API key for your user by using the <a href="https://docassemble.org/docs/api.html#api_user_user_id_api_post" target="_blank" rel="noopener noreferrer">docassemble API endpoint</a>. If you lose this API key, you can make a new one. You can do that in your terminal or command prompt with this code:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$(curl -X POST \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;your server url&gt;/api/user/&lt;user&#x27;s email&gt;/api \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -H &#x27;Content-Type: application/json&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -d &#x27;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;key&quot;: &quot;&lt;your admin API key&gt;&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;name&quot;: &quot;alkiln_key&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;method&quot;: &quot;none&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }&#x27;)</span><br></span></code></pre></div></div>
<p><code>&lt;your server url&gt;</code> is the url of your server in this format: <a href="https://your-server-url.org" target="_blank" rel="noopener noreferrer">https://your-server-url.org</a>.
<code>&lt;user&#x27;s email&gt;</code> is the email of ALKiln&#x27;s user account you name in your sign in Step.
<code>&lt;your admin API key&gt;</code> is the API key your admin made.</p>
</li>
<li>
<p>Press enter.</p>
</li>
<li>
<p>Copy the result you get from that curl request.</p>
</li>
<li>
<p>Int GitHub, put that variable in a GitHub secret. Avoid including the outer quotation marks.</p>
</li>
<li>
<p>Add that secret to your environment variables. Here&#x27;s a GitHub workflow file example:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ALKILN_USER_EMAIL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${{ secrets.ALKILN_USER_EMAIL }}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ALKILN_USER_PASSWORD</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${{ secrets.ALKILN_USER_PASSWORD }}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ALKILN_USER_API_KEY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${{ secrets.ALKILN_USER_API_KEY }}&quot;</span><br></span></code></pre></div></div>
</li>
<li>
<p>Write this &quot;sign in and clean up&quot; Step in your <code>.feature</code> test file.</p>
</li>
</ol>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Sensitive information</div><div class="admonitionContent_BuS1"><p>If you run this in a <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> test, you <strong>must</strong> use <a href="#secrets">GitHub secrets</a> to set the <a href="#env-vars">environment variables</a> in order to keep the information secure. You should also use a <a href="/docs/components/ALKiln/security#test-accounts">separate account</a> for signing in like this. <a href="/docs/components/ALKiln/security#mock-data">Never use a real person&#x27;s account or information</a>.</p></div></div>
<p>ALKiln does avoid taking pictures or downloading the HTML for this Step, even when the test has an error on that page, so that information is still protected. ALKiln also avoids printing the value of these variables anywhere in the report or in the console. Even so, it is possible for you to <a href="/docs/components/ALKiln/security#no-show">expose this information</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="go-anywhere"><code>I go to &quot;&lt;url&gt;&quot;</code><a href="#go-anywhere" class="hash-link" aria-label="Direct link to go-anywhere" title="Direct link to go-anywhere">​</a></h3>
<p>Use the &quot;go anywhere&quot; Step to go to any arbitrary url.</p>
<p>The Step format:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given I go to &quot;&lt;url&gt;&quot;</span><br></span></code></pre></div></div>
<p>The blank to fill in here is <code>&lt;url&gt;</code> - any valid url.</p>
<p>Example:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given I go to &quot;https://retractionwatch.com&quot;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-config">Test configuration Steps<a href="#test-config" class="hash-link" aria-label="Direct link to Test configuration Steps" title="Direct link to Test configuration Steps">​</a></h2>
<p>These Steps can change your settings for your tests. For example, the maximum amount of time one Step or page can take to finish.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-timeout"><code>the maximum seconds for each Step is &lt;number&gt;</code><a href="#custom-timeout" class="hash-link" aria-label="Direct link to custom-timeout" title="Direct link to custom-timeout">​</a></h3>
<p>Use the &quot;max seconds&quot; Step to set the maximum amount of time one Step can take to finish before it will fail. This is also the maximum amount of time ALKiln will spend trying to fill out the fields on a page before the test fails.</p>
<p>The default maximum time is 30 seconds.</p>
<p>The Step format:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given the maximum seconds for each Step is &lt;number&gt;</span><br></span></code></pre></div></div>
<p>The blank to fill in is <code>&lt;number&gt;</code> - the number of seconds to allow a Step to run, or a page to be filled, before the test fails.</p>
<p>Example:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given the maximum seconds for each Step is 200</span><br></span></code></pre></div></div>
<p>You can set the max seconds as your first Step to give a slow-loading interview more time to load. If you are worried about increasing the time too much, you can immediately decrease the time after the interview loads. For example:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given the maximum seconds for each Step is 200</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I start the interview at &quot;favorite_bears.yml&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And the maximum seconds for each Step is 30</span><br></span></code></pre></div></div>
<p>You can also increase this setting before you try to download a large file. ALKiln spends twice the value of this setting to download a file. You can read more about the timing in the <a href="#download">&quot;download&quot; Step</a>.</p>
<p>You can use this Step to change the maximum seconds setting at any time in your test.</p>
<p>Increasing the maximum time can have down-sides. Some kinds of failures take the maximum amount of time possible. Since <a href="#rerun">each failed test is re-run</a>, those failing tests will take twice the amount of time that you set for your maximum Step time.</p>
<p>Sometimes authors set the maximum seconds to a shorter time for most of their Steps and only lengthen the time for Steps that need more time. This can speed up failing tests.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="a11y-all"><code>I check all pages for accessibility issues</code><a href="#a11y-all" class="hash-link" aria-label="Direct link to a11y-all" title="Direct link to a11y-all">​</a></h3>
<p>Use the &quot;all accessible&quot; Step to turn accessibility checking on.</p>
<p>Example:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then I check all pages for accessibility issues</span><br></span></code></pre></div></div>
<p>After this Step, ALKiln will check every following page for accessibility issues until the end of the test.</p>
<p>If there are problems with the accessibility of the page, ALKiln will continue to the end of the test, but it will save a separate JSON accessibility report file for a page that fails this check. For example, if text is too small or if contrast between the text and its background is too low. If ALKiln found problems, the test will fail at the end.</p>
<p>ALKiln uses <a href="https://github.com/dequelabs/axe-core" target="_blank" rel="noopener noreferrer">aXe-core</a> to check for problems. You can check the documentation there to understand the failure data better. A human can do a much more thorough job of improving accessibility, but this can be a start.</p>
<p>This is different than the <a href="#a11y">&quot;accessibility&quot; Step</a>, which only checks the current page.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="interact">Interactive Steps<a href="#interact" class="hash-link" aria-label="Direct link to Interactive Steps" title="Direct link to Interactive Steps">​</a></h2>
<p>You can use some Steps to change what is on the page by filling in fields, pressing buttons or tabs, or performing other actions.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="story-table">The Story Table Step<a href="#story-table" class="hash-link" aria-label="Direct link to The Story Table Step" title="Direct link to The Story Table Step">​</a></h3>
<p>Use the &quot;Story Table&quot; Step to <a href="#values">set values of</a> multiple fields on multiple pages. It is the Step many of our authors work with the most. In our opinion, it is the most flexible way to fill in fields in your forms, unlike the linear <a href="#set">&quot;I set&quot; Step</a>. This makes a test easier to maintain.</p>
<p>The Story Table Step is made of a sentence followed by a table. The data in the table is a snapshot of the user who is filling out the form. Each table row describes one fact about the user - one variable in the interview. It has this format:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I get to the question id &quot;&lt;target question id&gt;&quot; with this data:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | &lt;variable name&gt; | &lt;value to set&gt; |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | &lt;variable name&gt; | &lt;value to set&gt; |</span><br></span></code></pre></div></div>
<p>As you can see, there are three types of blanks you need to fill in for this Step:</p>
<ul>
<li><code>&lt;target question id&gt;</code> is the <code>id</code><sup><a href="#user-content-fn-id" id="user-content-fnref-id" data-footnote-ref="true" aria-describedby="footnote-label">3</a></sup> of the <code>question</code> block where you want ALKiln to stop using this table.</li>
<li><code>&lt;variable name&gt;</code> is the name of an interview variable for a form field. Each table row needs one of these in the first column.</li>
<li><code>&lt;value to set&gt;</code> is the value to set for this row&#x27;s variable name.</li>
</ul>
<p>The table <strong>must</strong> include all the variables and values necessary to get a user from the current page to the page with the given question id. The table <strong>must</strong> have two columns with the headings <code>var</code> and <code>value</code>.</p>
<p>An example table:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I get to the question id &quot;brought scissors&quot; with this data:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | last_haircut_date | today - 730 |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | wants_virtual_haircut | True |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | user_name | Jaime |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | intro_screen_accepts_terms | True |</span><br></span></code></pre></div></div>
<p>This Step is flexible, which makes the test easier to maintain. The order of the rows is unimportant. That means you can edit the order of your pages or move fields to different pages without worrying about breaking the test. </p>
<p>ALKiln sets a table variable every time it finds that variable on a page, no matter how many times that variable appears in your interview.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>.there_is_another</div><div class="admonitionContent_BuS1"><p>Avoid using <code>.there_is_another</code> in your Story Table. Read about <a href="#there-is-another">using <code>.target_number</code> instead</a>.</p></div></div>
<p><strong>Things to note</strong></p>
<p>You can use the <a href="#alkiln_story">Story Table generator</a> to generate a first draft of a full test file.</p>
<p>If your interview uses <a href="https://docassemble.org/docs/fields.html#generic" target="_blank" rel="noopener noreferrer">generic objects</a> (<code>x</code>) or <a href="https://docassemble.org/docs/fields.html#index%20variables" target="_blank" rel="noopener noreferrer">index variables</a> (<code>i</code>, <code>j</code>, <code>k</code>, etc), you <strong>must</strong> have <a href="/docs/components/ALKiln/writing#special-html">special HTML</a> in your interview to set the values of variables.</p>
<span id="unused_rows" class="">Right now, Story Tables are unable to use environment variables to fill in answers, so you cannot use them to <a href="#secret-val">set sensitive information</a> like passwords.</span>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Unused rows</div><div class="admonitionContent_BuS1"><p>The Story Table does not care about extra rows that never get used. This can make Story Tables easier to write, but it also means that the tests will technically &quot;pass&quot; even if variables that <em>should</em> get set are never filled in.</p><p>That can be a sign that a question that the user <em>should</em> have seen got skipped or that there is a typo or mistake in the test.</p><p>Because of this, the ALKiln <a href="#report">report</a> shows a list of unused rows for each table. You can check the report of passing tests to make sure none of the important rows got skipped.</p></div></div>
<p><strong>How this works, for the curious folks out there</strong></p>
<p>On each interview page, ALKiln:</p>
<ol>
<li>Checks if the page has the <code>&lt;target question id&gt;</code> you gave it at the start</li>
<li>If the page does have the <code>&lt;target question id&gt;</code> it stops the Step</li>
<li>Otherwise, it looks at each <code>&lt;variable name&gt;</code> in the <code>var</code> column to see if it can find that name in any fields</li>
<li>For each <code>&lt;variable name&gt;</code> it finds, it tries to answer the field using the matching <code>&lt;value to set&gt;</code></li>
<li>On pages with <code>show if</code> fields, it waits to see if a new field appears</li>
<li>If one does appear, it looks through each <code>&lt;variable name&gt;</code> again</li>
<li>It sets any value it can and repeats this process</li>
<li>When no new fields get revealed, ALKiln tries to continue to the next page</li>
<li>If it is unable to continue it logs an error and stops</li>
<li>Otherwise, it repeats the above</li>
</ol>
<p>ALKiln sets a table variable every time it finds that variable on any page, no matter how many times that variable appears in your interview.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="set"><code>I set the variable &quot;&lt;variable name&gt;&quot; to &quot;&lt;value to set&gt;&quot;</code><a href="#set" class="hash-link" aria-label="Direct link to set" title="Direct link to set">​</a></h3>
<p>Use the &quot;I set&quot; Step to fill in one <a href="#values">value</a> on one page.</p>
<p>If your interview uses <a href="https://docassemble.org/docs/fields.html#generic" target="_blank" rel="noopener noreferrer">generic objects</a> (<code>x</code>) or <a href="https://docassemble.org/docs/fields.html#index%20variables" target="_blank" rel="noopener noreferrer">index variables</a> (<code>i</code>, <code>j</code>, <code>k</code>, etc), you <strong>must</strong> have <a href="/docs/components/ALKiln/writing#special-html">special HTML</a> in your interview to set the values of variables.</p>
<p>The format of the Step:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;&lt;variable name&gt;&quot; to &quot;&lt;value&gt;&quot;</span><br></span></code></pre></div></div>
<p>There are two types of blanks you need to fill for this Step. The first set of quotes in this Step contain the name of the variable you need to set. The second set of quotes contain the value you want to set. This is the same as the <a href="#story-table">Story Table&#x27;s</a>&#x27;s <code>var</code> column and <code>value</code> column.</p>
<p>This Step is &quot;linear&quot;. That is, unlike Story Table rows, these &quot;linear&quot; variable-setting Steps have to be in the correct order and you <strong>must</strong> make sure your test has reached the exact page that has the field. Otherwise your test will fail.</p>
<p>Example fields:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">code</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  users[0].favorite_bear.name.first</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  users[0].favorite_bear.type</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">question</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Name of your favorite bear</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Bear name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">.favorite_bear.name.first</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Why is this one your favorite?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">.favorite_bear.why</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">input type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> area</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">question</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Favorite bear type</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Pick one</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">.favorite_bear.type</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">datatype</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> radio</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">choices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Black bear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> wild_bear</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Teddy bear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> cuddly_bear</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Jaime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> maybe_not_a_bear</span><br></span></code></pre></div></div>
<p>Example linear &quot;I set&quot; Step:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;users[0].favorite_bear.name.first&quot; to &quot;Ultraman&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;users[0].favorite_bear.why&quot; to &quot;Why not?&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I tap to continue</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;users[0].favorite_bear.type&quot; to &quot;cuddly_bear&quot;</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>You can use this Step to <a href="#upload">upload files</a>.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="secret-val"><code>I set the variable &quot;&lt;variable name&gt;&quot; to the GitHub secret &quot;&lt;environment variable name&gt;&quot;</code><a href="#secret-val" class="hash-link" aria-label="Direct link to secret-val" title="Direct link to secret-val">​</a></h3>
<p>Use the &quot;secret value&quot; Step to use an <a href="#env-vars">environment variable</a> to fill in one <a href="#values">value</a> on one page.</p>
<p>Even though the name has &quot;GitHub&quot; and &quot;secret&quot; in it, it can also use environment variables. It is still the only way to use sensitive information in your tests. To do that, you can use environment variables with <a href="#secrets">GitHub secrets</a>.</p>
<p>If your interview uses <a href="https://docassemble.org/docs/fields.html#generic" target="_blank" rel="noopener noreferrer">generic objects</a> (<code>x</code>) or <a href="https://docassemble.org/docs/fields.html#index%20variables" target="_blank" rel="noopener noreferrer">index variables</a> (<code>i</code>, <code>j</code>, <code>k</code>, etc), you <strong>must</strong> have <a href="/docs/components/ALKiln/writing#special-html">special HTML</a> in your interview to set the values of variables.</p>
<p>The format of the Step:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;&lt;variable name&gt;&quot; to the GitHub secret &quot;&lt;environment variable name&gt;&quot;</span><br></span></code></pre></div></div>
<p>Here, <code>&lt;variable name&gt;</code> is the name of the variable you want to set and <code>&lt;environment variable name&gt;</code> is the name of the environment variable that has the value.</p>
<p>Example:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  I set the variable &quot;user1_account_password&quot; to the GitHub secret &quot;ALKILN_USER1_PASSWORD&quot;</span><br></span></code></pre></div></div>
<p>A lot of authors use this Step to set answers with sensitive information, like an account number. This is because ALKiln is extra careful with the security of these values.</p>
<p>Since <a href="/docs/components/ALKiln/writing#env-vars">workflow environment variables</a> might hold sensitive information, ALKiln avoids taking pictures or downloading the HTML of pages that use environment variables. It even <a href="/docs/components/ALKiln/writing#error-pics">avoids taking pictures when the test has an error on that page</a> and during <a href="/docs/components/ALKiln/writing#sign-in">the sign-in Step</a>. ALKiln avoids printing the value of an environment variable anywhere in the <a href="/docs/components/ALKiln/writing#report">report</a> or in the <a href="/docs/components/ALKiln/writing#console">console log</a>.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Not for sign in</div><div class="admonitionContent_BuS1"><p>This Step is unable to sign into your docassemble server. You <strong>must</strong> use <a href="#sign-in">the &quot;sign in&quot; Step</a> to sign in to your docassemble server.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="continue"><code>I tap to continue</code><a href="#continue" class="hash-link" aria-label="Direct link to continue" title="Direct link to continue">​</a></h3>
<p>Use the &quot;continue&quot; Step to tap the button to continue to the next page. If the continue button sets a variable, this Step will set that variable to <code>True</code>. Story Table Steps handle continuing by themselves.</p>
<p>Example:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  When I tap to continue</span><br></span></code></pre></div></div>
<p>The test will still continue to the next Step if tapping the continue button fails to go to the next page. Because of this, you can then use the <a href="#invalid">&quot;invalid&quot; Step</a> to write tests that check that your answer validation works correctly. However, if the continue button was supposed to work and the next Step tries to interact with the next page, the test will probably fail.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="name"><code>I set the name of &quot;&lt;variable name&gt;&quot; to &quot;&lt;name&gt;&quot;</code><a href="#name" class="hash-link" aria-label="Direct link to name" title="Direct link to name">​</a></h3>
<p>The &quot;name&quot; Step is specifically for the Document Assembly Line 4-part name questions.</p>
<p>Avoid punctuation. We recommend you just use 2 names - the first name and last name - but you can have all these formats:</p>
<ul>
<li>Firstname Lastname</li>
<li>Firstname Middlename Lastname</li>
<li>Firstname Middlename Lastname Suffix (where suffix is one of the dropdown suffix choices, like <code>II</code>)</li>
</ul>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the name of &quot;users[0]&quot; to &quot;Devon Upton&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="address"><code>I set the address of &quot;&lt;variable name&gt;&quot; to &quot;&lt;US address&gt;</code><a href="#address" class="hash-link" aria-label="Direct link to address" title="Direct link to address">​</a></h3>
<p>The &quot;address&quot; Step is specifically for the Document Assembly Line 4-part address questions. Right now, <strong>the &quot;address&quot; Step can only handle the format of a US address</strong>.</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    When I set the address of &quot;users[0]&quot; to &quot;120 Tremont Street, Unit 1, Boston, MA 02108&quot;</span><br></span></code></pre></div></div>
<p>Remember the commas.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="download"><code>I download &quot;&lt;file name&gt;&quot;</code><a href="#download" class="hash-link" aria-label="Direct link to download" title="Direct link to download">​</a></h3>
<p>Use the &quot;download&quot; Step to download files so that humans can check that they are correct. After all the tests are done the files will be the <a href="#scenario-artifacts">artifacts folder of the Scenario (test)</a>.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Then I download &quot;file-name.pdf&quot;</span><br></span></code></pre></div></div>
<p>Use just the name of the file.</p>
<p>If the file is a PDF file, you can use the <a href="#compare-files">&quot;compare files&quot; Step</a> to check that the PDF is correct.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Unfinished downloads</div><div class="admonitionContent_BuS1"><p>Currently, ALKiln is unable to tell when a file has actually finished downloading, so it runs the download Step for about twice the <a href="#custom-timeout">maximum seconds allowed for a Step</a> no matter what. If a download takes longer than the current maximum seconds value, the test will not fully download the file<sup><a href="#user-content-fn-d-time" id="user-content-fnref-d-time" data-footnote-ref="true" aria-describedby="footnote-label">4</a></sup>.</p><p>If you think downloading the file will take more than 60 seconds, use the <a href="#custom-timeout">&quot;max seconds&quot; Step</a> to give the file more time to download. The &quot;download&quot; Step will use the the full amount of time that you give it.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tap-nav"><code>I tap the &quot;&lt;selector&gt;&quot; element and go to a new page</code><a href="#tap-nav" class="hash-link" aria-label="Direct link to tap-nav" title="Direct link to tap-nav">​</a></h3>
<p><strong>It could help to know about:</strong></p>
<ul>
<li>How to <a href="https://www.dreamhost.com/blog/how-to-inspect-a-website/" target="_blank" rel="noopener noreferrer">inspect and understand the HTML of a web page</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors" target="_blank" rel="noopener noreferrer">CSS selectors</a></li>
</ul>
<p><strong>The Step:</strong></p>
<p>Use one of the &quot;tap and navigate&quot; Steps to tap an element on the page, like a button, to go to a new page. If you just want to tap the continue button use the <a href="#continue">&quot;continue&quot; Step</a>.</p>
<p>The format for variation 1:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I tap the &quot;&lt;selector&gt;&quot; element and go to a new page</span><br></span></code></pre></div></div>
<p>The format for variation 2:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I tap the &quot;&lt;selector&gt;&quot; element and wait &lt;number&gt; seconds</span><br></span></code></pre></div></div>
<p>One blank to fill in for these commands is <code>&lt;selector&gt;</code>, a CSS selector of the element you need to tap. It can be any valid <a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors" target="_blank" rel="noopener noreferrer">CSS Selector</a>.</p>
<p>For variation 2, the second blank to fill in is <code>&lt;number&gt;</code> - the number of seconds you want ALKiln to wait after tapping the element.</p>
<p>Example of variation 1:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  When I tap the &quot;#awesome_page_link&quot; element and go to a new page</span><br></span></code></pre></div></div>
<p>Example of variation 2:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I tap the &quot;.link-container #even_better_page a&quot; element and wait 45 seconds</span><br></span></code></pre></div></div>
<p>This is the only way to explicitly wait after navigating to the new page. Some people try to use the <a href="#wait">&quot;wait&quot; Step</a>, but that will fail. Alternatively, you can use the <a href="#custom-timeout">&quot;max seconds&quot; Step</a> to give your test more time to load new pages in general.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tap-stay"><code>I tap the &quot;&lt;selector&gt;&quot; element and stay on the same page</code><a href="#tap-stay" class="hash-link" aria-label="Direct link to tap-stay" title="Direct link to tap-stay">​</a></h3>
<p><strong>It could help to know about:</strong></p>
<ul>
<li>How to <a href="https://www.dreamhost.com/blog/how-to-inspect-a-website/" target="_blank" rel="noopener noreferrer">inspect and understand the HTML of a web page</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors" target="_blank" rel="noopener noreferrer">CSS selectors</a></li>
</ul>
<p><strong>The Step:</strong></p>
<p>Use the &quot;tap and stay&quot; Step to tap on HTML elements without navigating to a new page. For example, you can tap on <a href="/docs/components/ALToolbox/overview#collapsible-help-text">collapsible content</a> to show the text inside.</p>
<p>The Step format:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I tap the &quot;&lt;selector&gt;&quot; element and stay on the same page</span><br></span></code></pre></div></div>
<p>The blank to fill in for this command is <code>&lt;selector&gt;</code>, a CSS selector of the element you need to tap. It can be any valid <a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors" target="_blank" rel="noopener noreferrer">CSS Selector</a>.</p>
<p>Example:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  When I tap the &quot;#an_id .al_toggle&quot; element and stay on the same page</span><br></span></code></pre></div></div>
<p>It is a good idea to add a <a href="#wait"><code>wait</code> Step</a> after this Step to let the contents become visible before taking other actions, like pressing on other elements or checking for a phrase. For example:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  When I tap the &quot;#an_id .al_toggle&quot; element and stay on the same page</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I wait .7 seconds</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tap-tab"><code>I tap the &quot;&lt;tab id&gt;&quot; tab</code><a href="#tap-tab" class="hash-link" aria-label="Direct link to tap-tab" title="Direct link to tap-tab">​</a></h3>
<p><strong>It could help to know about:</strong></p>
<ul>
<li>How to <a href="https://www.dreamhost.com/blog/how-to-inspect-a-website/" target="_blank" rel="noopener noreferrer">inspect and understand the HTML of a web page</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors" target="_blank" rel="noopener noreferrer">CSS selectors</a></li>
</ul>
<p><strong>The Step:</strong></p>
<p>Use the &quot;tap tab&quot; Step to interact with AssemblyLine&#x27;s <a href="/docs/components/ALToolbox/overview#display-a-series-of-tabs">ALToolbox tabs</a>. ALKiln will tap on the tab and then wait until the tab contents are fully visible.</p>
<p>The Step format:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  When I tap the &quot;&lt;tab html id&gt;&quot; tab</span><br></span></code></pre></div></div>
<p>The blank to fill in here is <code>&lt;tab html id&gt;</code> - the text of the HTML id attribute of the tab.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Not a selector</div><div class="admonitionContent_BuS1"><p><code>&lt;tab html id&gt;</code> is <strong>not a selector</strong>. Unlike the other &quot;tap&quot; Steps, <strong>leave out the <code>#</code> symbol</strong> (like the example shows).</p></div></div>
<p>Example:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  When I tap the &quot;TabGroup-specific_tab_name-tab&quot; tab</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wait"><code>I wait for &lt;number&gt; seconds</code><a href="#wait" class="hash-link" aria-label="Direct link to wait" title="Direct link to wait">​</a></h3>
<p>You can use the &quot;wait&quot; Step after the previous Step has completely finished to tell ALKiln to wait before going to the next Step.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Not for loading</div><div class="admonitionContent_BuS1"><p>In most cases, this Step is unable to help the test wait longer for a page to finish loading. To give a page time to load, use the <a href="#custom-timeout">&quot;max seconds&quot; Step</a>.</p></div></div>
<p>The Step format:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  When I wait &lt;number&gt; seconds</span><br></span></code></pre></div></div>
<p>The blank to fill in here is <code>&lt;number&gt;</code> - the number of seconds to wait. If you want, the number can be less than a second.</p>
<p>Examples:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  When I wait .6 seconds</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  When I wait 150 seconds</span><br></span></code></pre></div></div>
<p><strong>When to use the &quot;wait&quot; Step:</strong></p>
<p>If a test sometimes fails because ALKiln says it was unable find a field or element on the page, and other times the test passes, this Step can help. Use &quot;wait&quot; to pause for a moment before trying to interact. This is usually because some elements can take different amounts of time to fully appear.</p>
<p>Use &quot;wait&quot; to let page elements finish moving around. For example, after you use the <a href="#tap-stay">&quot;tap and stay&quot; Step</a> to expand content. When elements are moving on the page ALKiln has trouble interacting with them.</p>
<p>Use &quot;wait&quot; to wait for a background process to finish - ALKiln is currently unable to detect a background process finishing.</p>
<p>Use &quot;wait&quot; to give external data more time to load.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="values">Setting values<a href="#values" class="hash-link" aria-label="Direct link to Setting values" title="Direct link to Setting values">​</a></h2>
<p>There are different ways to fill in fields. One is the <a href="#story-table">Story Table Step</a> another is the <a href="#set">&quot;I set&quot; Step</a>. Each has different syntax, but they set values the same way.</p>
<p>If your interview uses <a href="https://docassemble.org/docs/fields.html#generic" target="_blank" rel="noopener noreferrer">generic objects</a> (<code>x</code>) or <a href="https://docassemble.org/docs/fields.html#index%20variables" target="_blank" rel="noopener noreferrer">index variables</a> (<code>i</code>, <code>j</code>, <code>k</code>, etc), you <strong>must</strong> have <a href="/docs/components/ALKiln/writing#special-html">special HTML</a> in your interview to set the values of variables.</p>
<p>Be sure to use the actual <code>value</code> of the field, not just the text that the user sees. For example, for the first choice in this field the <code>value</code> would be &quot;wild_bear&quot;, not &quot;Black bear&quot;. &quot;Black bear&quot; is just the text the user sees - the label.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">question</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Favorite bear type</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Pick one</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">.favorite_bear.type</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">datatype</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> radio</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">choices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Black bear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> wild_bear</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Teddy bear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> cuddly_bear</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Jaime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> maybe_not_a_bear</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="special-html">Special HTML<a href="#special-html" class="hash-link" aria-label="Direct link to Special HTML" title="Direct link to Special HTML">​</a></h3>
<p>This HTML lets ALKiln set the correct variables and avoid other problems.</p>
<p>Most authors add this extra HTML to the <code>post</code> section of their <a href="https://docassemble.org/docs/initial.html#default%20screen%20parts" target="_blank" rel="noopener noreferrer"><code>default screen parts</code> block</a>. They do that by including the AssemblyLine&#x27;s al_package.yml file or by adding this code themselves. For example:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">default screen parts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># HTML for interviews using ALKiln tests</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># If your interview includes AssemblyLine&#x27;s al_package.yml you can skip this</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">post</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">    &lt;div id=&quot;alkiln_proxy_var_values&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">    data-generic_object=&quot;${ encode_name(str( x.instanceName if defined(&#x27;x&#x27;) else &#x27;&#x27; )) }&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">    % for letter in [ &#x27;i&#x27;, &#x27;j&#x27;, &#x27;k&#x27;, &#x27;l&#x27;, &#x27;m&#x27;, &#x27;n&#x27; ]:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">    data-index_var_${ letter }=&quot;${ encode_name(str( value( letter ) if defined( letter ) else &#x27;&#x27; )) }&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">    % endfor</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">    aria-hidden=&quot;true&quot; style=&quot;display: none;&quot;&gt;&lt;/div&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;div id=&quot;trigger&quot; data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">variable=&quot;$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> encode_name(str( user_info().variable )) </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">&quot; aria</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token key atrule">hidden=&quot;true&quot; style=&quot;display</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> none;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">&lt;/div</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><br></span></code></pre></div></div>
<p>This code will be invisible on the page. No one will see it. If you already have something in your <code>post:</code> default screen part, just copy the code and paste it in after whatever you have there. Putting it at the end can avoid messing up other HTML.</p>
<p><strong>Do I need this?</strong></p>
<p>You probably need the &quot;alkiln_proxy_var_values&quot; HTML element if you use <a href="https://docassemble.org/docs/fields.html#generic" target="_blank" rel="noopener noreferrer">generic objects</a> (<code>x</code>) or <a href="https://docassemble.org/docs/fields.html#index%20variables" target="_blank" rel="noopener noreferrer">index variables</a> (<code>i</code>, <code>j</code>, <code>k</code>, etc) in your interview.</p>
<p>You probably need the &quot;trigger&quot; HTML element if you set <code>restrict input variables</code> to <code>True</code> in your <a href="https://docassemble.org/docs/config.html#configfile" target="_blank" rel="noopener noreferrer">docassemble server configuration file</a>.</p>
<p><strong>Why <code>x</code> and <code>i</code>?</strong></p>
<p>Without the help of the HTML, ALKiln has no way of knowing what the actual names are of variables that use <a href="https://docassemble.org/docs/fields.html#generic" target="_blank" rel="noopener noreferrer">generic objects</a> (<code>x</code>) or <a href="https://docassemble.org/docs/fields.html#index%20variables" target="_blank" rel="noopener noreferrer">index variables</a> (<code>i</code>, <code>j</code>, <code>k</code>, etc).</p>
<p><strong>Why &quot;trigger&quot;?</strong></p>
<p>If a docassemble server&#x27;s config value of <code>restrict input variables</code> is set to True, ALKiln needs the help of the HTML to know what variable a <a href="#sign">signature Step</a> is setting.</p>
<p>That said, even the &quot;trigger&quot; HTML may not help if the question is triggered by <code>mandatory: True</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="text">Text<a href="#text" class="hash-link" aria-label="Direct link to Text" title="Direct link to Text">​</a></h3>
<p>Text-type fields are fields where the user needs to type text. The <a href="https://docassemble.org/docs/fields.html#plaintext" target="_blank" rel="noopener noreferrer">default field type</a> is a text field. Other text fields include those with:</p>
<ul>
<li><code>datatype: date</code></li>
<li><code>datatype: time</code></li>
<li><code>datatype: currency</code></li>
<li><code>datatype: password</code></li>
<li><code>datatype: email</code></li>
<li><code>datatype: phone</code></li>
<li><code>datatype: text</code></li>
<li><code>datatype: integer</code></li>
<li><code>datatype: number</code></li>
<li><code>input type: area</code> fields are textarea fields and also accept text for their value</li>
</ul>
<p>You can see more <a href="https://docassemble.org/docs/fields.html#data%20types" target="_blank" rel="noopener noreferrer">about <code>datatype</code>s and <code>input type</code>s in the docassemble docs</a>.</p>
<p>Example text fields:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">question</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Name of your favorite bear</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Bear name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">.favorite_bear.name.first</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Why is this one your favorite?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">.favorite_bear.why</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">input type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> area</span><br></span></code></pre></div></div>
<p>Example linear Steps:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;users[0].favorite_bear.name.first&quot; to &quot;Ultraman&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;users[0].favorite_bear.why&quot; to &quot;Why not?\nIt seems ok to like Ultraman.&quot;</span><br></span></code></pre></div></div>
<p>Example Story Table Step:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | users[0].favorite_bear.name.first | Ultraman |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | users[0].favorite_bear.why | Why not?\nIt seems ok to like Ultraman. |</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>New lines</div><div class="admonitionContent_BuS1"><p>If an answer needs to have multiple lines, you can still only use one line in your test code. Instead use <code>\n</code> where a new line would be. See examples.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dates">Dates<a href="#dates" class="hash-link" aria-label="Direct link to Dates" title="Direct link to Dates">​</a></h3>
<p>Dates are a specific kind of text value. ALKiln expects the format ##/##/####. For example, 06/26/2015. For <a href="/docs/components/ALToolbox/overview#birthdate-and-threepartsdate-custom-data-types">Assembly Line custom three-parts date fields</a>, ALKiln will assume the date format is dd/mm/yyyy.</p>
<p>There is also <a href="#today">a special ALKiln value named <code>today</code></a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="today">Today<a href="#today" class="hash-link" aria-label="Direct link to Today" title="Direct link to Today">​</a></h3>
<p>One special ALKiln value you can include is <code>today</code>. That will insert the date on which the test is being run. You can also subtract from, or add days to, <code>today</code>.</p>
<p>Example linear Steps:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the value &quot;signature_date&quot; to &quot;today&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the value &quot;court_date&quot; to &quot;today + 20&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the value &quot;minors_birth_date&quot; to &quot;today - 3650&quot;</span><br></span></code></pre></div></div>
<p>Example Story Table Step:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | signature_date | today |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | court_date | today + 20 |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | minors_birth_date | today - 3650 |</span><br></span></code></pre></div></div>
<p>The last example makes sure that the date is 10 years in the past, ensuring that a minor always stays a minor for that test.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Avoid boundary dates</div><div class="admonitionContent_BuS1"><p>Be careful with <code>today</code> math. If you are testing a &quot;boundary&quot; date, you want to pick a date that is well within a boundary to make the test more robust. For example, if you want to test a date that was 10 or fewer days ago, use <code>today - 9</code> instead of <code>today - 10</code>.</p><p>At some point your tests might run over night and hit midnight right in the middle of the test - after ALKlin fills in the answer, but before the interview finishes. In that situation, if ALKiln answered the question with <code>today - 10</code> the clock would tip into the next day by the end of the interview - 11 days from the filled-in date. Your test would fail incorrectly.</p><p>The fact is, your users also might have that exact experience, so keep that in mind as you design your interview. For example, instead of just telling a user that they are or are not eligible, you can tell them the date of the deadline so they too will know about the boundary.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="yesno"><code>yesno</code><a href="#yesno" class="hash-link" aria-label="Direct link to yesno" title="Direct link to yesno">​</a></h3>
<p>There are a few different <code>yesno</code> fields - <a href="https://docassemble.org/docs/fields.html#yesno" target="_blank" rel="noopener noreferrer"><code>yesno</code> buttons</a> or <a href="https://docassemble.org/docs/fields.html#fields%20yesno" target="_blank" rel="noopener noreferrer"><code>yesno</code> fields</a> like <code>yesno</code> checkboxes and <code>yesnoradio</code>s.</p>
<p>Example yesno checkbox field:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">question</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Bears</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Do you have any bears?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> has_bear</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">datatype</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> yesno</span><br></span></code></pre></div></div>
<p>Example of setting the yesno checkbox to &quot;yes&quot; in a linear Step:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  When I set the variable &quot;has_bear&quot; to &quot;True&quot;</span><br></span></code></pre></div></div>
<p>Example of setting the yesno checkbox to &quot;yes&quot; in a Story Table Step:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | has_bear | True |</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="noyes"><code>noyes</code><a href="#noyes" class="hash-link" aria-label="Direct link to noyes" title="Direct link to noyes">​</a></h3>
<p>Avoid <code>noyes</code> type fields. For one thing, using <code>noyes</code> will make you edit the code you get from the <a href="https://github.com/plocket/alkiln_story" target="_blank" rel="noopener noreferrer">ALKiln Story Table Step generator</a> more. For another, we&#x27;ve found that humans tend to find those confusing too.</p>
<p>If you do need to use a <code>noyes</code> field, you will have to think differently about the value here. Set the variable to <code>True</code> if you want the box to be checked. Set it to <code>False</code> if you want the box to be unchecked.</p>
<p>Example of making sure a <code>noyes</code> checkbox field gets checked in a linear Step:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;likes_bears&quot; to &quot;checked&quot;</span><br></span></code></pre></div></div>
<p>or, in a Story Table:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  | likes_bears | checked |</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="yesnomaybe"><code>yesnomaybe</code><a href="#yesnomaybe" class="hash-link" aria-label="Direct link to yesnomaybe" title="Direct link to yesnomaybe">​</a></h3>
<p>There are a couple different <code>yesnomaybe</code> fields - <a href="https://docassemble.org/docs/fields.html#yesnomaybe" target="_blank" rel="noopener noreferrer"><code>yesnomaybe</code> buttons</a> and <a href="https://docassemble.org/docs/fields.html#fields%20yesno" target="_blank" rel="noopener noreferrer"><code>datatype: yesnomaybe</code></a> fields.</p>
<p>Example yesnomaybe field:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">question</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Bears</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Do you have any bears?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> has_bear</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">datatype</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> yesnomaybe</span><br></span></code></pre></div></div>
<p>Example of setting the yesnomaybe radio buttons to &quot;maybe&quot; in a linear Step:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  When I set the variable &quot;has_bear&quot; to &quot;None&quot;</span><br></span></code></pre></div></div>
<p>Example of setting the yesnomaybe radio buttons to &quot;maybe&quot; in a Story Table Step:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | has_bear | None |</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="radio"><code>radio</code><a href="#radio" class="hash-link" aria-label="Direct link to radio" title="Direct link to radio">​</a></h3>
<p>Example radio button field:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">question</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Favorite bear type</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Pick one</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">.favorite_bear.type</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">datatype</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> radio</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">choices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Black bear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> wild_bear</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Teddy bear</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> cuddly_bear</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Jaime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> maybe_not_a_bear</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Good practice</div><div class="admonitionContent_BuS1"><p>Always use options that have <a href="#choice-values-tip">both a label and a value</a>.</p></div></div>
<p>Example linear Step:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  When I set the variable &quot;users[0].favorite_bear.type&quot; to &quot;cuddly_bear&quot;</span><br></span></code></pre></div></div>
<p>Example Story Table Step:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | users[0].favorite_bear.type | cuddly_bear |</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="checkboxes"><code>checkboxes</code><a href="#checkboxes" class="hash-link" aria-label="Direct link to checkboxes" title="Direct link to checkboxes">​</a></h3>
<p>Checkboxes are one of the most challenging variables to set. This might lead to a <a href="/docs/components/ALKiln/trouble#variable-not-found">&quot;variable not found&quot; error</a> or an ALKiln Story Table Step might just <a href="#unused_rows">skip the field</a> causing problems later on.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Advanced summary</div><div class="admonitionContent_BuS1"><ul>
<li>The only value a checkbox can have is <code>True</code> or <code>False</code>.</li>
<li>In ALKiln, the variable name of the checkbox is usually the same as its docassemble variable name. For example, <code>good_fruits[&#x27;Apples&#x27;]</code>.</li>
<li>The names of <code>object_checkboxes</code> variable names in ALKiln are similar to how docassemble uses them, but they have extra quotes inside the first square brackets. For example: <code>best_friends[&#x27;all_friends[0]&#x27;]</code></li>
</ul></div></div>
<p>An example of a checkbox field:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> Out of all your friends</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token key atrule">choose your best friends</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> best_friends</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">datatype</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> checkboxes</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">choices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Emmet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> emmet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Maria</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> maria</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Sam</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> sam</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Good practice</div><div class="admonitionContent_BuS1"><p>Always use options that have <a href="#choice-values-tip">both a label and a value</a>.</p></div></div>
<p>The variable name of the checkbox for ALKiln is usually the same as its docassemble variable name. For example, <code>good_fruits[&#x27;Apples&#x27;]</code>. The only value a checkbox can have is <code>True</code> or <code>False</code>.</p>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Wrong</div><div class="admonitionContent_BuS1"><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;best_friends&quot; to &quot;Emmet&quot;</span><br></span></code></pre></div></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Right</div><div class="admonitionContent_BuS1"><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;best_friends[&#x27;Emmet&#x27;]&quot; to &quot;True&quot;</span><br></span></code></pre></div></div><p>or, in a Story Table:</p><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">      | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      | best_friends[&#x27;Emmet&#x27;] | True |</span><br></span></code></pre></div></div></div></div>
<p>One exception is field created with an <code>object</code> datatype, like <code>object_checkboxes</code>. Their ALKiln names are similar to their docassemble names, but they need extra quotes. For example, look at this field:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> Out of all your friends</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token key atrule">choose your best friends</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> best_friends</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">datatype</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> object_checkboxes</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">choices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> all_friends</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Wrong</div><div class="admonitionContent_BuS1"><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;best_friends&quot; to &quot;all_friends&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;best_friends&quot; to &quot;all_friends[0]&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;best_friends[all_friends[0]]&quot; to &quot;True&quot;</span><br></span></code></pre></div></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Right</div><div class="admonitionContent_BuS1"><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;best_friends[&#x27;all_friends[0]&#x27;]&quot; to &quot;True&quot;</span><br></span></code></pre></div></div><p>or, in a Story Table:</p><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | best_friends[&#x27;all_friends[0]&#x27;] | True |</span><br></span></code></pre></div></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Eagle eye</div><div class="admonitionContent_BuS1"><p>Especially notice the quotes just inside the first square brackets.</p></div></div>
<p>To choose <a href="https://docassemble.org/docs/fields.html#none%20of%20the%20above" target="_blank" rel="noopener noreferrer">&quot;none of the above&quot;</a> use the word <code>&#x27;None&#x27;</code> in your variable name:</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Right</div><div class="admonitionContent_BuS1"><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;best_friends[&#x27;None&#x27;]&quot; to &quot;True&quot;</span><br></span></code></pre></div></div><p>or, in a Story Table:</p><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | best_friends[&#x27;None&#x27;] | True |</span><br></span></code></pre></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="upload"><code>file</code><a href="#upload" class="hash-link" aria-label="Direct link to upload" title="Direct link to upload">​</a></h3>
<p>You can upload one or more files by setting a variable to a comma-separated list of file names to upload. You <strong>must</strong> store files that you plan to upload in your <a href="https://docassemble.org/docs/playground.html#sources" target="_blank" rel="noopener noreferrer">&quot;Sources&quot; folder</a> along with your tests.</p>
<p>The format for a linear Steps:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;&lt;variable name&gt;&quot; to &quot;&lt;comma separated list of a file or files&gt;&quot;</span><br></span></code></pre></div></div>
<p>The format for a Story Table Step:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | &lt;variable name&gt; | &lt;comma separated list of a file or files&gt; |</span><br></span></code></pre></div></div>
<p>Example of a linear Step to upload 1 file:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I upload &quot;refutable_evidence.jpg&quot; to &quot;evidence_files&quot;</span><br></span></code></pre></div></div>
<p>Example of a linear Step to upload multiple files:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I upload &quot;irrefutable_evidence.jpg, refutable_evidence.pdf&quot; to &quot;evidence_files&quot;</span><br></span></code></pre></div></div>
<p>Example of a Story Table Step to upload 1 file:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | evidence_files | refutable_evidence.jpg |</span><br></span></code></pre></div></div>
<p>Example of a Story Table Step to upload multiple files:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | evidence_files | irrefutable_evidence.jpg, refutable_evidence.pdf |</span><br></span></code></pre></div></div>
<p>To upload more than one file you <strong>must</strong> separate their names with a comma.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sign"><code>signature</code><a href="#sign" class="hash-link" aria-label="Direct link to sign" title="Direct link to sign">​</a></h3>
<p>Signatures look a bit funny in ALKiln at the moment, but they work fine.</p>
<p>Example of a docassemble <a href="https://docassemble.org/docs/fields.html#signature" target="_blank" rel="noopener noreferrer">signature page</a>:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">question</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Sign your name</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">signature</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> user.signature</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">under</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> user </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p>Example of linear Steps:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I sign</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # or</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I sign with the name &quot;&lt;signatory&#x27;s name&gt;&quot;</span><br></span></code></pre></div></div>
<p>The first version will show a single dot as the signature. The second version will show the name and also have a dot.</p>
<p>In a Story Table, a signature variable has nothing in its <code>value</code> column. Example of a Story Table Step:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | user.signature |  |</span><br></span></code></pre></div></div>
<p>All Story Table signatures are a single dot.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="there-is-another"><code>.there_is_another</code><a href="#there-is-another" class="hash-link" aria-label="Direct link to there-is-another" title="Direct link to there-is-another">​</a></h3>
<p>In a Story Table, setting the value of <code>.there_is_another</code> for a docassemble loop is more complicated than you might expect. At first glance, to fill in the answers for two children some authors try to write the following:</p>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Wrong</div><div class="admonitionContent_BuS1"><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | kids.there_are_any | True |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | kids.there_is_another | True |</span><br></span></code></pre></div></div></div></div>
<p>Instead of using <code>.there_are_any</code> and <code>.there_is_another</code>, always use <code>.target_number</code> in their place to set the number of items that you want to include in the test.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Right</div><div class="admonitionContent_BuS1"><p>For 3 children:</p><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | kids.target_number | 3 |</span><br></span></code></pre></div></div><p>For no children:</p><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | kids.target_number | 0 |</span><br></span></code></pre></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="observe">Observational Steps<a href="#observe" class="hash-link" aria-label="Direct link to Observational Steps" title="Direct link to Observational Steps">​</a></h2>
<p>You can use some Steps to look at what is on the page or compare data. You can use these to make sure the interview has done what you want it to.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="a11y"><code>I check the page for accessibility issues</code><a href="#a11y" class="hash-link" aria-label="Direct link to a11y" title="Direct link to a11y">​</a></h3>
<p>Use the &quot;accessibility&quot; Step to check the current page for problems with accessibility.</p>
<p>Example:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then I check the page for accessibility issues</span><br></span></code></pre></div></div>
<p>If there are problems with the accessibility of the page, ALKiln will continue to the end of the test, but it will save a separate JSON accessibility report file for a page that fails this check. For example, if text is too small or if contrast between the text and its background is too low. If ALKiln found problems, the test will fail at the end.</p>
<p>ALKiln uses <a href="https://github.com/dequelabs/axe-core" target="_blank" rel="noopener noreferrer">aXe-core</a> to check for problems. You can check the documentation there to understand the failure data better. A human can do a much more thorough job of improving accessibility, but this can be a start.</p>
<p>This is different than the <a href="#a11y-all">&quot;all accessible&quot; Step</a>, which checks all the subsequent pages for accessibility issues.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="compare-files"><code>I expect the baseline PDF &quot;&lt;baseline file&gt;&quot; and the new PDF &quot;&lt;new file&gt;&quot; to be the same</code><a href="#compare-files" class="hash-link" aria-label="Direct link to compare-files" title="Direct link to compare-files">​</a></h3>
<p>You can compare an example PDF (sometimes called a baseline) to the PDF your interview created to make sure they are the same. You must save the baseline PDF in your <a href="https://docassemble.org/docs/playground.html#sources" target="_blank" rel="noopener noreferrer">&quot;Sources&quot; folder</a> along with your tests. Then use the <a href="#download">&quot;download&quot; Step</a> to download the file your interview created. You can then compare the two PDFs.</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then I expect the baseline PDF &quot;baseline.pdf&quot; and the new PDF &quot;download.pdf&quot; to be the same</span><br></span></code></pre></div></div>
<p>First ALKiln will compare all of the text in the PDFs. Then ALKiln will compare the fillable fields in the PDFs. If anything is different, ALKiln will print the difference in the <a href="#report">report</a>. You can then use the text in the report to search through the PDFs and find the difference there.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="phrase"><code>I SHOULD see the phrase &quot;&lt;page text&gt;&quot;</code><a href="#phrase" class="hash-link" aria-label="Direct link to phrase" title="Direct link to phrase">​</a></h3>
<p>Use the &quot;phrase&quot; Step to check that specific text is visible on the page. You can also make sure that text that should NOT be visible is indeed absent.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Missing phrases</div><div class="admonitionContent_BuS1"><p>Getting some text characters right can be tricky with interview pages. If you get told ALKiln cannot find a phrase, read about <a href="/docs/components/ALKiln/trouble#missing-phrase">possible reasons for missing phrases</a> in the troubleshooting documentation.</p></div></div>
<p>The Step format for variation 1 - the phrase <strong>does exist</strong> on the page:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then I SHOULD see the phrase &quot;&lt;page text&gt;&quot;</span><br></span></code></pre></div></div>
<p>The Step format for variation 1 - the phrase is <strong>absent</strong> from the page:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then I should NOT see the phrase &quot;&lt;page text&gt;&quot;</span><br></span></code></pre></div></div>
<p>The blank to fill in here is <code>&lt;page text&gt;</code> - the phrase to test.</p>
<p>Examples for variation 1 - the phrase <strong>does exist</strong> on the page:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then I SHOULD see the phrase &quot;Yay! This page&#x27;s text is great!&quot;</span><br></span></code></pre></div></div>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then I should NOT see the phrase &quot;Boo! This page&#x27;s text is bad!&quot;</span><br></span></code></pre></div></div>
<p>The <code>&lt;page text&gt;</code> must be inside <a href="https://www.compart.com/en/unicode/U+0022" target="_blank" rel="noopener noreferrer">double quotation marks</a> and <strong>must never</strong> itself contain double quotation marks inside it. Since docassemble interview text usually has special quotation marks, that is usually easy. See the <a href="/docs/components/ALKiln/trouble#missing-phrase">troubleshooting section on missing phrases</a> that talks about special characters.</p>
<p>Unlike many other Steps, checking phrases is <strong>language specific</strong>. That is, if you want to test translations as well, you will have to use <a href="#gherkin-sampler">an &quot;Examples&quot; table</a> in your test.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="compare-json"><code>the text in the JSON variable &quot;&lt;variable name&gt;&quot; should be</code><a href="#compare-json" class="hash-link" aria-label="Direct link to compare-json" title="Direct link to compare-json">​</a></h3>
<p>Use the &quot;compare JSON&quot; Step to check that a variable on the page has a specific text value. <strong>This is a multi-line step</strong>. It is a little limited at the moment.</p>
<p>The Step format:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then the text in the JSON variable &quot;&lt;variable name&gt;&quot; should be</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;value&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;&quot;&quot;</span><br></span></code></pre></div></div>
<p>The first blank to fill in for this Step is <code>&lt;variable name&gt;</code> which is the name of the variable that is in the JSON variables and values data of the page. The second blank to fill in is <code>&lt;value&gt;</code>, which is the value you want the variable to have. The value <strong>must</strong> be a string (text).</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Only flat values</div><div class="admonitionContent_BuS1"><p>This step is unable to check values of nested objects. For example, it can test the value of a variable like <code>user_affidavit</code>, but not an attribute like <code>user.affidavit</code>.</p></div></div>
<p>Example for one line of text:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then the text in the JSON variable &quot;nickname&quot; should be</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Ursus</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;&quot;&quot;</span><br></span></code></pre></div></div>
<p>Example for text with multiple lines:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then the text in the JSON variable &quot;user_affidavit&quot; should be</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Three quotes then some affidavit text.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  The text can be multi-line.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then close with three quotes.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;&quot;&quot;</span><br></span></code></pre></div></div>
<p>This Step will save a copy of all of the page&#x27;s JSON variables to a file that starts with &#x27;json_for&#x27; followed by the current question&#x27;s id. The JSON variables are the same variables that you would see in <a href="https://docassemble.org/docs/errors.html#tocAnchor-1-1" target="_blank" rel="noopener noreferrer">the docassemble sources tab</a>.</p>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Security</div><div class="admonitionContent_BuS1"><p><a href="/docs/components/ALKiln/security#json-vars">Avoid JSON Steps</a> when you have added sensitive information to your interview.</p></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Next page</div><div class="admonitionContent_BuS1"><p>Variable values only show up in the JSON on the next page - the one after the page where you fill in the answers.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pic"><code>I take a picture</code><a href="#pic" class="hash-link" aria-label="Direct link to pic" title="Direct link to pic">​</a></h3>
<p>The &quot;picture&quot; Step will not only take a picture of the page, it will also download an HTML file of the page. The associated HTML file will have the same name as the picture, but will end with <code>.html</code>. ALKiln will save those files in the Scenario folder of the <a href="#results">test results</a>.</p>
<p>You can open the HTML file in your browser to interact with the page and <a href="https://www.dreamhost.com/blog/how-to-inspect-a-website/" target="_blank" rel="noopener noreferrer">inspect the page&#x27;s HTML</a> further. You should expect this page to look and act different than the original page - ALKiln is unable to get the full code that controls the behavior and styles of the original page. However, in the HTML, you can look at what options were in a drop down, examine some accessibility errors, or edit the HTML to expand some collapsed content. In fact, some pages are too long for the picture to show all the content. In the HTML, you can see that content.</p>
<p>Example:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then I take a picture</span><br></span></code></pre></div></div>
<p>Since <a href="/docs/components/ALKiln/writing#env-vars">workflow environment variables</a> might hold sensitive information, ALKiln avoids taking pictures or downloading the HTML of pages that use environment variables. It even <a href="/docs/components/ALKiln/writing#error-pics">avoids taking pictures when the test has an error on that page</a> and during <a href="/docs/components/ALKiln/writing#sign-in">the sign-in Step</a>. ALKiln avoids printing the value of an environment variable anywhere in the <a href="/docs/components/ALKiln/writing#report">report</a> or in the <a href="/docs/components/ALKiln/writing#console">console log</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-json"><code>I get the page&#x27;s JSON variables and values</code><a href="#get-json" class="hash-link" aria-label="Direct link to get-json" title="Direct link to get-json">​</a></h3>
<p>Use the &quot;get JSON&quot; Step to add a page&#x27;s JSON variables to the final test report.</p>
<p>Example:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I get the page&#x27;s JSON variables and values</span><br></span></code></pre></div></div>
<p>The JSON variables are the same variables that you would see in <a href="https://docassemble.org/docs/errors.html#tocAnchor-1-1" target="_blank" rel="noopener noreferrer">the docassemble sources tab</a>. It is a bit messy, but you do get to see all the variables.</p>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Security</div><div class="admonitionContent_BuS1"><p><a href="/docs/components/ALKiln/security#json-vars">Avoid JSON Steps</a> when you have added sensitive information to your interview.</p></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Next page</div><div class="admonitionContent_BuS1"><p>Variable values only show up in the JSON on the next page - the one after the page where you fill in the answers.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="invalid"><code>I will be told an answer is invalid</code><a href="#invalid" class="hash-link" aria-label="Direct link to invalid" title="Direct link to invalid">​</a></h3>
<p>Use the &quot;invalid answer&quot; Step to check that the user got feedback that one or more of their answers were invalid.</p>
<p>Example:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then I will be told an answer is invalid</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="id"><code>the question id should be &quot;&lt;id&gt;&quot;</code><a href="#id" class="hash-link" aria-label="Direct link to id" title="Direct link to id">​</a></h3>
<p>Use the &quot;question id&quot; Step to make sure the test has gotten to the right page.</p>
<p>The Step format:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then the question id should be &quot;&lt;question id&gt;&quot;</span><br></span></code></pre></div></div>
<p>The blank to fill here is <code>&lt;question id&gt;</code> - the <a href="https://docassemble.org/docs/modifiers.html#id" target="_blank" rel="noopener noreferrer">id of the <code>question</code> block</a> for this page. To get the right <code>&lt;question id&gt;</code>, copy the <code>id</code> value from that block and paste it into your test.</p>
<p>Example:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then the question id should be &quot;some YAML block id!&quot;</span><br></span></code></pre></div></div>
<p>This Step can help humans keep track of what page the tests are on. It will also show up in the test reports and can help you see where things went wrong.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="constrained_random">Make constrained random tests<a href="#constrained_random" class="hash-link" aria-label="Direct link to Make constrained random tests" title="Direct link to Make constrained random tests">​</a></h2>
<p><em>Only for GitHub tests at the moment.</em></p>
<p>You can make template <code>.feature</code> files that each generate multiple tests with different combinations of answers. On GitHub, generated tests will be in your GitHub artifacts folder. You can download them and copy them into your test suite if you want.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>When to use random tests</summary><div><div class="collapsibleContent_i85q"><p>Use random tests to:</p><ul>
<li>Explore paths you didn&#x27;t think of</li>
<li>Generate test ideas</li>
<li>Build up a strong set of test suite files by downloading and saving generated tests</li>
</ul><p>Avoid random tests for:</p><ul>
<li>Safety concerns like impounding addresses</li>
<li>Important edge-cases<sup><a href="#user-content-fn-edge_cases" id="user-content-fnref-edge_cases" data-footnote-ref="true" aria-describedby="footnote-label">5</a></sup></li>
<li>Bugs you already know about</li>
<li>Other tests you need to make sure you run regularly</li>
</ul><p>Hand-written tests use your deep knowledge of the code and your human intelligence to reliably and consistently test known critical paths and edge cases. They are your strongest tool. Still, random tests can add be a good supplement.</p></div></div></details>
<p>Example of the template file named <code>alkiln_random_no_children.feature</code> for users with no children:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Feature: Random no children tests</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">@no_children</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scenario: I have no children</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given ALKiln will make 2 constrained random answers tests</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I start the interview at &quot;package.yml&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I wait 1 second</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then ALKiln will reach any of the question ids &quot;encouragement 1&quot; or &quot;wrong State kickout&quot; with:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | possible values |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | number_of_children | 0 |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | lives_in_MA | True;; False |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | is_married | True;; False |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | spouse_hair_color | red;; brown;; blue;; other |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | spouse_other_hair_color | magenta |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I take a picture</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then ALKiln will reach any of the question ids &quot;no children end&quot; with:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | possible values |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | impound_address | True;; False |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | wants_a_translator | True;; False |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | translation_language | Spanish;; Portuguese;; Mandarin |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I take a picture</span><br></span></code></pre></div></div>
<p>Example of the newly generated file, <code>alkiln_generated_1_1744635556587.feature</code>:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">@alkiln @generated @randomized @constraints</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Feature: Random no children tests</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">@no_children @scenario1_of_2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scenario: I have no children (1 of 2)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I start the interview at &quot;package.yml&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I wait 1 second</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I get to any of the question ids [&quot;encouragement 1&quot;, &quot;wrong State kickout&quot;] with this data:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | number_of_children | 0 |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | lives_in_MA | False |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | is_married | False |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | spouse_hair_color | red |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | spouse_other_hair_color | magenta |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I take a picture</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I get to any of the question ids [&quot;no children end&quot;] with:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | impound_address | True |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | wants_a_translator | False |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | translation_language | Portuguese |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I take a picture</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">@no_children @scenario2_of_2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scenario: I have no children (2 of 2)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I start the interview at &quot;package.yml&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I wait 1 second</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I get to any of the question ids [&quot;encouragement 1&quot;, &quot;wrong State kickout&quot;] with this data:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | number_of_children | 0 |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | lives_in_MA | True |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | is_married | False |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | spouse_hair_color | other |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | spouse_other_hair_color | magenta |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I take a picture</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I get to any of the question ids [&quot;no children end&quot;] with:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | impound_address | True |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | wants_a_translator | True |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | translation_language | Mandarin |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I take a picture</span><br></span></code></pre></div></div>
<p>Key rules:</p>
<ol>
<li>Name your template files starting with <code>alkiln_random</code></li>
<li>Put only ONE scenario in each template file</li>
<li><a href="#num_random">Tell ALKiln how many tests to create</a></li>
<li><a href="#constraints">List at least one answer for every required field for every page ALKiln might visit</a></li>
</ol>
<p>During the test run, ALKiln will generate the tests and then run them.</p>
<p><strong>Failing:</strong> A random test fails if ALKiln gets stuck or runs into a System error. For example, the interview might get an &quot;Index out of range&quot; error.</p>
<p><strong>Passing:</strong> A random test that passes can still be wrong. The report will have more information. For example, you can make sure:</p>
<ul>
<li>ALKiln visited the right pages for the answers it gave</li>
<li>ALKiln reached the right page ids</li>
<li>The report doesn&#x27;t have any unexpected warnings</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="num_random"><code>ALKiln will make <code>&lt;number&gt;</code> constrained random answers tests</code><a href="#num_random" class="hash-link" aria-label="Direct link to num_random" title="Direct link to num_random">​</a></h3>
<p>Use a &quot;test count&quot; Step in a template file to tell ALKiln how many tests to make. Example:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given ALKiln will make 10 random constrained tests</span><br></span></code></pre></div></div>
<p>ALKiln will avoid making duplicate tests<sup><a href="#user-content-fn-unique_random" id="user-content-fnref-unique_random" data-footnote-ref="true" aria-describedby="footnote-label">6</a></sup> even when ALKiln generates the tests from separate template files. If necessary, ALKiln will make fewer tests and add <a href="#template_warnings">a warning Scenario</a> to the generated file. You can see it in the report.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="constraints"><code>ALKiln will reach &quot;<code>&lt;question id 1&gt;</code>&quot; or &quot;<code>&lt;question id n&gt;</code>&quot; with:</code><a href="#constraints" class="hash-link" aria-label="Direct link to constraints" title="Direct link to constraints">​</a></h3>
<p>Use the &quot;constraints&quot; Steps in a template file to tell ALKiln:</p>
<ol>
<li>What answers it must choose from to build the random tests</li>
<li>Where to finish this constraints Step</li>
</ol>
<p>ALKiln will turn every constraints Step into one or more <a href="#story-table">Story Tables</a>.</p>
<p>Example of a constraints Step:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then ALKiln will reach &quot;encouragement 1&quot; or &quot;wrong State kickout&quot; with:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | possible values |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | number_of_children | 0 |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | lives_in_MA | True;; False |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | is_married | True;; False |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | spouse_hair_color | red;; brown;; blue;; other |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | spouse_other_hair_color | magenta |</span><br></span></code></pre></div></div>
<p>Example of a Story Table ALKiln might generate:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I get to any of the question ids [&quot;encouragement 1&quot;, &quot;wrong State kickout&quot;] with this data:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | number_of_children | 0 |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | lives_in_MA | False |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | is_married | False |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | spouse_hair_color | brown |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | spouse_other_hair_color | magenta |</span><br></span></code></pre></div></div>
<p>There are two parts to the constraints Step—the Step text and the fields table.</p>
<ol>
<li>
<p>The Step text has one type of value to fill in—1 or more page ids. Each page id must be in double quotes (<code>&quot;</code>). This is like a <a href="#story-table">Story Table</a>—the page ids tell ALKiln when to finish with this Step.</p>
</li>
<li>
<p>Every row of the fields table has 2 columns. The first row must be the header row:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | possible values |</span><br></span></code></pre></div></div>
<p>For every other row:</p>
<ul>
<li>The 1st column <strong>must</strong> name the variable to set, just like in <a href="#story-table">a Story Table</a>.</li>
<li>The 2nd column <strong>must</strong> have 1 or more <a href="#values">values</a> that ALKiln can choose from. If there is more than 1 value, you <strong>must</strong> use 2 semicolons (<code>;;</code>) to separate the values.</li>
</ul>
</li>
</ol>
<p>You can have as many of these “constraints” Steps in a template Scenario as you want. You can put any other steps you want in between those “constraints” Steps. You can put any kind of Step you want after your last “constraints” Step.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>You must define all variables that the interview might require ALKiln to answer</summary><div><div class="collapsibleContent_i85q"><p>Note that the example above gives options for <code>spouse_hair_color</code> even though the user can say they don&#x27;t have a spouse. If the user is married <code>spouse_hair_color</code> is a <strong>required field</strong> and ALKiln will need to know the possible answers for that field.</p><p>Don&#x27;t worry about including rows that might not get used. ALKiln is just fine with skipping extraneous table rows.</p><p>If a field is optional and you don&#x27;t want ALKiln to give an answer for it, leave out that row.</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Tip: You can use strict limitations to focus on important paths</summary><div><div class="collapsibleContent_i85q"><p>You can force the tests to focus on a specific path by only putting one option in a <code>possible values</code> column. You can do this to as many rows as you want.</p><p>You can see the example above only gives one option for <code>number_of_children</code>—<code>0</code>. The author of this test wants to make sure ALKiln makes a good number of random tests that are just about users who have no children. The author might make another template file to generate random tests for users that have 2 children.</p></div></div></details>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Beware empty values</div><div class="admonitionContent_BuS1"><span id="empty_constraint_values" class="">Avoid putting the semicolons separator (<code>;;</code>) at the end of the choices. It will make a choice that is an empty string. If you deliberately want to include that option, include it in the middle of your choices instead.</span><div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Confusing</div><div class="admonitionContent_BuS1"><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">| favorite_bear | teddy;; grizzly;; |</span><br></span></code></pre></div></div></div></div><div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Better</div><div class="admonitionContent_BuS1"><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">| favorite_bear | teddy;; ;; grizzly |</span><br></span></code></pre></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="template_warnings">Warnings for templates<a href="#template_warnings" class="hash-link" aria-label="Direct link to Warnings for templates" title="Direct link to Warnings for templates">​</a></h3>
<p>ALKiln will throw an error if the file or Scenario is invalid. There are some typos or misbehaviors that ALKiln will only warn you about, though. Some examples:</p>
<ul>
<li>Your Scenario has no digit value for the test count. ALKlin will make 1 test.</li>
<li>Your Scenario asks for more than the maximum number of tests. You can set this number with the <code>ALKILN_MAX_RANDOM_TESTS_PER_SCENARIO</code> environment variable.</li>
<li>ALKiln tries to make the number of tests you asked for, but it is unable to keep them all unique so it makes fewer tests.</li>
</ul>
<p>ALKiln will put a &quot;warning Scenario&quot; at the top of the file it generates. You can also see it in your test report. Example warning:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">@alkiln_extra_intro @alkiln_generator_warning</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scenario: ALKiln begs the author&#x27;s forgiveness. The next tests might be flawed.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then ALKiln warns the author about a generator flub:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ――――― Template file warnings ―――――</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    🔎 ALK0239 generating files WARNING: A generator Scenario is missing the number of tests to make. ALKiln will now make 1 constrained random answers test. The current Step:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          Given ALKiln will make constrained random answers tests</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ―――――</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;&quot;&quot;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="alkiln_story">Convert an interview into a Story Table<a href="#alkiln_story" class="hash-link" aria-label="Direct link to Convert an interview into a Story Table" title="Direct link to Convert an interview into a Story Table">​</a></h2>
<p>You can use the <a href="https://plocket.github.io/alkiln_story/" target="_blank" rel="noopener noreferrer">Story Table converter</a> to create a Scenario draft based on the data from an interview you have gone through. Depending on your interview&#x27;s code you might need to edit the new table for it to work properly, but it can give you a good start.</p>
<p>Follow these instructions to use the converter:</p>
<ol>
<li>Make sure your server config is set up to <a href="https://docassemble.org/docs/config.html#debug" target="_blank" rel="noopener noreferrer">show debug info</a>.</li>
<li>Run your interview manually until you reach the page you want the story table to get to.</li>
<li>Open the &quot;source&quot; display of the interview. Currently, that looks like angle brackets, <code>&lt;/&gt;</code>, in the header of the page.</li>
<li>Note the <code>id</code> of the page.</li>
<li>Tap the &quot;Show variables and values&quot; button. It will open a new tab showing a big JSON object.</li>
<li>Copy all the text on that page.</li>
<li>Go to the <a href="https://plocket.github.io/alkiln_story/" target="_blank" rel="noopener noreferrer">Story Table converter</a>.</li>
<li>Paste the JSON into the text area there, as instructed.</li>
<li>Use the other input fields to help finalize your Scenario, including the question <code>id</code>.</li>
<li>Download the file the converter created. It should end in <code>.feature</code>.</li>
<li>Upload that <code>.feature</code> file into your &quot;Sources&quot; folder in your Project.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-files">The anatomy of a test file<a href="#test-files" class="hash-link" aria-label="Direct link to The anatomy of a test file" title="Direct link to The anatomy of a test file">  ​</a></h2>
<p>Your tests files have the code that tells ALKiln how to answer questions in your interview and do other things. The code may look different than other code you have seen, but it is still code. It is still rigid and needs you to use the right syntax and spelling.</p>
<p>You should save your test files in your package&#x27;s <a href="https://docassemble.org/docs/playground.html#sources" target="_blank" rel="noopener noreferrer">&quot;Sources&quot; folder</a>. If you used the ALKiln setup interview, there will already be a test there that just loads the interview.</p>
<p>In test files, you use <a href="https://cucumber.io/docs/gherkin/" target="_blank" rel="noopener noreferrer">Gherkin</a> syntax and <a href="#gherkin-keywords">keywords</a><sup><a href="#user-content-fn-keywords" id="user-content-fnref-keywords" data-footnote-ref="true" aria-describedby="footnote-label">7</a></sup> with <a href="#steps">specific &quot;Steps&quot; that the ALKiln framework has created</a> for docassemble interviews.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-file">Add a new test file<a href="#new-file" class="hash-link" aria-label="Direct link to Add a new test file" title="Direct link to Add a new test file">​</a></h3>
<p>Go to the Playground of your Project. Tap the &quot;Folders&quot; dropdown menu. Tap on Sources. Add a new file that ends in the extension <code>.feature</code>. For example, <code>has_children.feature</code>.</p>
<p>Add this to the blank file:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Feature: A description of the category of the tests you will write in this file</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scenario: The specific situation that this test is written for</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given I start the interview at &quot;name_of_the_interview_file_to_test.yml&quot;</span><br></span></code></pre></div></div>
<p>Change the parts you need to change. Example:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Feature: I have children</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scenario: I allow unsupervised visitation</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given I start the interview at &quot;protective_order.yml&quot;</span><br></span></code></pre></div></div>
<p>You can then add the code for your tests.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="file-rules">Some rules<a href="#file-rules" class="hash-link" aria-label="Direct link to Some rules" title="Direct link to Some rules">​</a></h3>
<p>Here are some rules about test files:</p>
<ul>
<li>You can have as many test files as you want.</li>
<li>Each file can have one or more tests, called Scenarios or Scenario Outlines.</li>
<li>Each file&#x27;s name <strong>must</strong> end in <code>.feature</code> because that is the extension of that type of file. For example, <code>user_has_children.feature</code>.</li>
<li>Each file <strong>must</strong> start with the keyword <code>Feature:</code> or a tag followed by a new line and the <code>Feature:</code> keyword.</li>
<li>Each file <strong>must</strong> contain only one <code>Feature:</code> keyword.</li>
<li>You <strong>must</strong> use <strong>Gherkin</strong> syntax for your tests. <a href="https://cucumber.io/docs/gherkin/reference/" target="_blank" rel="noopener noreferrer">Gherkin&#x27;s own documentation</a> is the best place to read about Gherkin syntax with some exceptions that you can read below. Ignore notes about &quot;step definitions&quot;. Those are part of what ALKiln takes care of.</li>
</ul>
<p>To troubleshoot <a href="/docs/components/ALKiln/trouble#gherkin">Gherkin synatx problems</a> in your tests, use an editor like the one at <a href="https://www.assertthat.com/online-gherkin-editor" target="_blank" rel="noopener noreferrer">AssertThat</a>. It will mark lines that have incorrect syntax. For example, if you have multiple <code>Feature</code> keywords in your file, the editor should mark the second one as incorrect.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gherkin-keywords">Gherkin keywords<a href="#gherkin-keywords" class="hash-link" aria-label="Direct link to Gherkin keywords" title="Direct link to Gherkin keywords">​</a></h3>
<p>ALKiln only allows you to use some Gherkin keywords. Those are:</p>
<ul>
<li><a href="https://cucumber.io/docs/gherkin/reference/#feature" target="_blank" rel="noopener noreferrer"><code>Feature:</code></a> - each file can only use one <code>Feature:</code> keyword.</li>
<li><a href="https://cucumber.io/docs/gherkin/reference/#example" target="_blank" rel="noopener noreferrer"><code>Scenario:</code>/<code>Example:</code></a> - We recommend you use <code>Scenario</code>. <strong>Make the <code>Scenario</code> descriptions unique</strong> because ALKiln will use them in the names of the reports it creates for you. This keyword is different from the plural <code>Examples</code>/<code>Scenarios</code>.</li>
<li><a href="https://cucumber.io/docs/gherkin/reference/#scenario-outline" target="_blank" rel="noopener noreferrer"><code>Scenario Outline:</code></a> - Like a <code>Scenario</code>, but it can contain <code>Examples</code>.</li>
<li><a href="https://cucumber.io/docs/gherkin/reference/#examples" target="_blank" rel="noopener noreferrer"><code>Examples:/Scenarios:</code></a> - We recommend you use <code>Examples</code>. This can help you test translations, as shown below. When a <code>Scenario Outline</code> has an <code>Examples</code> table, the test will run at least once for each row in the table. This keyword is different from the singular <code>Scenario</code>/<code>Example</code>.</li>
<li>Any of these keywords that can start a Step - <a href="https://cucumber.io/docs/gherkin/reference/#given" target="_blank" rel="noopener noreferrer"><code>Given</code></a>, <a href="https://cucumber.io/docs/gherkin/reference/#when" target="_blank" rel="noopener noreferrer"><code>When</code></a>, <a href="https://cucumber.io/docs/gherkin/reference/#then" target="_blank" rel="noopener noreferrer"><code>Then</code></a>, and <a href="https://cucumber.io/docs/gherkin/reference/#and" target="_blank" rel="noopener noreferrer"><code>And</code></a>. They look different, but that is for us humans. They can be used interchangeably.</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Unique descriptions</div><div class="admonitionContent_BuS1"><p>It is useful to give a <code>Scenario</code> or a <code>Scenario Outline</code> a <a href="#scenario-descriptions">unique description that you can remember</a>.</p></div></div>
<p>ALKiln also lets you use:</p>
<ul>
<li><code>@</code> - <a href="#tags">Tags</a></li>
<li><code>#</code> - Comments. They are a tiny bit different than python comments. They always have to be on their own line. The line can begin with zero or more spaces. You can use comments anywhere in your test file.</li>
<li><code>|</code> - <a href="https://cucumber.io/docs/gherkin/reference/#data-tables" target="_blank" rel="noopener noreferrer">Data tables</a>.</li>
<li><code>&quot;&quot;&quot;</code> - <a href="https://cucumber.io/docs/gherkin/reference/#doc-strings" target="_blank" rel="noopener noreferrer">Doc strings</a>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gherkin-sampler">Sample test file<a href="#gherkin-sampler" class="hash-link" aria-label="Direct link to Sample test file" title="Direct link to Sample test file">​</a></h3>
<p>We usually write test text as if it is from the perspective of the user. For example, &quot;I wait&quot; and &quot;I start&quot;.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Some Steps, like the <a href="#phrase">&quot;phrase&quot; Step</a>, are language-specific. You can still test translations with those Steps, though, if you use <code>Examples</code> with <code>Scenario Outline</code>. See the example below.</p></div></div>
<p>Here is an example of a file that uses most of these features. The name of this file is <code>children.feature</code>.</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">@has_children</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Feature: I have children</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># This Scenario uses the Story Table Step. It lets you list the names of</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># the variables in any order you want.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">@disallow_visitation</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scenario: I disallow visitation</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given I start the interview at &quot;protective_order.yml&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I get to the question id &quot;what kind of visitation?&quot; with this data:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | needs_allow_visitation | False |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | user_name | Jordan |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | user_has_children | True |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then I should see the phrase &quot;Jordan&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># This test will run once for each row in the `Examples` table. The text</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># between the &quot;&lt;&quot; and &quot;&gt;&quot; is the name of a column in the `Examples` table.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">@allow_visitation</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scenario Outline: I allow visitation</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Given I start the interview at &quot;&lt;url&gt;&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then I should see the phrase &quot;&lt;name&gt;&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  When I set &quot;user_name&quot; to &quot;Rea&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I tap to continue</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then I should see the phrase &quot;&lt;greeting&gt; Rea!&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set &quot;user_has_children&quot; to &quot;True&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I tap to continue</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  When I set &quot;needs_allow_visitation&quot; to &quot;True&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Then I should see see the phrase &quot;This form can help you with that&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Examples:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | url | name | greeting |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | protective_order.yml | Your name | Hello |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    | protective_order.yml&amp;lang=es | Tu nombre | Holá |</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tags">Tags<a href="#tags" class="hash-link" aria-label="Direct link to Tags" title="Direct link to Tags">​</a></h3>
<p>You can tell ALKiln to run only some tests this way:</p>
<ol>
<li>Add <a href="https://cucumber.io/docs/cucumber/api/?lang=java#tags" target="_blank" rel="noopener noreferrer">Gherkin tags</a> at the top of your <code>.feature</code> file or above your <code>Scenario</code>.</li>
<li>Use <a href="https://cucumber.io/docs/cucumber/api/?lang=java#tag-expressions" target="_blank" rel="noopener noreferrer">a tag expression</a> when you run your tests.</li>
</ol>
<p>For GitHub tests, you can use a tag expression when you <a href="https://docs.github.com/en/actions/managing-workflow-runs-and-deployments/managing-workflow-runs/manually-running-a-workflow#running-a-workflow" target="_blank" rel="noopener noreferrer">trigger your tests manually</a>. When you do that, GitHub will offer you a drop down where you can give some inputs for your test run (like that documentation describes). One of the optional fields there will let you write a tag expression if you want. If you want to <em>always</em> only run some GitHub tests, you can add a tag expression to your workflow file as an <a href="#optional-inputs">input</a>.</p>
<p>The <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> test interview has a field where you can add a tag expression if you want.</p>
<p>This documentation will only show some basics about tags and tag expressions themselves.</p>
<p>This is an example of adding tags to your <a href="#test-files">test files</a>. You can add them above the <code>Feature</code> keyword, or above <code>Scenario</code> keywords, or both.</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">@likes_bears</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Feature: I like bears</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">@wild_bear @climbs_fast</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scenario: I like wild bears</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # Test 1 Steps</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">@cuddly_bear @climbs_fast</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scenario: I like cuddly bears</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # Test 2 Steps...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">@maybe_not_a_bear</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scenario: I like Jaime</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # Test 3 Steps...</span><br></span></code></pre></div></div>
<p>Based on the example test file above, these are some examples of tag expressions and which tests they will run:</p>
<table><thead><tr><th>Tag expression</th><th>What tests run?</th></tr></thead><tbody><tr><td>@likes_bears</td><td>All tests in the file</td></tr><tr><td>@cuddly_bear</td><td>Test 2</td></tr><tr><td>@climbs_fast</td><td>Tests 1 and 2</td></tr><tr><td>@cuddly_bear or @maybe_not_a_bear</td><td>Tests 2 and 3</td></tr><tr><td>not @wild_bear</td><td>All tests in all test files in your package except test 1</td></tr></tbody></table>
<p>Tests (Scenarios) can <a href="https://cucumber.io/docs/cucumber/api/?lang=java#tag-inheritance" target="_blank" rel="noopener noreferrer">inherit tags</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="workflows">GitHub workflow files<a href="#workflows" class="hash-link" aria-label="Direct link to GitHub workflow files" title="Direct link to GitHub workflow files">​</a></h2>
<p><strong>This is for:</strong> all tests that run on GitHub. That is, <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> or <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests.</p>
<p>Your <a href="https://docs.github.com/en/actions/using-workflows/about-workflows" target="_blank" rel="noopener noreferrer">GitHub workflow</a> file is what starts and controls a package&#x27;s tests on GitHub. Only <a href="/docs/components/ALKiln/setup#types">tests that run on GitHub</a> need a workflow file. The file gives ALKiln some configuration information. You can use it to customize the ALKiln test runs and control when to trigger the GitHub tests.</p>
<p>This section has a lot of challenging technical information about GitHub workflow files. We will do our best to help. We would love to hear how we can improve.</p>
<p>You can use <a href="#workflow-inputs">workflow inputs</a> to change global configuration settings for your ALKiln test runs.</p>
<p>You can use custom <a href="#env-vars">environment variables</a> to set values in your tests. Those are especially useful for answers that need to use sensitive information.</p>
<p>For workflow security, see various sections in the <a href="/docs/components/ALKiln/security">security documentation</a>.</p>
<p>GitHub&#x27;s documentation can tell you many more <a href="https://docs.github.com/en/actions/using-workflows" target="_blank" rel="noopener noreferrer">technical details about workflows</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="workflows-where">Where in GitHub is the file?<a href="#workflows-where" class="hash-link" aria-label="Direct link to Where in GitHub is the file?" title="Direct link to Where in GitHub is the file?">​</a></h3>
<p>Your ALKiln workflow file is in your package&#x27;s GitHub repository. To find it, go to the repository to the <code>.github</code> folder, then open the <code>workflows</code> folder there. The workflow file there might be called &quot;run_form_tests.yml&quot; or &quot;alkiln_tests.yml&quot; or something similar.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="workflows-examples">Example files<a href="#workflows-examples" class="hash-link" aria-label="Direct link to Example files" title="Direct link to Example files">​</a></h3>
<p>ALKiln&#x27;s own workflow files are the most up-to-date, so using those as an example can be useful. Read carefully, though - those files have features that are unique to ALKiln, but they also have notes on how you can change them to what you need.</p>
<p>You can see <a href="https://github.com/SuffolkLITLab/ALKiln/blob/-/.github/workflows/playground.yml" target="_blank" rel="noopener noreferrer">ALKiln&#x27;s own version of the <span>GitHub+You™</span> test workflow file here</a>.</p>
<p>You can see <a href="https://github.com/SuffolkLITLab/ALKiln/blob/-/.github/workflows/github_server.yml" target="_blank" rel="noopener noreferrer">ALKiln&#x27;s own version of the <span>GitHub Sandbox™</span> test workflow file here</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="workflow-inputs">GitHub workflow inputs<a href="#workflow-inputs" class="hash-link" aria-label="Direct link to GitHub workflow inputs" title="Direct link to GitHub workflow inputs">​</a></h2>
<p><strong>This is for:</strong> all tests that run on GitHub. That is, <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> or <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests.</p>
<p>Workflow input values let you customize global ALKiln configuration settings.</p>
<p>This section is advanced and can be challenging for even experienced developers. Let us know how we can improve it.</p>
<p>For any input, you put the input&#x27;s value under the <code>with</code> in your workflow file:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">with</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">ALKILN_TAG_EXPRESSION</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@has_children&quot;</span><br></span></code></pre></div></div>
<p>For the items that have values with sensitive information, you first create a <a href="#secrets">GitHub secret</a> that stores the value. You then use that secret under the <code>with</code> in your workflow file:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">with</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">DOCASSEMBLE_DEVELOPER_API_KEY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${{ secrets.DOCASSEMBLE_DEVELOPER_API_KEY }}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">ALKILN_TAG_EXPRESSION</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@has_children&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="githubNyou-inputs">Required inputs for  <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests<a href="#githubNyou-inputs" class="hash-link" aria-label="Direct link to githubNyou-inputs" title="Direct link to githubNyou-inputs">​</a></h3>
<p><strong>This is for:</strong> <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests</p>
<p>The <a href="/docs/components/ALKiln/setup#recommended"><span>GitHub+You™</span> test method</a> workflow file has a few absolutely <strong>required</strong> inputs. The <a href="https://apps-dev.suffolklitlab.org/start/test-setup" target="_blank" rel="noopener noreferrer">ALKiln setup interview</a> should create the secrets and workflow inputs for this type of test environment.</p>
<p>You can see examples of these inputs in the correct <a href="#workflows-examples">ALKiln file</a>.</p>
<ul>
<li><code>SERVER_URL</code> is the url of <a href="/docs/components/ALKiln/security#testing-server">your docassemble testing server</a> - the server the tests should run on. If you are using ALKiln for a GitHub organization, you should store the value for this input in a <a href="#secrets">GitHub secret</a> so that all your organization repositories can share it.</li>
<li><code>DOCASSEMBLE_DEVELOPER_API_KEY</code> is a developer API key for the ALKiln <a href="/docs/components/ALKiln/security#test-accounts">testing account</a> on your server. You should store the value for this input in a <a href="#secrets">GitHub secret</a> so that no one can see this secure information.</li>
</ul>
<p>If you do not already have these secrets, add them to your package&#x27;s repository or GitHub organization<sup><a href="#user-content-fn-org" id="user-content-fnref-org" data-footnote-ref="true" aria-describedby="footnote-label">8</a></sup>.</p>
<p>Use them the same way that the <a href="#workflows-examples">ALKiln workflow files</a> uses them. They appear in 2 places.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sandbox-inputs">Required inputs for  <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests<a href="#sandbox-inputs" class="hash-link" aria-label="Direct link to sandbox-inputs" title="Direct link to sandbox-inputs">​</a></h3>
<p><strong>This is for:</strong> <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests</p>
<p>These are the only required inputs for <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests. We are listing them here for the sake of completeness, but none of them need to be secrets and you can copy the correct values straight from <a href="https://github.com/SuffolkLITLab/ALKiln/blob/-/.github/workflows/github_server.yml" target="_blank" rel="noopener noreferrer">ALKiln&#x27;s own <span>GitHub Sandbox™</span> tests workflow file</a>.</p>
<p>You can see examples of these inputs in the correct <a href="#workflows-examples">ALKiln file</a>.</p>
<ul>
<li><code>SERVER_URL</code> is the url of the new docassemble server GitHub just created. Use the value that an earlier step created. You can see that in the example file.</li>
<li><code>DOCASSEMBLE_DEVELOPER_API_KEY</code> is a developer API key for a developer on the new server. Use the value that an earlier step created. You can see that in the example file.</li>
<li><code>INSTALL_METHOD</code> is an internal value ALKiln needs from <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests. The value in ALKiln&#x27;s example file is the correct value.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="optional-inputs">Optional inputs for any kind of test<a href="#optional-inputs" class="hash-link" aria-label="Direct link to Optional inputs for any kind of test" title="Direct link to Optional inputs for any kind of test">​</a></h3>
<p><strong>This is for</strong> any kind of testing environment.</p>
<ul>
<li><code>ALKILN_MAX_RANDOM_TESTS_PER_SCENARIO</code> is the maximum number of random tests ALKiln will generate. The default is 40.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="github-optional-inputs">Optional inputs for all GitHub tests<a href="#github-optional-inputs" class="hash-link" aria-label="Direct link to Optional inputs for all GitHub tests" title="Direct link to Optional inputs for all GitHub tests">​</a></h3>
<p><strong>This is for:</strong> all tests that run on GitHub. That is, <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> or <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests.</p>
<p>You can add some optional inputs to the workflow file of any tests that run on GitHub to control global ALKiln configuration values.</p>
<p>The options are:</p>
<ul>
<li><code>ALKILN_VERSION</code> lets you use a specific version of the ALKiln framework for your tests. It can be useful for <a href="/docs/components/ALKiln/security#freeze">security</a> or for trying out experimental versions of the ALKiln framework. The default value is the latest version.</li>
<li><code>ALKILN_TAG_EXPRESSION</code> is the &quot;tag expression&quot; to use to limit which tests to run. These docs describe tags in the <a href="#gherkin-keywords">Gherkin keywords section</a>. The default is no tag expression so that all the tests run.</li>
<li>(Extra Advanced) <code>DOCASSEMBLECLI_VERSION</code> is the version of docassemblecli to install. If this means nothing to you then you can probably ignore it. You can also ask us about this.</li>
</ul>
<p>Use these inputs in the same way and in the same places as the required inputs. You can use non-secret values by just writing the value directly in the workflow file. For example:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">with</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">ALKILN_TAG_EXPRESSION</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@has_children&quot;</span><br></span></code></pre></div></div>
<p>If you have an organization and want to use these values in multiple repositories, you can use <a href="/docs/components/ALKiln/writing#org_secrets">organization GitHub secrets</a>. In that case, your workflow file code would look more like this:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">with</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">ALKILN_TAG_EXPRESSION</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${{ secrets.ALKILN_TAG_EXPRESSION }}&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="githubNyou-optional-inputs">Optional inputs just for  <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests<a href="#githubNyou-optional-inputs" class="hash-link" aria-label="Direct link to githubNyou-optional-inputs" title="Direct link to githubNyou-optional-inputs">​</a></h3>
<p><strong>This is for:</strong> <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests</p>
<p>You can add some optional inputs to the workflow file of any tests that run with the <a href="/docs/components/ALKiln/setup#recommended"><span>GitHub+You™</span> test method</a> to control global ALKiln configuration values:</p>
<ul>
<li><code>MAX_SECONDS_FOR_SETUP</code> is the maximum amount of time to give the Project to upload your package&#x27;s GitHub code. If your server is slow, increase this value. The default is 120 seconds.</li>
<li><code>SERVER_RELOAD_TIMEOUT_SECONDS</code> is the maximum amount of time to give the server to reload while these tests are running. A server can reload for many reasons. A reload can make a test fail part-way through. If ALKiln waits long enough for the server to finish reloading, the next tests will get a chance to finish properly. The default maximum time is 150 seconds. If your server reloads more slowly, increase this value<sup><a href="#user-content-fn-slow" id="user-content-fnref-slow" data-footnote-ref="true" aria-describedby="footnote-label">9</a></sup>.</li>
</ul>
<p>Use these inputs in the same way and in the same places as the required inputs. You can use non-secret values by just writing the value directly in the workflow file. For example:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">with</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">SERVER_RELOAD_TIMEOUT_SECONDS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">500</span><br></span></code></pre></div></div>
<p>If you have an organization and want to use these values in multiple repositories, you can use <a href="/docs/components/ALKiln/writing#org_secrets">organization GitHub secrets</a>. In that case, your workflow file code would look more like this:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">with</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">SERVER_RELOAD_TIMEOUT_SECONDS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${{ secrets.MAX_SECONDS_FOR_SETUP }}&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sandbox-optional-inputs">Optional inputs just for  <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests<a href="#sandbox-optional-inputs" class="hash-link" aria-label="Direct link to sandbox-optional-inputs" title="Direct link to sandbox-optional-inputs">​</a></h3>
<p><strong>This is for:</strong> <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests</p>
<p>You can add some optional inputs to the workflow file of any <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests to control global ALKiln configuration values. We note when an option should also be a GitHub secret for security reasons:</p>
<ul>
<li><code>MAX_SECONDS_FOR_DOCKER</code> is the maximum amount of time to give the docassemble docker container to get properly started. If your tests keep failing because your docker container is taking a long time to start, maybe because of configuration options, then you can increase this time. The default time is 600 seconds (10 min).</li>
<li><code>SHOW_DOCKER_OUTPUT</code> you can give this the values &quot;true&quot; or &quot;false&quot;. When you set it to &quot;true&quot;, you will see more output when ALKiln creates the docker container and installs docassemble there. The output will be visible to anyone that can see the action running, like GitHub admins or collaborators. By default, it is &quot;false&quot;. This is because our team is unsure about what information those logs might include, so we are unsure if it will show sensitive configuration information, like tokens and API keys.</li>
<li><code>CONFIG_CONTENTS</code> is an input most authors can ignore. Its value is the contents of a <a href="https://docassemble.org/docs/config.html" target="_blank" rel="noopener noreferrer">docassemble config file</a> for the new docassemble server GitHub will create. If you have special configuration settings on your own server, you can use this input to include them and make this new fresh server more like your production server. The default is the default config that docassemble itself uses. <strong>For security, we strongly recommend you put this information into a <a href="#secrets">GitHub secret</a></strong> like <code>DOCASSEMBLE_DEVELOPER_API_KEY</code> above.</li>
</ul>
<p>Use these inputs in the same way and in the same places as the required inputs. You can use non-secret values by just writing the value directly in the workflow file. For example:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">with</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">SHOW_DOCKER_OUTPUT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><br></span></code></pre></div></div>
<p>If you have an organization and want to use these values in multiple repositories, you can use <a href="/docs/components/ALKiln/writing#org_secrets">organization GitHub secrets</a>. In that case, your workflow file code would look more like this:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">with</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">SHOW_DOCKER_OUTPUT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${{ secrets.SHOW_DOCKER_OUTPUT }}&quot;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="workflow-extras">GitHub workflow extra features<a href="#workflow-extras" class="hash-link" aria-label="Direct link to GitHub workflow extra features" title="Direct link to GitHub workflow extra features">​</a></h2>
<p><strong>This is for:</strong> all tests that run on GitHub</p>
<p>You can customize your GitHub workflows to run on a schedule, make GitHub issues when tests fail, and much more. We will give some examples other developers have found useful. To edit your workflow file:</p>
<ol>
<li>Go to your GitHub repository</li>
<li><a href="#workflows-where">Find your workflow file</a></li>
<li>Tap to <a href="https://docs.github.com/en/repositories/working-with-files/managing-files/editing-files" target="_blank" rel="noopener noreferrer">start editing the file</a></li>
<li>Follow instructions below to change your file</li>
</ol>
<p><a href="https://docs.github.com/en/actions/using-workflows" target="_blank" rel="noopener noreferrer">GitHub&#x27;s documentation can tell you much more about workflows</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="schedule-trigger">Schedule tests<a href="#schedule-trigger" class="hash-link" aria-label="Direct link to Schedule tests" title="Direct link to Schedule tests">​</a></h3>
<p>You can run GitHub tests on a schedule - daily, weekly, monthly, or on any other interval. To run the tests on a schedule, you must add <code>schedule</code> to the <code>on</code>  object in your workflow file and give it an &quot;interval&quot; value. For example, these tests will get triggered by both a push (commit) and on a schedule every Tuesday:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">schedule</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">cron</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0 1 * * TUE&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  push</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><br></span></code></pre></div></div>
<p>The GitHub docs can tell you more about <a href="https://docs.github.com/en/actions/learn-github-actions/events-that-trigger-workflows#schedule" target="_blank" rel="noopener noreferrer">triggering workflows on a schedule</a>. The special syntax defining the interval uses cron syntax. If you want to change the interval, <a href="https://crontab.guru/examples.html" target="_blank" rel="noopener noreferrer">these examples of cron syntax</a> can help a lot.</p>
<p>You can read <a href="https://docs.github.com/en/actions/using-workflows/triggering-a-workflow" target="_blank" rel="noopener noreferrer">GitHub&#x27;s documentation about many other ways to trigger workflows</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pr-trigger">Pull request tests<a href="#pr-trigger" class="hash-link" aria-label="Direct link to Pull request tests" title="Direct link to Pull request tests">​</a></h3>
<p>You can trigger tests when someone makes a <a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests" target="_blank" rel="noopener noreferrer">pull request</a> in GitHub.</p>
<p>To do this, add the <code>pull_request</code> trigger key to the <code>on</code> object in your workflow file. Give it no values at all. For example, these tests will get triggered by both a pull request and on a schedule:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">pull_request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">schedule</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">cron</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0 1 * * TUE&quot;</span><br></span></code></pre></div></div>
<p>The <a href="https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#pull_request" target="_blank" rel="noopener noreferrer">pull request trigger can have various values</a>, but leaving it empty uses the default values. We have only ever needed the defaults and pull request values can be confusing to customize.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Double trouble</div><div class="admonitionContent_BuS1"><p>If you use <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests and decide to trigger tests with both <code>push</code> and <code>pull_request</code> you need to make sure that you avoid triggering both at the same time. When someone makes a pull request, changes some code, and then pushes to that pull request, both triggers will be... triggered. This is unnecessary and can cause <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests to fail.</p><p>Use code like this to avoid running double tests:</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">jobs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ALKiln tests</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> (github.event_name </span><span class="token tag" style="color:rgb(255, 85, 114)">!=</span><span class="token plain"> &#x27;pull_request&#x27; </span><span class="token important">&amp;&amp;</span><span class="token plain"> </span><span class="token tag" style="color:rgb(255, 85, 114)">!</span><span class="token plain"> github.event.pull_request.head.repo.fork) </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token plain"> (github.event_name == &#x27;pull_request&#x27; </span><span class="token important">&amp;&amp;</span><span class="token plain"> github.event.pull_request.head.repo.fork)</span><br></span></code></pre></div></div><p>See <a href="https://github.com/IHaskell/IHaskell/blob/60a750f5b038a17717609d8a40be0fafd69e1c35/.github/workflows/stack.yml#L37" target="_blank" rel="noopener noreferrer">an example</a>.</p></div></div>
<p>You can read <a href="https://docs.github.com/en/actions/using-workflows/triggering-a-workflow" target="_blank" rel="noopener noreferrer">GitHub&#x27;s documentation about many other ways to trigger workflows</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="issue">Make a GitHub issue when tests fail<a href="#issue" class="hash-link" aria-label="Direct link to Make a GitHub issue when tests fail" title="Direct link to Make a GitHub issue when tests fail">​</a></h3>
<p>To make a GitHub issue when tests fail, you can add the below code under the last line of text in the file. It might look like you need to create a GitHub secret for this, but you should avoid that. GitHub already has all these values.</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;If tests failed create an issue&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> failure() </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">uses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> actions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">ecosystem/action</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">create</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">issue@v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">with</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">github_token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> secrets.github_token </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">title</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ALKiln tests failed&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">body</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">            An ALKiln test failed. See the action at ${{ github.server_url }}/${{ github.repository }}/actions/runs/${{ github.run_id }}.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">labels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">            bug</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Avoid new secrets</div><div class="admonitionContent_BuS1"><p>Avoid changing the value <code>github_token</code> and avoid creating a new secret for it. The variable <code>secrets.github_token</code> is a value that your repository already has by default and it needs that value.</p></div></div>
<p>If you use the code above, the <a href="https://docs.github.com/en/issues/tracking-your-work-with-issues/about-issues" target="_blank" rel="noopener noreferrer">GitHub issue</a> will automatically contain a link to the workflow with these failing tests.</p>
<p>You can edit the values of <code>title</code>, <code>body</code>, and <code>labels</code> to customize the issue.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="env-vars">Environment variables<a href="#env-vars" class="hash-link" aria-label="Direct link to Environment variables" title="Direct link to Environment variables">​</a></h2>
<p><strong>This is for:</strong> Everyone</p>
<p>Environment variables are the way to configure ALKiln settings or give ALKiln dynamic values. They are available to the whole operating system and they are useful for <a href="/docs/components/ALKiln/security#sensitive-data">storing secret and sensitive information</a>. For <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests, you add the environment variables to <a href="#config-vars">your server&#x27;s config file under an <code>alkiln</code> keyword</a>. For <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> and <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests, you <a href="#github-vars">add them to your workflow file</a>.</p>
<p>We recommend you start all your environment variable names with &quot;ALKILN_&quot;. System-wide environment variables, like one called <code>PATH</code>, already exist on your operating system and other processes use those for their own reasons. There is no definitive list of those variables. Starting your own names with &quot;ALKILN_&quot; means those names are less likely to interfere with your system&#x27;s other environment variables.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="config-vars">Docassemble config file env vars<a href="#config-vars" class="hash-link" aria-label="Direct link to Docassemble config file env vars" title="Direct link to Docassemble config file env vars">​</a></h3>
<p>In <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests on your server, you put these values in your <a href="https://docassemble.org/docs/config.html#configfile" target="_blank" rel="noopener noreferrer">config file</a> under a key you can add called <code>alkiln</code>. For example:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">alkiln</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ALKILN_BEAR_SIZE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;small_bear&quot;</span><br></span></code></pre></div></div>
<p><code>ALKILN_BEAR_SIZE</code> is the name of the environment variable. <code>&quot;small_bear&quot;</code> is the value of the environment variable. All the interviews on your server can see these config values, including the interview that runs your <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests, so you are actually setting these values for all the tests that you run on your server with <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests.</p>
<h1>GitHub env vars</h1>
<p>In GitHub, you can make <a href="https://docs.github.com/en/actions/learn-github-actions/variables#defining-environment-variables-for-a-single-workflow" target="_blank" rel="noopener noreferrer">GitHub workflow environment variables</a> by putting them in the <code>env</code> key in your <a href="#workflows">workflow file</a>:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># other code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ALKILN_BEAR_SIZE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;small_bear&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">job</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># other code</span><br></span></code></pre></div></div>
<p><code>ALKILN_BEAR_SIZE</code> is the name of the environment variable. <code>&quot;small_bear&quot;</code> is the value of the environment variable. In GitHub, there are different places to put <code>env</code>, so don&#x27;t worry if you see them in other places in other people&#x27;s files.</p>
<p>You can combine environment variables with <a href="#secrets">GitHub secrets</a> to set sensitive information in your tests. Also, a GitHub organization can combine environment variables with <a href="#secrets">GitHub secrets</a> to get a value to all the test suites in all the organization&#x27;s repositories.</p>
<p>Since <a href="/docs/components/ALKiln/writing#env-vars">workflow environment variables</a> might hold sensitive information, ALKiln avoids taking pictures or downloading the HTML of pages that use environment variables. It even <a href="/docs/components/ALKiln/writing#error-pics">avoids taking pictures when the test has an error on that page</a> and during <a href="/docs/components/ALKiln/writing#sign-in">the sign-in Step</a>. ALKiln avoids printing the value of an environment variable anywhere in the <a href="/docs/components/ALKiln/writing#report">report</a> or in the <a href="/docs/components/ALKiln/writing#console">console log</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="secrets">GitHub secrets<a href="#secrets" class="hash-link" aria-label="Direct link to GitHub secrets" title="Direct link to GitHub secrets">​</a></h2>
<p><strong>This is for:</strong> owners of GitHub repositories or organizations</p>
<p>Shhh, don&#x27;t tell anyone else - a secret is a value GitHub encrypts for you. Not even you can see a secret in GitHub after you create it. In fact, <a href="/docs/components/ALKiln/security#github-redacts-secrets">GitHub redacts those values from your workflow logs</a>.</p>
<p>You can <a href="https://docs.github.com/en/actions/security-guides/using-secrets-in-github-actions#creating-secrets-for-a-repository" target="_blank" rel="noopener noreferrer">make secrets for individual GitHub repositories</a> or you can <a href="https://docs.github.com/en/actions/security-guides/using-secrets-in-github-actions#creating-secrets-for-an-organization" target="_blank" rel="noopener noreferrer">make secrets for your whole GitHub organization</a>. Once you have made the secrets, you might use them in combination with GitHub <a href="#env-vars">environment variables</a> and for multiple reasons:</p>
<ol>
<li>Secrets are useful for creating values with sensitive information since no one can see those values. For example, with the <a href="#sign-in">&quot;sign in&quot; Step</a>. Here is one example of using a secret in a workflow file:</li>
</ol>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># other code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ALKILN_USER_EMAIL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${{ secrets.ALKILN_USER_EMAIL }}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ALKILN_USER_PASSWORD</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${{ secrets.ALKILN_USER_PASSWORD }}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">job</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># other code</span><br></span></code></pre></div></div>
<p>Remember to create a <a href="/docs/components/ALKiln/security#test-accounts">separate account</a> for that &quot;user&quot;.</p>
<ol start="2">
<li><span id="org_secrets" class="">GitHub secrets</span> are useful for sharing values between GitHub organization repositories. All the repositories of a GitHub organization can see its secrets, so you can affect all of those repositories at once from one location.</li>
</ol>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example situation</summary><div><div class="collapsibleContent_i85q"><div><p>For example, suppose Mo&#x27;nique has a GitHub organization named PolarisLaw. That organization has several repositories. Every test in every repository uses the value &quot;small_bear&quot; as an answer to a question. Next month, though, the firm might need to change that value to &quot;large_bear&quot;. Mo&#x27;nique would have to edit that value in every test in every repository. Instead, she makes a GitHub secret in the PolarisLaw account called <code>ALKILN_BEAR_SIZE</code> and sets it to <code>small_bear</code>. Then she uses it in an environment variable she puts in all the workflow files in all the repositories.</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ALKILN_BEAR_SIZE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${{ secrets.ALKILN_BEAR_SIZE }}&quot;</span><br></span></code></pre></div></div><p>She can then use that environment variable in her tests:</p><div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  I set the variable &quot;bear_size&quot; to the GitHub secret &quot;ALKILN_BEAR_SIZE&quot;</span><br></span></code></pre></div></div><p>Next month, if PolarisLaw needs to change that value, Mo&#x27;nique can just edit the value of that secret and change it to <code>large_bear</code>. All the tests will use the new value without her changing   anything else.</p></div></div></div></details>
<p>Why not create secrets on your server for <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests? On your server all config values are already secret because only authorized people can see them, so they are just like any other <a href="#env-vars">environment variable</a>. And all of your server&#x27;s interviews can see and share those config values already. I know, not quite as exciting.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="run">Running tests<a href="#run" class="hash-link" aria-label="Direct link to Running tests" title="Direct link to Running tests">​</a></h2>
<p><strong>This is for:</strong> Everyone</p>
<p>This section will talk about ways to start (trigger) <a href="/docs/components/ALKiln/setup#types">different types of tests</a> and will describe the journey of an ALKiln test run, from starting up to cleaning up.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="trigger-tests">Triggering tests<a href="#trigger-tests" class="hash-link" aria-label="Direct link to Triggering tests" title="Direct link to Triggering tests">​</a></h3>
<p><strong>This is for:</strong> Everyone</p>
<p>You control when your tests run and which tests run. How you do that depends on the <a href="/docs/components/ALKiln/setup#types">type of test</a> you are using.</p>
<p><strong><a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> and <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests:</strong></p>
<p>By default, you can trigger tests on GitHub by committing your edits to your repository or by running the tests manually.</p>
<p>The ALKiln setup interview gives you a default <a href="#workflows">workflow file</a> that triggers GitHub tests when you commit your files to GitHub. That might be when you hit the &#x27;Commit&#x27; button on the docassemble Packages page. It can also happen when you edit, add, or delete files in GitHub itself. Most authors go through this process:</p>
<ol>
<li>Edit the package&#x27;s files in a Project on the docassemble server</li>
<li>On your Project&#x27;s &quot;Packages&quot; page, <a href="https://docassemble.org/docs/development.html#versioncontrol" target="_blank" rel="noopener noreferrer">commit the changes to GitHub</a></li>
<li>Go to the repository in GitHub and tap on the &quot;Actions&quot; tab to <a href="https://docs.github.com/en/actions/quickstart#viewing-your-workflow-results" target="_blank" rel="noopener noreferrer">see the tests running</a></li>
</ol>
<p>You can use your <a href="#workflows">workflow file</a> to customize some ALKiln test run settings.</p>
<p>You can also <a href="https://docs.github.com/en/actions/managing-workflow-runs-and-deployments/managing-workflow-runs/manually-running-a-workflow#running-a-workflow" target="_blank" rel="noopener noreferrer">trigger your tests manually</a>. When you run your tests manually, you can use <a href="#tags">tags</a> to limit which tests to run. You can also <a href="#optional-inputs">use tags in your workflow file</a>.</p>
<p>You can also edit your workflow file to <a href="#workflow-extras">trigger your GitHub tests other ways</a>.</p>
<p><strong><span id="trigger_autodiy" class=""><a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests:</span></strong></p>
<p>You can run <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests manually whenever you want to.</p>
<ol>
<li>Make sure you are logged into your docassemble <a href="/docs/components/ALKiln/security#testing-server">testing server</a>.</li>
<li>Go to your server&#x27;s list of available interviews.</li>
<li>Run the ALKiln interview that you or someone else <a href="/docs/components/ALKiln/setup#diy-how-to">installed on your server</a>.</li>
<li>On the first page, make sure you have the right version of ALKiln installed (usually the latest version) or install a different version.</li>
<li>On the next page, pick a Project that already has tests in its Sources folder. If it has no tests, <a href="#new-file">add a new test</a>. It can be like the <a href="/docs/components/ALKiln/setup#first-test">example first test</a>.</li>
<li>If you want to limit which tests to run, use a <a href="#tags">tag expression</a> in the tag expression field.</li>
<li>Run the tests and wait for the <a href="#artifacts">output</a>.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gNy-stages"> <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> test stages<a href="#gNy-stages" class="hash-link" aria-label="Direct link to gNy-stages" title="Direct link to gNy-stages">​</a></h3>
<p><strong>This is for:</strong> <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests</p>
<p>The <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests are made of three stages: the setup, the robot, and the take down.</p>
<p><strong>Setup:</strong></p>
<ol>
<li>ALKiln goes to <a href="/docs/components/ALKiln/security#test-accounts">its account</a> and creates a new Project.</li>
<li>It uploads the relevant GitHub branch of your package into the Project.</li>
</ol>
<p><strong>Robot:</strong></p>
<ol><li>For each  test, ALKiln follows the instructions in your test.</li><li>Your first Steps could be any of a number of Steps, like waiting, signing into the server, or going to the interview.</li><li>Usually authors at least name an interview that ALKiln should go to. To do that, ALKiln uses <!-- -->the url of ALKiln&#x27;s Project in its account&#x27;s Playground<!-- -->.</li><li>ALKiln pretends to be a human and tries to fill out the fields and take the actions the tests describe.</li></ol>
<p><strong>Take down:</strong></p>
<p>When all the tests finish, ALKiln cleans up the tests.</p>
<ol>
<li>ALKiln deletes the Project it created from <a href="/docs/components/ALKiln/security#test-accounts">ALKiln&#x27;s account</a>.</li>
<li>It makes the <a href="#artifacts">test output</a>, like the report and Scenario folders.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="diy-stages"> <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> test stages<a href="#diy-stages" class="hash-link" aria-label="Direct link to diy-stages" title="Direct link to diy-stages">​</a></h3>
<p><strong>This is for:</strong> <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests</p>
<p>When <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests run, they have two stages: the robot and the output.</p>
<p><strong>Robot:</strong></p>
<ol><li>For each  test, ALKiln follows the instructions in your test.</li><li>Your first Steps could be any of a number of Steps, like waiting, signing into the server, or going to the interview.</li><li>Usually authors at least name an interview that ALKiln should go to. To do that, ALKiln uses <!-- -->the url of your Project in your Playground<!-- -->.</li><li>ALKiln pretends to be a human and tries to fill out the fields and take the actions the tests describe.</li></ol>
<p><strong>Output:</strong></p>
<p>When all the tests finish, ALKiln cleans up the tests. It creates the <a href="#results">test output</a> to show on the final page.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sandbox-stages"> <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> test stages<a href="#sandbox-stages" class="hash-link" aria-label="Direct link to sandbox-stages" title="Direct link to sandbox-stages">​</a></h3>
<p><strong>This is for:</strong> <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests</p>
<p>The <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests are made of three stages: the setup, the robot, and the take down.</p>
<p><strong>Setup:</strong></p>
<ol>
<li>ALKiln creates a new docker container on GitHub.</li>
<li>It installs docassemble on that new docker container. If the <a href="#sandbox-optional-inputs">input <code>CONFIG_CONTENTS</code></a> is defined, ALKiln uses that value for the config. Otherwise, it installs docassemble with the default config.</li>
<li>ALKiln waits for docassemble to finish enough that it can load up the new server&#x27;s website properly.</li>
<li>ALKiln installs your package as a server package on that new server.</li>
</ol>
<p><strong>Robot:</strong></p>
<ol><li>For each  test, ALKiln follows the instructions in your test.</li><li>Your first Steps could be any of a number of Steps, like waiting, signing into the server, or going to the interview.</li><li>Usually authors at least name an interview that ALKiln should go to. To do that, ALKiln uses <!-- -->the new isolated server&#x27;s url on GitHub<!-- -->.</li><li>ALKiln pretends to be a human and tries to fill out the fields and take the actions the tests describe.</li></ol>
<p><strong>Take down:</strong></p>
<p>When all the tests finish, ALKiln cleans up the tests.</p>
<ol>
<li>The digital space where GitHub was running the server gets deleted, taking the new server and container with it.</li>
<li>ALKiln makes the <a href="#artifacts">test output</a>, like the report and Scenario folders.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-data">What can I see while tests are running?<a href="#running-data" class="hash-link" aria-label="Direct link to What can I see while tests are running?" title="Direct link to What can I see while tests are running?">​</a></h3>
<p>In GitHub, on <a href="https://docs.github.com/en/actions/quickstart#viewing-your-workflow-results" target="_blank" rel="noopener noreferrer">the actions page and related pages</a> of your repository, you can see your workflow status (&quot;check&quot;) and logs about the current test processes. On the actions page itself, under &quot;All workflows&quot;, your current workflow should have the message/description you wrote for that last commit next to the name of the branch you worked on. On those various pages you can see:</p>
<ul>
<li>How long a workflow has been running.</li>
<li>A yellow dot next to the current workflow.</li>
<li>You can see <a href="#console">information about the running processes</a> in the job&#x27;s log (or console) as GitHub writes it.</li>
</ul>
<p>The <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests show a waiting screen with how long the tests have been running, though we can add a yellow dot if enough users request it.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="end-status">What can I see when the tests end?<a href="#end-status" class="hash-link" aria-label="Direct link to What can I see when the tests end?" title="Direct link to What can I see when the tests end?">​</a></h3>
<p>In GitHub, when the test run is done the yellow dot will change into a green circle with a check mark if the tests passed or a red circle with an &quot;x&quot; if something went wrong.</p>
<p>In GitHub and with <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests, you will see the <a href="#results">results</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rerun">Failures get re-run once<a href="#rerun" class="hash-link" aria-label="Direct link to Failures get re-run once" title="Direct link to Failures get re-run once">​</a></h3>
<p><strong>This is for:</strong> all tests that run on GitHub.</p>
<p>All tests that fail will get run a second time. These retries can make tests take double the time, but they can also help with <a href="/docs/components/ALKiln/trouble#flake">flaky failing tests</a> caused by <a href="/docs/components/ALKiln/trouble#slow">server reloads</a>, which means you are more likely to be able to count on your results to give you real feedback.</p>
<p>Currently, there is no way to choose whether to re-run tests or not.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="results">Test results overview<a href="#results" class="hash-link" aria-label="Direct link to Test results overview" title="Direct link to Test results overview">​</a></h2>
<p><strong>This is for:</strong> all tests.</p>
<p>After your tests are done, there are different ways to look at the results of those tests. You can see:</p>
<ul>
<li><a href="#console">Job/console logs</a>: All the information about the processes that ran before, during, and after the tests</li>
<li><a href="#artifacts">Artifacts</a>: The reports and other files ALKiln creates to give you more information about successes and failures</li>
</ul>
<p>You can read more about <a href="/docs/components/ALKiln/trouble">errors and troubleshooting in other documentation</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="console">Test logs<a href="#console" class="hash-link" aria-label="Direct link to Test logs" title="Direct link to Test logs">​</a></h2>
<p><strong>This is for</strong>: all tests</p>
<p>The console (in GitHub called the job log) shows the full raw output of the logs of the processes that ran before, during, and after the tests.</p>
<p>In GitHub, you can see the test run&#x27;s console at the <a href="https://docs.github.com/en/actions/quickstart#viewing-your-workflow-results" target="_blank" rel="noopener noreferrer">workflow&#x27;s job logs</a>. You can see these messages appear as each process happens as well as after the tests finish running.</p>
<p>In <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests, you can only see the console output after tests are done. They should be at the bottom of the final page.</p>
<p>The console output should include at least one of these items, from top to bottom:</p>
<ol>
<li>Data from the start up processes, where errors can happen too.</li>
<li>A list of each Scenario (test) description next to symbols that show what happened in that test:</li>
</ol>
<ul>
<li><code>.</code> - a Step ran. Also, the test started or finished.</li>
<li><code>*</code> - the test set a page variable.</li>
<li><code>v</code> - the test pressed a continue button to set a variable.</li>
<li><code>&gt;</code> - a Story table row automatically continued.</li>
<li><code>U</code> - an &quot;undefined&quot; Step tried to run. This usually shows up when you have a <a href="/docs/components/ALKiln/trouble#step-undefined">typo in a Step you wrote</a>.</li>
<li><code>F</code> - a test failed.</li>
</ul>
<ol start="3">
<li>The <a href="#report">ALKiln report</a>.</li>
<li>Any errors from <a href="/docs/components/ALKiln/intro#dependencies">the third-party libraries ALKiln uses</a>. We are keeping the errors from the third-party libraries until we handle all cases of the errors ourselves.</li>
<li>How many tests pass or failed.</li>
<li>In GitHub, data from the take-down processes as ALKiln and GitHub clean up.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="artifacts">Test output/artifacts<a href="#artifacts" class="hash-link" aria-label="Direct link to Test output/artifacts" title="Direct link to Test output/artifacts">​</a></h2>
<p><strong>This is for</strong>: all tests</p>
<p>Once the tests are finished, ALKiln creates the test run &quot;artifacts&quot; - files and folders you can examine, like an archaeologist, to understand what happened.</p>
<p>If the test start up process failed, ALKiln will be <a href="/docs/components/ALKiln/trouble#no-artifacts">unable to create artifacts</a>.</p>
<p><img src="/img/alk_archaeology.png" class="w-75p_n1UG center_nRkL" title="When the archaeologists opened the ancient terracota vase, little did they know what primeval dark power they had unleashed - a cat."></p>
<p>- Text by <a href="https://twitter.com/Thinkwert/status/1428488345357856777" target="_blank" rel="noopener noreferrer">@Thinkwert</a><sup><a href="#user-content-fn-text" id="user-content-fnref-text" data-footnote-ref="true" aria-describedby="footnote-label">10</a></sup>
- Image by <a href="https://old.reddit.com/user/PerspectiveFriendly" target="_blank" rel="noopener noreferrer">PerspectiveFriendly</a><sup><a href="#user-content-fn-img" id="user-content-fnref-img" data-footnote-ref="true" aria-describedby="footnote-label">11</a></sup></p>
<p>In GitHub, you can <a href="https://docs.github.com/en/actions/managing-workflow-runs/downloading-workflow-artifacts" target="_blank" rel="noopener noreferrer">download a zip of these artifacts</a>.</p>
<p>For <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests, you can see and download the artifacts on the final page. The page is very plain at the moment and we hope to add more useful styles and indicators in the future. The page includes:</p>
<ul>
<li>The name of the Project you tested.</li>
<li>The version of ALKiln the tests used. This is the version that is installed on your docassemble server.</li>
<li>How long it took the tests to run.</li>
<li>A link to download the zip file with all the artifacts.</li>
<li>The <a href="#report">report file</a>.</li>
<li>The <a href="#debug-log">debug log file</a>.</li>
<li>Any <a href="#error-pics">pictures of error screens, along with that screen&#x27;s HTML file</a>.</li>
<li>A list of Scenarios with the <a href="#scenario-artifacts">contents of their Scenario folders</a>.</li>
<li>The test <a href="#console">console logs</a>. </li>
</ul>
<p>On that page, when you click on the link to a file, you will see that file in a new browser window and can download it there.</p>
<p>For all tests, the main artifact folder contains all the other artifacts. Its name includes the time the tests started in UTC format. When in GitHub, GitHub wraps the folder up in a zip file. The zip file&#x27;s name includes the UTC time that the GitHub run started.</p>
<p>The ALKiln folder contains these files and folders:</p>
<ul>
<li><a href="#report">report.txt</a></li>
<li><a href="#debug-log">debug_log.txt</a></li>
<li>Copies of all <a href="#error-pics">screenshots and HTML files</a> of pages all that caused errors</li>
<li><a href="#scenario-artifacts">Scenario folders</a> which have:</li>
</ul>
<ul><li>An individual <a href="/docs/components/ALKiln/writing#report">report.txt</a></li><li>Another copy of <a href="/docs/components/ALKiln/writing#error-pics">error screenshots and html files</a></li><li><a href="/docs/components/ALKiln/writing#pic">Pictures you took of screens along with their associated HTML files</a></li><li><a href="/docs/components/ALKiln/writing#download">Files you downloaded</a></li><li><a href="/docs/components/ALKiln/writing#compare-json">JSON variables you compared</a></li><li><a href="/docs/components/ALKiln/writing#a11y-all">Accessibility failures</a></li></ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="report">report.txt<a href="#report" class="hash-link" aria-label="Direct link to report.txt" title="Direct link to report.txt">​</a></h3>
<p>The report is the first place to look when a test fails. There are two places to find reports.</p>
<ol>
<li>Inside the main folder is the summary report containing all Scenario logs and results in one file</li>
<li>In each Scenario folder is a report that only shows the logs and results for that test</li>
</ol>
<p>The summary report is made up of multiple parts</p>
<ul>
<li>The heading that includes the date of the test run</li>
<li>The &quot;failed&quot; Scenarios section that has the logs and results for each failed Scenario</li>
<li>The &quot;passed&quot; Scenarios section that has the logs and results for each passed Scenario</li>
</ul>
<p>A report might look something like this:</p>
<div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Assembly Line Kiln Automated Testing Report - Wed, 29 Dec 2021 17:49:00 GMT</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">===============================</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">===============================</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Failed scenarios:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">---------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scenario: I dislike bears</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">---------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Trying to load the interview at &quot;https://server.org/interview?new_session=1&amp;i=docassemble.playgroundplayground25BearNecessitiesmain1707019219591%3Abears_and_you.yml&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">screen id: bear_opinion</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      | likes_bears | False |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ERROR: The question id was supposed to be &quot;all done&quot;, but it&#x27;s actually &quot;favorite_bear_types&quot;.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">**-- Scenario Failed --**</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">===============================</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">===============================</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Passed scenarios:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">---------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Scenario: I like wild bears</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">---------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Trying to load the interview at &quot;https://server.org/interview?new_session=1&amp;i=docassemble.playgroundplayground25BearNecessitiesmain1707019219591%3Abears_and_you.yml&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">screen id: bear_opinion</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Accessibility on direct-standard-fields passed!</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      | likes_bears | True |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">screen id: favorite_bear_types</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Accessibility on direct-standard-fields passed!</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      | favorite_bears | wild_bear |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Rows that got set:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    And I get to the question id &quot;screen features&quot; with this data:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      | var | value |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      | likes_bears | True |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      | favorite_bears | wild_bear |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Unused rows:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      | user_climbing_speed | very fast |</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Unused rows</div><div class="admonitionContent_BuS1"><p>Even Scenarios that <strong>pass</strong> might have a section called &quot;Unused rows&quot; at the bottom of its part of the report, as you see above. <a href="#unused_rows">A Story Table will skip rows</a> if it is unable to find any matching fields. That might mean that something actually did go wrong with the test.</p></div></div>
<p>ALKiln currently only shows logs for some Steps, including:</p>
<ul>
<li><a href="#a11y">Accessibility checks</a></li>
<li>The <a href="#story-table">Story Table</a> and <a href="#set">&quot;I set&quot;</a> Steps</li>
<li>The <a href="#get-json">&quot;get JSON&quot; Step</a></li>
</ul>
<p>When you set variables, ALKiln will try to log the question ids for each page it comes to. Under each <code>screen id</code> will be the names of the variables whose fields ALKiln set and the values ALKiln set them to.</p>
<p>We&#x27;re always trying to understand what people would find helpful in these reports. Tell us about your experiences at <a href="https://github.com/SuffolkLITLab/ALKiln/issues" target="_blank" rel="noopener noreferrer">https://github.com/SuffolkLITLab/ALKiln/issues</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="debug-log">debug_log.txt<a href="#debug-log" class="hash-link" aria-label="Direct link to debug_log.txt" title="Direct link to debug_log.txt">​</a></h3>
<p>The debug_log.txt has the same content as <a href="#report">report.txt</a>, but a bit messier. It is messy because it writes the information right away, while the tests are actually running, instead of waiting to make them pretty at the end like the report does. This is so it can store the data immediately. If something goes wrong in the middle the tests, those logs will still be there. For example, you might stop the tests early. This way you should still get some data from whatever tests did run.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scenario-artifacts">Scenario folder<a href="#scenario-artifacts" class="hash-link" aria-label="Direct link to Scenario folder" title="Direct link to Scenario folder">​</a></h3>
<p>Each Scenario (test) has its own folder. A Scenario&#x27;s folder contains its report, its errors, and the files you downloaded or created in that Scenario.</p>
<p>The folder&#x27;s name uses its Scenario description. That is one reason you should <a href="#scenario-descriptions">make each Scenario description different</a>. The folder contains:</p>
<ul><li>An individual <a href="/docs/components/ALKiln/writing#report">report.txt</a></li><li>Another copy of <a href="/docs/components/ALKiln/writing#error-pics">error screenshots and html files</a></li><li><a href="/docs/components/ALKiln/writing#pic">Pictures you took of screens along with their associated HTML files</a></li><li><a href="/docs/components/ALKiln/writing#download">Files you downloaded</a></li><li><a href="/docs/components/ALKiln/writing#compare-json">JSON variables you compared</a></li><li><a href="/docs/components/ALKiln/writing#a11y-all">Accessibility failures</a></li></ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-pics">Error pics and HTML<a href="#error-pics" class="hash-link" aria-label="Direct link to Error pics and HTML" title="Direct link to Error pics and HTML">​</a></h3>
<p>ALKiln will try to take pictures of pages that run into errors. They are like the pictures you take with the <a href="#pic">&quot;picture&quot; Step</a>. As you can read there, each time ALKiln takes a picture, it also saves the HTML of the page.</p>
<p>ALKiln avoids making these files for pages that use <a href="#env-vars">environment variables</a>, even when they error, because environment variables can contain sensitive information.</p>
<p>These error files are one of the first places to look for clues about what might have gone wrong.</p>
<p>The files appear in 2 places:</p>
<ul>
<li>Directly in the main folder. This is so you can have a quick look without digging through all the Scenario folders. Here the file names use the Scenario description and the id of the page where the error happened.</li>
<li>In the <a href="#scenario-artifacts">Scenario folder</a>. Here the file names use just the id of the page where the error happened.</li>
</ul>
<p>In those pictures you might see that a required file was missing, see why ALKiln was unable to continue to the next page, notice a missing phrase, or many other details. You can read more about <a href="/docs/components/ALKiln/trouble">errors and troubleshooting in other documentation</a>.</p>
<p>You can read more about these files in the section about the <a href="#pic">&quot;picture&quot; Step</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tips">Tips<a href="#tips" class="hash-link" aria-label="Direct link to Tips" title="Direct link to Tips">​</a></h2>
<p>Some of these are just good practices to follow when coding your interviews.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="id-tip">Question id<a href="#id-tip" class="hash-link" aria-label="Direct link to Question id" title="Direct link to Question id">​</a></h3>
<p>Add a <a href="https://docassemble.org/docs/modifiers.html#id" target="_blank" rel="noopener noreferrer">unique id</a> to each <code>question</code> block of your interview. Those help make <a href="#report">some kinds of test output</a> more clear.</p>
<p>They have other uses too. <a href="https://docassemble.org/docs/modifiers.html#id" target="_blank" rel="noopener noreferrer">Block ids are helpful for docassemble features and caching issues</a>. They can also help your team communicate with each other about your code more easily.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scenario-descriptions">Write unique Scenario descriptions<a href="#scenario-descriptions" class="hash-link" aria-label="Direct link to Write unique Scenario descriptions" title="Direct link to Write unique Scenario descriptions">​</a></h3>
<p>You write each Scenario&#x27;s description in your <a href="#test-files">test files</a>. ALKiln includes those descriptions in the names of <a href="#scenario-artifacts">test output folders</a>, <a href="#error-pics">error screenshot files</a>, and <a href="#report">report</a> headings, so try to write something different for each one - something that will help you later. It will help you identify what happened with each test.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="html-tip">Special HTML<a href="#html-tip" class="hash-link" aria-label="Direct link to Special HTML" title="Direct link to Special HTML">​</a></h3>
<p>If your package is leaving out the al_package.yml file from the Assembly Line package, make sure to add some <a href="#special-html">special ALKiln-specific HTML</a> to your interview to let ALKiln work right.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="unstable-tip">Testing unfinished code<a href="#unstable-tip" class="hash-link" aria-label="Direct link to Testing unfinished code" title="Direct link to Testing unfinished code">​</a></h3>
<p>If you are still developing your interview, you can still write a <a href="/docs/components/ALKiln/setup#first-test">simple test</a> to make sure your interview at least loads without an error. You might want to wait till your code is more stable to write more tests.</p>
<p>On the other hand, if there is a part of your interview that you think will stay pretty much the same, you can write tests that just go part-way through the interview to test just the stable part of the code. That way, you can work on adding more content and yet also be sure that the work you&#x27;ve already done stays working.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reuse-tip">Recycle, reuse<a href="#reuse-tip" class="hash-link" aria-label="Direct link to Recycle, reuse" title="Direct link to Recycle, reuse">​</a></h3>
<p>Copy old Scenarios or Story Tables to help you make new ones. You don&#x27;t have to make everything from scratch.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="choice-values-tip">Values of choices<a href="#choice-values-tip" class="hash-link" aria-label="Direct link to Values of choices" title="Direct link to Values of choices">​</a></h3>
<p>In questions with choices, use both labels and values. See <a href="https://docassemble.org/docs/fields.html#field%20with%20buttons" target="_blank" rel="noopener noreferrer">docassemble&#x27;s documentation on buttons</a> to read about those key-value pairs. The key is the label and the value is... the value ! You can use this for other fields with choices, like radio buttons.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Unhelpful</div><div class="admonitionContent_BuS1"><p>Just labels:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Favorite color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> favorite_color</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">datatype</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> radio</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">choices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> Grape</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> Lilac</span><br></span></code></pre></div></div></div></div>
<p>The test:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;favorite_color&quot; to &quot;Lilac&quot;</span><br></span></code></pre></div></div>
<p>Every time you edit those labels to improve the text for your users, you will have to update the values in your tests:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Favorite color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> favorite_color</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">datatype</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> radio</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">choices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> Grape</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> Dark lilac</span><br></span></code></pre></div></div>
<p>The edited test:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;favorite_color&quot; to &quot;Dark lilac&quot;</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Better</div><div class="admonitionContent_BuS1"><p>Better with labels and values:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Favorite color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> favorite_color</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">datatype</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> radio</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">choices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Grape</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> purple1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Lilac</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> purple2</span><br></span></code></pre></div></div></div></div>
<p>If your user chooses &quot;Lilac&quot;, docassemble will set <code>favorite_color</code> to <code>purple2</code>.</p>
<p>The test:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;favorite_color&quot; to &quot;purple2&quot;</span><br></span></code></pre></div></div>
<p>When you have both labels and values you can edit what the user sees without worrying about your tests, so the tests are easier to maintain.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Favorite color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> favorite_color</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">datatype</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> radio</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">choices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 🍇 Grape</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> purple1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> 🔮 Dark lilac</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> purple2</span><br></span></code></pre></div></div>
<p>The test stays the same:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;favorite_color&quot; to &quot;purple2&quot;</span><br></span></code></pre></div></div>
<p>The value can even be the same as the label if you want:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">fields</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Favorite color</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> favorite_color</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">datatype</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> radio</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">choices</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Grape</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Grape</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">Lilac</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Lilac</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>As a bonus, using labels and values also makes your interview easier to translate. If you use only labels, translations will break your code.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="quotes">Quotes<a href="#quotes" class="hash-link" aria-label="Direct link to Quotes" title="Direct link to Quotes">​</a></h3>
<p>Many blanks you need to fill in for Steps need to be inside <a href="https://www.compart.com/en/unicode/U+0022" target="_blank" rel="noopener noreferrer">double quotation marks</a>. You <strong>must avoid</strong> ever using double quotation marks inside those.</p>
<p>This is usually fine for test authors. Read about <a href="#special-chars">special characters</a> to learn why.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="special-chars">Special page characters<a href="#special-chars" class="hash-link" aria-label="Direct link to Special page characters" title="Direct link to Special page characters">​</a></h3>
<p>The text that docassemble shows the user - the text our tests need most often - is different than the text we write in our interview YAML file. Docassemble converts those characters to more semantically correct characters for the user. For example, in our code we write:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">subquestion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token scalar string" style="color:rgb(195, 232, 141)"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token scalar string" style="color:rgb(195, 232, 141)">  This is called &quot;relief&quot;</span><br></span></code></pre></div></div>
<p>That subquestion text uses the character <code>&quot;</code>. The official name for this character is <a href="https://www.compart.com/en/unicode/U+0022" target="_blank" rel="noopener noreferrer">&quot;Quotation mark&quot; and its unicode value is U+0022</a>.</p>
<p>When docassemble shows that page to the user, it changes the first <code>&quot;</code> to a <a href="https://www.compart.com/en/unicode/U+201C" target="_blank" rel="noopener noreferrer">&quot;left double quotation mark&quot; with a unicode value of U+201C</a>: <code>“</code>. It changes the second <code>&quot;</code> to a <a href="https://www.compart.com/en/unicode/U+201D" target="_blank" rel="noopener noreferrer">&quot;right double quotation mark&quot; with a unicode value of U+201D</a>: <code>”</code></p>
<p>The final text comes out looking more like this on the page:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">This is called “relief”</span><br></span></code></pre></div></div>
<p>They look similar to most humans, but computers think they look quite different.</p>
<p>Docassemble does this for many other characters including single quotes and ellipses. It is best to copy/paste text your tests need <strong>straight from the screen the user sees</strong>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-tags">Add a tag to each test<a href="#add-tags" class="hash-link" aria-label="Direct link to Add a tag to each test" title="Direct link to Add a tag to each test">​</a></h3>
<p>Add a <a href="#tags">tag</a> to each of your tests so later you can pick specific tests to run. That way, if just one test is failing, you can avoid having to run all the tests just to find out what is going on in that one test.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="faq">Frequently asked questions (FAQ)<a href="#faq" class="hash-link" aria-label="Direct link to Frequently asked questions (FAQ)" title="Direct link to Frequently asked questions (FAQ)">​</a></h2>
<p>Always ask more questions!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="private-repo">I have a private GitHub repository. Can I use ALKiln?<a href="#private-repo" class="hash-link" aria-label="Direct link to I have a private GitHub repository. Can I use ALKiln?" title="Direct link to I have a private GitHub repository. Can I use ALKiln?">​</a></h3>
<p>Yes, you can use ALKiln with a private repository, though you have to do a bit of extra work.</p>
<ol>
<li>Pick a GitHub account that has permission to change the private repository.</li>
<li>Make sure the account on your docassemble server that you linked to the tests is integrated with the GitHub account. See <a href="https://docassemble.org/docs/packages.html#github" target="_blank" rel="noopener noreferrer">docassemble&#x27;s documentation on integrating a GitHub account</a>.</li>
</ol>
<p>As that documentation explains, no two accounts on a docassemble server can be connected to the same GitHub account.</p>
<p>Also, there are some <a href="https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions" target="_blank" rel="noopener noreferrer">limits on the amount of time private repositories can use to run workflows</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="every-var">Do I have to fill in every field?<a href="#every-var" class="hash-link" aria-label="Direct link to Do I have to fill in every field?" title="Direct link to Do I have to fill in every field?">​</a></h3>
<p>No. If you leave a required field blank, though, the test will get stuck on that page.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="quota">Will GitHub charge me?<a href="#quota" class="hash-link" aria-label="Direct link to Will GitHub charge me?" title="Direct link to Will GitHub charge me?">​</a></h3>
<p>It is unlikely you will run enough tests for GitHub to charge you. <a href="https://docs.github.com/en/actions/learn-github-actions/usage-limits-billing-and-administration" target="_blank" rel="noopener noreferrer">GitHub&#x27;s quota limits</a> are very big, especially for public repositories.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="analytics">Will ALKiln tests affect my analytics?<a href="#analytics" class="hash-link" aria-label="Direct link to Will ALKiln tests affect my analytics?" title="Direct link to Will ALKiln tests affect my analytics?">​</a></h3>
<p>No, none of the tests types can affect your analytics. <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> and <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests both use interviews that are in the developer&#x27;s Playground, not ones that are installed on your server. <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests run on their own isolated server, not your server, so your analytics software knows nothing about them.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="no-data-collection">Does ALKiln collect my data?<a href="#no-data-collection" class="hash-link" aria-label="Direct link to Does ALKiln collect my data?" title="Direct link to Does ALKiln collect my data?">​</a></h3>
<p>No, there is no way in which ALKiln collects your data or data from your tests. There are other services out of our control that do track your use of ALKiln. For example, GitHub keeps track of what repositories use ALKiln&#x27;s code and <a href="https://www.npmjs.com/" target="_blank" rel="noopener noreferrer">npm</a> keeps track of how many (unnamed) packages download ALKiln.</p>
<p>On that note, who is still using ALKiln version 4.11.2?! Update!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="open-issues">ALKiln has a lot of open issues<a href="#open-issues" class="hash-link" aria-label="Direct link to ALKiln has a lot of open issues" title="Direct link to ALKiln has a lot of open issues">​</a></h3>
<p>That is very true.</p>
<p>Some projects use issues just for bugs. We use ours for everything - ideas for enhancements, research, internal testing, documentation, discussions, and the list goes on. We have a lot of those with more coming in all the time, and not much time to work on them, so they do build up.</p>
<p>Also bugs, of course. We take care of <a href="/docs/components/ALKiln/security#report">security bugs</a> as soon as we find them. We take care of bugs that are having a big impact on our users as quickly as we can. We take care of smaller bugs when we have time, but sometimes spend that time on improving other parts of the project instead.</p>
<p>We do wish it looked prettier, though.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="compare-docx">Can I compare docx files?<a href="#compare-docx" class="hash-link" aria-label="Direct link to Can I compare docx files?" title="Direct link to Can I compare docx files?">​</a></h3>
<p>Not yet. You can use ALKiln to <a href="#compare-files">compare PDF files</a> to make sure they have come out right, but not .docx files yet. It is on the list of features we want to build.</p>
<!-- -->
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_LWe7 sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-meh">
<p>We are still working on finding a more descriptive name. Suggestions are welcome. <a href="#user-content-fnref-meh" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-new_key">
<p>If you lose this API key you can make a new one. You can make as many as you need. <a href="#user-content-fnref-new_key" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-id">
<p>You can find the question <code>id</code> in your interview YAML in the <code>question</code> block of that page. It is a <a href="#id-tip">good idea for every <code>question</code> block in your interview to have a unique id</a>. It can be useful for other blocks too. <a href="#user-content-fnref-id" data-footnote-backref="" aria-label="Back to reference 3" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-d-time">
<p>Technically, the file will keep downloading until the test ends. <a href="#user-content-fnref-d-time" data-footnote-backref="" aria-label="Back to reference 4" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-edge_cases">
<p>Edge cases are places where you know your users go down different paths. For example, when a user&#x27;s income is below the federal poverty limit they might go down a different path and get different questions. <a href="#user-content-fnref-edge_cases" data-footnote-backref="" aria-label="Back to reference 5" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-unique_random">
<p>Random tests are only unique from each other right now. They might repeat tests that are already in your Sources folder. <a href="#user-content-fnref-unique_random" data-footnote-backref="" aria-label="Back to reference 6" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-keywords">
<p>Keywords are specific words that have a special meaning and purpose when you use them in specific places in your test code. They are similar to the words <code>else</code> and <code>not</code> in python. <a href="#user-content-fnref-keywords" data-footnote-backref="" aria-label="Back to reference 7" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-org">
<p>If your server is part of a GitHub organization, we recommend creating some of these values as <a href="#org_secrets">organization secrets</a>. That way, if you need to change the value of an input or environment variable you can do it one place. <a href="#user-content-fnref-org" data-footnote-backref="" aria-label="Back to reference 8" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-slow">
<p>This also sometimes affects tests that fail due to genuine errors. Sadly, these types of failures look the same to ALKiln as a server reloading. That means that increasing the maximum server reload time will make some kinds of tests take an extra long time to fail. <a href="#user-content-fnref-slow" data-footnote-backref="" aria-label="Back to reference 9" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-text">
<p>Name unknown [@Thinkwert]. (2021, Aug 19). <em>When the archaeologists opened the ancient vase, little did they know what primeval dark power they had unleashed.</em> [Tweet]. Twitter. <a href="https://twitter.com/Thinkwert/status/1428488345357856777" target="_blank" rel="noopener noreferrer">https://twitter.com/Thinkwert/status/1428488345357856777</a> <a href="#user-content-fnref-text" data-footnote-backref="" aria-label="Back to reference 10" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-img">
<p>PerspectiveFriendly. &quot;I&#x27;m waiting to bloom.&quot; Reddit, 08/29/2020, <a href="https://old.reddit.com/r/aww/comments/iit3ze/im_waiting_to_bloom/" target="_blank" rel="noopener noreferrer">https://old.reddit.com/r/aww/comments/iit3ze/im_waiting_to_bloom/</a>. <a href="#user-content-fnref-img" data-footnote-backref="" aria-label="Back to reference 11" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine-documentation/edit/main/docs/components/ALKiln/writing_tests.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/components/ALKiln/setup"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">WIP Setup/Installation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/components/ALKiln/trouble"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">WIP Troubleshooting &amp; errors</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#who" class="table-of-contents__link toc-highlight">Do <em>I</em> need to read this?</a></li><li><a href="#refresh" class="table-of-contents__link toc-highlight">Quick refresher</a></li><li><a href="#steps" class="table-of-contents__link toc-highlight">Writing test Steps overview</a></li><li><a href="#start" class="table-of-contents__link toc-highlight">Steps to start tests</a><ul><li><a href="#start-interview" class="table-of-contents__link toc-highlight"><code>I start the interview at &quot;&lt;file name&gt;&quot;</code></a></li><li><a href="#sign-in" class="table-of-contents__link toc-highlight"><code>I sign in with the email &quot;&lt;username env var&gt;&quot; and the password &quot;&lt;password env var&gt;&quot;</code></a></li><li><a href="#delete-interview-session" class="table-of-contents__link toc-highlight"><code>I sign in with the email &quot;&lt;username env var&gt;&quot;, the password &quot;&lt;password env var&gt;&quot;, and the API key &lt;api key env var&gt;</code></a></li><li><a href="#go-anywhere" class="table-of-contents__link toc-highlight"><code>I go to &quot;&lt;url&gt;&quot;</code></a></li></ul></li><li><a href="#test-config" class="table-of-contents__link toc-highlight">Test configuration Steps</a><ul><li><a href="#custom-timeout" class="table-of-contents__link toc-highlight"><code>the maximum seconds for each Step is &lt;number&gt;</code></a></li><li><a href="#a11y-all" class="table-of-contents__link toc-highlight"><code>I check all pages for accessibility issues</code></a></li></ul></li><li><a href="#interact" class="table-of-contents__link toc-highlight">Interactive Steps</a><ul><li><a href="#story-table" class="table-of-contents__link toc-highlight">The Story Table Step</a></li><li><a href="#set" class="table-of-contents__link toc-highlight"><code>I set the variable &quot;&lt;variable name&gt;&quot; to &quot;&lt;value to set&gt;&quot;</code></a></li><li><a href="#secret-val" class="table-of-contents__link toc-highlight"><code>I set the variable &quot;&lt;variable name&gt;&quot; to the GitHub secret &quot;&lt;environment variable name&gt;&quot;</code></a></li><li><a href="#continue" class="table-of-contents__link toc-highlight"><code>I tap to continue</code></a></li><li><a href="#name" class="table-of-contents__link toc-highlight"><code>I set the name of &quot;&lt;variable name&gt;&quot; to &quot;&lt;name&gt;&quot;</code></a></li><li><a href="#address" class="table-of-contents__link toc-highlight"><code>I set the address of &quot;&lt;variable name&gt;&quot; to &quot;&lt;US address&gt;</code></a></li><li><a href="#download" class="table-of-contents__link toc-highlight"><code>I download &quot;&lt;file name&gt;&quot;</code></a></li><li><a href="#tap-nav" class="table-of-contents__link toc-highlight"><code>I tap the &quot;&lt;selector&gt;&quot; element and go to a new page</code></a></li><li><a href="#tap-stay" class="table-of-contents__link toc-highlight"><code>I tap the &quot;&lt;selector&gt;&quot; element and stay on the same page</code></a></li><li><a href="#tap-tab" class="table-of-contents__link toc-highlight"><code>I tap the &quot;&lt;tab id&gt;&quot; tab</code></a></li><li><a href="#wait" class="table-of-contents__link toc-highlight"><code>I wait for &lt;number&gt; seconds</code></a></li></ul></li><li><a href="#values" class="table-of-contents__link toc-highlight">Setting values</a><ul><li><a href="#special-html" class="table-of-contents__link toc-highlight">Special HTML</a></li><li><a href="#text" class="table-of-contents__link toc-highlight">Text</a></li><li><a href="#dates" class="table-of-contents__link toc-highlight">Dates</a></li><li><a href="#today" class="table-of-contents__link toc-highlight">Today</a></li><li><a href="#yesno" class="table-of-contents__link toc-highlight"><code>yesno</code></a></li><li><a href="#noyes" class="table-of-contents__link toc-highlight"><code>noyes</code></a></li><li><a href="#yesnomaybe" class="table-of-contents__link toc-highlight"><code>yesnomaybe</code></a></li><li><a href="#radio" class="table-of-contents__link toc-highlight"><code>radio</code></a></li><li><a href="#checkboxes" class="table-of-contents__link toc-highlight"><code>checkboxes</code></a></li><li><a href="#upload" class="table-of-contents__link toc-highlight"><code>file</code></a></li><li><a href="#sign" class="table-of-contents__link toc-highlight"><code>signature</code></a></li><li><a href="#there-is-another" class="table-of-contents__link toc-highlight"><code>.there_is_another</code></a></li></ul></li><li><a href="#observe" class="table-of-contents__link toc-highlight">Observational Steps</a><ul><li><a href="#a11y" class="table-of-contents__link toc-highlight"><code>I check the page for accessibility issues</code></a></li><li><a href="#compare-files" class="table-of-contents__link toc-highlight"><code>I expect the baseline PDF &quot;&lt;baseline file&gt;&quot; and the new PDF &quot;&lt;new file&gt;&quot; to be the same</code></a></li><li><a href="#phrase" class="table-of-contents__link toc-highlight"><code>I SHOULD see the phrase &quot;&lt;page text&gt;&quot;</code></a></li><li><a href="#compare-json" class="table-of-contents__link toc-highlight"><code>the text in the JSON variable &quot;&lt;variable name&gt;&quot; should be</code></a></li><li><a href="#pic" class="table-of-contents__link toc-highlight"><code>I take a picture</code></a></li><li><a href="#get-json" class="table-of-contents__link toc-highlight"><code>I get the page&#39;s JSON variables and values</code></a></li><li><a href="#invalid" class="table-of-contents__link toc-highlight"><code>I will be told an answer is invalid</code></a></li><li><a href="#id" class="table-of-contents__link toc-highlight"><code>the question id should be &quot;&lt;id&gt;&quot;</code></a></li></ul></li><li><a href="#constrained_random" class="table-of-contents__link toc-highlight">Make constrained random tests</a><ul><li><a href="#num_random" class="table-of-contents__link toc-highlight"><code>ALKiln will make <code>&lt;number&gt;</code> constrained random answers tests</code></a></li><li><a href="#constraints" class="table-of-contents__link toc-highlight"><code>ALKiln will reach &quot;<code>&lt;question id 1&gt;</code>&quot; or &quot;<code>&lt;question id n&gt;</code>&quot; with:</code></a></li><li><a href="#template_warnings" class="table-of-contents__link toc-highlight">Warnings for templates</a></li></ul></li><li><a href="#alkiln_story" class="table-of-contents__link toc-highlight">Convert an interview into a Story Table</a></li><li><a href="#test-files" class="table-of-contents__link toc-highlight">The anatomy of a test file</a><ul><li><a href="#new-file" class="table-of-contents__link toc-highlight">Add a new test file</a></li><li><a href="#file-rules" class="table-of-contents__link toc-highlight">Some rules</a></li><li><a href="#gherkin-keywords" class="table-of-contents__link toc-highlight">Gherkin keywords</a></li><li><a href="#gherkin-sampler" class="table-of-contents__link toc-highlight">Sample test file</a></li><li><a href="#tags" class="table-of-contents__link toc-highlight">Tags</a></li></ul></li><li><a href="#workflows" class="table-of-contents__link toc-highlight">GitHub workflow files</a><ul><li><a href="#workflows-where" class="table-of-contents__link toc-highlight">Where in GitHub is the file?</a></li><li><a href="#workflows-examples" class="table-of-contents__link toc-highlight">Example files</a></li></ul></li><li><a href="#workflow-inputs" class="table-of-contents__link toc-highlight">GitHub workflow inputs</a><ul><li><a href="#githubNyou-inputs" class="table-of-contents__link toc-highlight">Required inputs for  <gtoys></gtoys> tests</a></li><li><a href="#sandbox-inputs" class="table-of-contents__link toc-highlight">Required inputs for  <kittylitter></kittylitter> tests</a></li><li><a href="#optional-inputs" class="table-of-contents__link toc-highlight">Optional inputs for any kind of test</a></li><li><a href="#github-optional-inputs" class="table-of-contents__link toc-highlight">Optional inputs for all GitHub tests</a></li><li><a href="#githubNyou-optional-inputs" class="table-of-contents__link toc-highlight">Optional inputs just for  <gtoys></gtoys> tests</a></li><li><a href="#sandbox-optional-inputs" class="table-of-contents__link toc-highlight">Optional inputs just for  <kittylitter></kittylitter> tests</a></li></ul></li><li><a href="#workflow-extras" class="table-of-contents__link toc-highlight">GitHub workflow extra features</a><ul><li><a href="#schedule-trigger" class="table-of-contents__link toc-highlight">Schedule tests</a></li><li><a href="#pr-trigger" class="table-of-contents__link toc-highlight">Pull request tests</a></li><li><a href="#issue" class="table-of-contents__link toc-highlight">Make a GitHub issue when tests fail</a></li></ul></li><li><a href="#env-vars" class="table-of-contents__link toc-highlight">Environment variables</a><ul><li><a href="#config-vars" class="table-of-contents__link toc-highlight">Docassemble config file env vars</a></li></ul></li><li><a href="#secrets" class="table-of-contents__link toc-highlight">GitHub secrets</a></li><li><a href="#run" class="table-of-contents__link toc-highlight">Running tests</a><ul><li><a href="#trigger-tests" class="table-of-contents__link toc-highlight">Triggering tests</a></li><li><a href="#gNy-stages" class="table-of-contents__link toc-highlight"><gtoys></gtoys> test stages</a></li><li><a href="#diy-stages" class="table-of-contents__link toc-highlight"><autodiy></autodiy> test stages</a></li><li><a href="#sandbox-stages" class="table-of-contents__link toc-highlight"><kittylitter></kittylitter> test stages</a></li><li><a href="#running-data" class="table-of-contents__link toc-highlight">What can I see while tests are running?</a></li><li><a href="#end-status" class="table-of-contents__link toc-highlight">What can I see when the tests end?</a></li><li><a href="#rerun" class="table-of-contents__link toc-highlight">Failures get re-run once</a></li></ul></li><li><a href="#results" class="table-of-contents__link toc-highlight">Test results overview</a></li><li><a href="#console" class="table-of-contents__link toc-highlight">Test logs</a></li><li><a href="#artifacts" class="table-of-contents__link toc-highlight">Test output/artifacts</a><ul><li><a href="#report" class="table-of-contents__link toc-highlight">report.txt</a></li><li><a href="#debug-log" class="table-of-contents__link toc-highlight">debug_log.txt</a></li><li><a href="#scenario-artifacts" class="table-of-contents__link toc-highlight">Scenario folder</a></li><li><a href="#error-pics" class="table-of-contents__link toc-highlight">Error pics and HTML</a></li></ul></li><li><a href="#tips" class="table-of-contents__link toc-highlight">Tips</a><ul><li><a href="#id-tip" class="table-of-contents__link toc-highlight">Question id</a></li><li><a href="#scenario-descriptions" class="table-of-contents__link toc-highlight">Write unique Scenario descriptions</a></li><li><a href="#html-tip" class="table-of-contents__link toc-highlight">Special HTML</a></li><li><a href="#unstable-tip" class="table-of-contents__link toc-highlight">Testing unfinished code</a></li><li><a href="#reuse-tip" class="table-of-contents__link toc-highlight">Recycle, reuse</a></li><li><a href="#choice-values-tip" class="table-of-contents__link toc-highlight">Values of choices</a></li><li><a href="#quotes" class="table-of-contents__link toc-highlight">Quotes</a></li><li><a href="#special-chars" class="table-of-contents__link toc-highlight">Special page characters</a></li><li><a href="#add-tags" class="table-of-contents__link toc-highlight">Add a tag to each test</a></li></ul></li><li><a href="#faq" class="table-of-contents__link toc-highlight">Frequently asked questions (FAQ)</a><ul><li><a href="#private-repo" class="table-of-contents__link toc-highlight">I have a private GitHub repository. Can I use ALKiln?</a></li><li><a href="#every-var" class="table-of-contents__link toc-highlight">Do I have to fill in every field?</a></li><li><a href="#quota" class="table-of-contents__link toc-highlight">Will GitHub charge me?</a></li><li><a href="#analytics" class="table-of-contents__link toc-highlight">Will ALKiln tests affect my analytics?</a></li><li><a href="#no-data-collection" class="table-of-contents__link toc-highlight">Does ALKiln collect my data?</a></li><li><a href="#open-issues" class="table-of-contents__link toc-highlight">ALKiln has a lot of open issues</a></li><li><a href="#compare-docx" class="table-of-contents__link toc-highlight">Can I compare docx files?</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://suffolklitlab.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Suffolk LIT Lab<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> | This documentation website is built with <a href="https://docusaurus.io/" target="_blank">Docusaurus</a>.</div></div></div></footer></div>
</body>
</html>