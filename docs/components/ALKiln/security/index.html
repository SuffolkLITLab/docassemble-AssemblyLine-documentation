<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-components/ALKiln/alkiln_security" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Security | Document Assembly Line</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://assemblyline.suffolklitlab.org/docs/components/ALKiln/security"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Security | Document Assembly Line"><meta data-rh="true" name="description" content="WIP (Work in progress)"><meta data-rh="true" property="og:description" content="WIP (Work in progress)"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://assemblyline.suffolklitlab.org/docs/components/ALKiln/security"><link data-rh="true" rel="alternate" href="https://assemblyline.suffolklitlab.org/docs/components/ALKiln/security" hreflang="en"><link data-rh="true" rel="alternate" href="https://assemblyline.suffolklitlab.org/docs/components/ALKiln/security" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"WIP Security","item":"https://assemblyline.suffolklitlab.org/docs/components/ALKiln/security"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-622Z2D6Q3Q"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-622Z2D6Q3Q",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.d69c202a.css">
<script src="/assets/js/runtime~main.e03b3357.js" defer="defer"></script>
<script src="/assets/js/main.e5d4338a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/lit-lab-logo-small-inverted.svg" alt="The Suffolk LIT Lab Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/lit-lab-logo-small-inverted.svg" alt="The Suffolk LIT Lab Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Document Assembly Line</b></a><a class="navbar__item navbar__link" href="/docs/get_started">Get started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/overview">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://suffolklitlab.org/legal-tech-class/docs/introduction-to-docassemble" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Legal tech class<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://docassemble.org/docs.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Docassemble docs<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/authoring/pdfs">Authoring interviews</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/style_guide/question_overview">Writing good questions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/coding_style/overview">Coding style guide</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item sidebar-heading">Assembly Line components</li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/components/AssemblyLine/ALGeneral/overview">AssemblyLine</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/components/ALRecipes/overview">ALRecipes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/components/ALToolbox/overview">ALToolbox</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/components/ALThemeTemplate/overview">ALThemeTemplate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/components/RateMyPDF/overview">RateMyPDF</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/components/GithubFeedbackForm/overview">GithubFeedbackForm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/components/InterviewStats/overview">InterviewStats</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/components/FormFyxer/lit_explorer">FormFyxer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/components/EFSPIntegration/overview">E-filing integration (EFSP)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/components/ALKiln/intro">Automated testing (ALKiln)</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/intro">WIP Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/alkiln">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/advanced">Advanced</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/setup">WIP Setup/Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/writing">WIP Writing tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/trouble">WIP Troubleshooting &amp; errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/components/ALKiln/security">WIP Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/components/ALKiln/old">WIP Older versions</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Automated testing (ALKiln)</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">WIP Security</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Security</h1></header><div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>WIP (Work in progress)</p></div></div>
<p>This page will help you learn some steps you can take to protect yourself and your users as you develop your code with ALKiln tests. It will also talk about the <a href="#alkilns-precautions">security practices ALKiln itself uses</a>.</p>
<p>In software development, security can be an intimidating topic. By design, ALKiln tests are unable to do very much, but all software comes with risks. We can mitigate those risks with robust security measures. Over time, we can all build up our security tool chests to:</p>
<ul>
<li>Protect our users&#x27; information</li>
<li>Protect our security-critical information</li>
<li>Protect our servers</li>
</ul>
<p>We want to protect against anything that might expose or modify any important or sensitive data.</p>
<p>One of our strongest tools to increase security is the <a href="#privilege">principle of least privilege</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="privilege">Principle of least privilege<a href="#privilege" class="hash-link" aria-label="Direct link to Principle of least privilege" title="Direct link to Principle of least privilege"> ​</a></h2>
<p>Follow the <a href="https://www.cyberark.com/what-is/least-privilege/" target="_blank" rel="noopener noreferrer">principle of least privilege</a>. That means we should give software (or people) the least access possible to your server and data while still letting them do what they need to do. For example, if someone just needs to fill out an interview, give them the <a href="https://docassemble.org/docs/users.html" target="_blank" rel="noopener noreferrer">role</a> of &quot;user&quot;, not &quot;developer&quot;. If someone needs to develop interviews, give them the role of &quot;developer&quot;, not &quot;admin&quot;.</p>
<p>It is one of the most effective ways to protect yourself and your users. Only give ALKiln the access it needs and no more.</p>
<p>Personal data is information about real people, whether that is <a href="#mock-data">old information or new information</a>. Security-critical data includes passwords, usernames, <a href="https://docassemble.org/docs/api.html#manage_api" target="_blank" rel="noopener noreferrer">API keys</a>, and other credentials.</p>
<p>If you are worried you have already shown sensitive information in your GitHub tests, you can delete your <a href="#github-output">logs and artifacts</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="testing-server">Separate production and testing<a href="#testing-server" class="hash-link" aria-label="Direct link to Separate production and testing" title="Direct link to Separate production and testing">​</a></h3>
<p><strong>This is for:</strong> server admins</p>
<p>Using a separate testing server and separate testing data are some of the most effective ways to limit ALKiln&#x27;s access to personal and security-critical data.</p>
<p>There are some kinds of tests that packages run on their production server, but ALKiln is in a different category of tests. Limiting ALKiln&#x27;s access means that it:</p>
<ul>
<li>Never has access to actual user information</li>
<li>Never has access to your production server&#x27;s security-critical data like configuration tokens</li>
<li>Never has access to your current or old production databases</li>
<li>Can never affect the files on your production server</li>
</ul>
<p>First and foremost, avoid installing or running <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> and <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests on your production server<sup><a href="#user-content-fn-bonus" id="user-content-fnref-bonus" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup>. Have a separate server for those testing methods. <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests already make their own server and can be the most secure if you <a href="#sandbox">use them properly</a>. Use those if you are <a href="/docs/components/ALKiln/setup#sandbox-cons">able to use them</a>.</p>
<p>A separate server is only one part of separating production and testing sever access, though. You also need to:</p>
<ul>
<li>Keep the production server&#x27;s urls out of ALKiln test files, <a href="/docs/components/ALKiln/writing#workflows">workflow files</a>, and <a href="/docs/components/ALKiln/writing#env-vars">workflow environment variables</a>.</li>
<li>Never share API keys or passwords between servers.</li>
<li>Never share real data or databases between servers, whether the data is current or <a href="https://www.wired.com/2015/11/samy-kamkar-10-dollar-tool-can-guess-and-steal-your-next-credit-card-number/" target="_blank" rel="noopener noreferrer">old</a>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mock-data">Use fake data in tests<a href="#mock-data" class="hash-link" aria-label="Direct link to Use fake data in tests" title="Direct link to Use fake data in tests">​</a></h3>
<p><strong>This is for</strong>: Everyone</p>
<p>Determined people can do a lot with very little data. For example, they can <a href="https://www.wired.com/2007/12/why-anonymous-data-sometimes-isnt" target="_blank" rel="noopener noreferrer">even use anonymized data</a> to identify your users. Avoid giving your ALKiln tests access to real data, even if it is <a href="https://www.wired.com/2015/11/samy-kamkar-10-dollar-tool-can-guess-and-steal-your-next-credit-card-number/" target="_blank" rel="noopener noreferrer">old data</a>. If you need help creating fake data, sites or tools like <a href="https://cobbl.io/" target="_blank" rel="noopener noreferrer">https://cobbl.io/</a> might be useful.</p>
<p>If your test needs a logged-in user, avoid using a real person&#x27;s account. Instead, use <a href="#test-accounts">ALKiln&#x27;s account</a> or a completely separate fake account.</p>
<p>Never use a database with real information with your tests, even old information. For example:</p>
<ul>
<li>Never share data between your production server and your testing server. For example, if your production server uses a Google spreadsheet to store some user or server data, create a separate Google spreadsheet with fake data for your testing server.</li>
<li>Never use old databases. Some projects realize that they should avoid using their current user database for testing. Instead, they decide to use an old database. Avoid that as well. Even if the data seems so old that it is useless, it can still <a href="https://www.wired.com/2015/11/samy-kamkar-10-dollar-tool-can-guess-and-steal-your-next-credit-card-number/" target="_blank" rel="noopener noreferrer">expose you and your users</a>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="test-accounts">Make accounts just for tests<a href="#test-accounts" class="hash-link" aria-label="Direct link to Make accounts just for tests" title="Direct link to Make accounts just for tests">​</a></h3>
<p><strong>This is for:</strong> Everyone</p>
<p>Even though you are using a <a href="#testing-server">testing server</a>, avoid giving ALKiln access to an actual developer&#x27;s name, username, password, API keys, and other sensitive information by giving ALKiln its own accounts. This also lets you see its activity in the logs more clearly and lets you delete the account easily if you need to. There are non-security related reasons to make a separate account too<sup><a href="#user-content-fn-perks" id="user-content-fnref-perks" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup>.</p>
<p>Only give ALKiln an account if necessary. Make sure no one else uses the account. Give that account <a href="#alkiln_role">a role with only the privileges it needs</a> and no more. Also, avoid giving it other real data or access. For example, avoid giving it any real person&#x27;s name and avoid giving it GitHub integration.</p>
<p>We usually call the ALKiln user &quot;automated_tests&quot; and give it the email &quot;<a href="mailto:automated_tests@example.com" target="_blank" rel="noopener noreferrer">automated_tests@example.com</a>&quot; with a secure password.</p>
<p>The <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests need to be connected to a docassemble account with the <a href="#alkiln_role">right role</a> (permissions) to work properly. That is the &quot;developer&quot; role. Even if you are using another type of test, though, your tests may need an account. For example, you may want a test to sign in to an account before going to an interview.</p>
<p>If you do need an account to sign in before a test, think of that account as a separate account because you might be able to give that account even less access. If the sign-in account can just be a user, make a new account just for signing in that just has a &quot;user&quot; role.</p>
<p>If you stop needing an account, delete it.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alkiln_role">ALKiln account role<a href="#alkiln_role" class="hash-link" aria-label="Direct link to ALKiln account role" title="Direct link to ALKiln account role">​</a></h3>
<p><strong>This is for:</strong> Everyone</p>
<p>ALKiln strongly limits what tests can do. Even so, you should limit ALKiln too by giving it the fewest permissions possible.</p>
<p>For <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests, give the ALKiln docassemble account the &quot;developer&quot; <a href="https://docassemble.org/docs/users.html" target="_blank" rel="noopener noreferrer">role</a>. &quot;Developer&quot; is the most limited role ALKiln can use with <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests to do what it needs to do. When you make an API key for the account, ignore the <a href="https://docassemble.org/docs/config.html#permissions" target="_blank" rel="noopener noreferrer">extra permissions</a> options.</p>
<p>If your <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests need an account on your server, give them the least privileges possible. In those cases, most authors only need to give ALKiln the &quot;user&quot; role.</p>
<p>The <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests run on their own server, create their own account, and manage their own permissions.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sensitive-data">Still protect sensitive data<a href="#sensitive-data" class="hash-link" aria-label="Direct link to Still protect sensitive data" title="Direct link to Still protect sensitive data">​</a></h2>
<p><strong>This is for:</strong> Everyone</p>
<p>Even after keeping personal and security-critical data away from <a href="#test-accounts">the account that runs ALKiln tests</a>, use <a href="#mock-data">mock data</a>, and so on, there are still ways you can expose your test server&#x27;s sensitive data in tests. Even if you are using a testing server, that server still has credentials, like API keys and passwords, and you should avoid exposing those to the ALKiln tests.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sensitive-info-files">Avoid sensitive data in package files<a href="#sensitive-info-files" class="hash-link" aria-label="Direct link to Avoid sensitive data in package files" title="Direct link to Avoid sensitive data in package files">​</a></h3>
<p><strong>This is for:</strong> Everyone</p>
<p>Avoid putting personal or security-critical information in your package&#x27;s files. It is possible that someone will see those files. For example, if you have a public repository on GitHub, anyone can see your package&#x27;s files.</p>
<p>If you need to use sensitive information in your tests:</p>
<ul>
<li>For tests running in GitHub, <a href="#sensitive-info-github">add a GitHub secret</a></li>
<li>For <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests, <a href="#sensitive-info-diy">add a variable in your docassemble configuration file</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="no-show">Avoid showing sensitive data on screen<a href="#no-show" class="hash-link" aria-label="Direct link to Avoid showing sensitive data on screen" title="Direct link to Avoid showing sensitive data on screen">​</a></h3>
<p><strong>This is for:</strong> Everyone</p>
<p>Since <a href="/docs/components/ALKiln/writing#env-vars">workflow environment variables</a> might hold sensitive information, ALKiln avoids taking pictures or downloading the HTML of pages that use environment variables. It even <a href="/docs/components/ALKiln/writing#error-pics">avoids taking pictures when the test has an error on that page</a> and during <a href="/docs/components/ALKiln/writing#sign-in">the sign-in Step</a>. ALKiln avoids printing the value of an environment variable anywhere in the <a href="/docs/components/ALKiln/writing#report">report</a> or in the <a href="/docs/components/ALKiln/writing#console">console log</a>.</p>
<p>It is possible, though, for your interview to visually show personal or security-critical data on an interview page to the user. For example, you can show a server config value on an interview page in the text of a <code>subquestion</code>. There is no way ALKiln can know about that and might take a picture. For example, if there is an error on that page, ALKiln will take a picture. You can try to avoid <a href="/docs/components/ALKiln/writing#pic">taking pictures</a> of those pages yourself, but that may not be enough. Since there is no way that ALKiln can know what text you are choosing to show to the user, you should avoid putting sensitive information visually on the screen or you should avoid testing pages or interviews that show sensitive information.</p>
<p>Using ALKiln to fill in sensitive answers with environment variables in the interview is different. You can safely use sensitive information to fill in fields by using the <a href="/docs/components/ALKiln/writing#secret-val">&quot;secret value&quot; Step</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="json-vars">Avoid JSON Steps with sensitive data<a href="#json-vars" class="hash-link" aria-label="Direct link to Avoid JSON Steps with sensitive data" title="Direct link to Avoid JSON Steps with sensitive data">​</a></h3>
<p><strong>This is for:</strong> Everyone</p>
<p>The <a href="/docs/components/ALKiln/writing#get-json">&quot;get JSON&quot;</a> and <a href="/docs/components/ALKiln/writing#compare-json">&quot;compare JSON&quot;</a> Steps show a page&#x27;s JSON variables by logging them, saving them in a file, or both. ALKiln is currently unable to filter out sensitive values - personal or security-critical data - in that JSON. Only use those Steps when you are sure the JSON will be safe to show.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sensitive-info-github">How to use sensitive data in GitHub tests<a href="#sensitive-info-github" class="hash-link" aria-label="Direct link to How to use sensitive data in GitHub tests" title="Direct link to How to use sensitive data in GitHub tests">​</a></h3>
<p><strong>This is for any packages that:</strong> run tests in GitHub</p>
<p><strong>To do this you MUST be:</strong></p>
<ul>
<li>Either the GitHub repository admin or</li>
<li>The GitHub organization admin</li>
</ul>
<p>These are the only people that can create <a href="/docs/components/ALKiln/writing#secrets">GitHub secrets</a></p>
<p><strong>It can help to know about:</strong></p>
<ul>
<li><a href="/docs/components/ALKiln/writing#secrets">GitHub secrets</a></li>
<li><a href="/docs/components/ALKiln/writing#env-vars">Workflow environment variables</a></li>
<li><a href="https://docs.github.com/en/repositories/working-with-files/managing-files/editing-files" target="_blank" rel="noopener noreferrer">Editing GitHub files</a></li>
</ul>
<p>Sometimes authors do need to pass personal or security-critical information to their tests. For example, some tests require the &quot;user&quot; to <a href="/docs/components/ALKiln/writing#sign-in">sign in</a>, so the tests need to know the email and password for that user. In GitHub, you can do this securely by using <a href="/docs/components/ALKiln/writing#secrets">GitHub secrets</a> and adding environment variables to your repository&#x27;s GitHub workflow file. You can also read about <a href="#sensitive-info-diy">how to use sensitive information with <span>ALKilnInThePlayground™</span> tests</a>.</p>
<ol>
<li>Follow the <a href="https://docs.github.com/en/actions/security-guides/encrypted-secrets" target="_blank" rel="noopener noreferrer">GitHub instructions</a> to set up one or more GitHub secrets. You can add these secrets to one secrets or you can add these to your organization<sup><a href="#user-content-fn-org_secrets" id="user-content-fnref-org_secrets" data-footnote-ref="true" aria-describedby="footnote-label">3</a></sup>, whichever is right for you.</li>
<li><a href="/docs/components/ALKiln/writing#workflows-where">Find your workflow file</a>.</li>
<li>It should include a line that looks similar to this:</li>
</ol>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">jobs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">alkiln-tests</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">runs-on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Run ALKiln tests</span><br></span></code></pre></div></div>
<p>If this is the first environment variable you&#x27;re adding, right below that last line add a new line like this:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><br></span></code></pre></div></div>
<ol start="4">
<li>Whenever you want to add a secret, add a new line under <code>env:</code> indented from <code>env:</code>:</li>
</ol>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">ALKILN_USER_PASSWORD</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${{ secrets.ALKILN_USER_PASSWORD }}&quot;</span><br></span></code></pre></div></div>
<p><code>ALKILN_USER_PASSWORD</code> is just a placeholder in our example. You can name your secrets whatever you want to. Make sure the name here matches your GitHub secret name.</p>
<ol start="5">
<li>Write your Step and use the names of these secrets as the values. For example:</li>
</ol>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;very_secure_password&quot; to &quot;ALKILN_USER_PASSWORD&quot;</span><br></span></code></pre></div></div>
<p>Your workflow file code will end up including something like the below:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Other workflow code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">jobs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">alkiln-tests</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">runs-on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Run ALKiln tests</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">ALKILN_USER_PASSWORD</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${{ secrets.ALKILN_USER_PASSWORD }}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Other workflow code</span><br></span></code></pre></div></div>
<p>We recommend that you start your environment variable names with &quot;ALKILN_&quot;. That will help avoid conflicting with the environment variables of your operating system.</p>
<p>Since <a href="/docs/components/ALKiln/writing#env-vars">workflow environment variables</a> might hold sensitive information, ALKiln avoids taking pictures or downloading the HTML of pages that use environment variables. It even <a href="/docs/components/ALKiln/writing#error-pics">avoids taking pictures when the test has an error on that page</a> and during <a href="/docs/components/ALKiln/writing#sign-in">the sign-in Step</a>. ALKiln avoids printing the value of an environment variable anywhere in the <a href="/docs/components/ALKiln/writing#report">report</a> or in the <a href="/docs/components/ALKiln/writing#console">console log</a>.</p>
<p>Right now, Story Tables are unable to use <a href="/docs/components/ALKiln/writing#env-vars">workflow environment variables</a> to fill in fields.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sensitive-info-diy">How to use sensitive data in  <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests<a href="#sensitive-info-diy" class="hash-link" aria-label="Direct link to sensitive-info-diy" title="Direct link to sensitive-info-diy">​</a></h3>
<p><strong>This is for:</strong> <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests</p>
<p><strong>To do this you MUST be able to:</strong></p>
<ul>
<li>Edit your docassemble server&#x27;s config file</li>
</ul>
<p>Sometimes authors do need to pass personal or security-critical information to their tests. For example, some tests require the &quot;user&quot; to log in, so the tests need to know the email and password for that user. You can do this securely in your <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests by adding this information to your docassemble server configuration file. ALKiln will use these as <a href="/docs/components/ALKiln/writing#env-vars">environment variables</a> for your tests.</p>
<p>You can also read about <a href="#sensitive-info-github">how to use sensitive information in GitHub tests</a>.</p>
<p>To do this, <a href="https://docassemble.org/docs/config.html#edit" target="_blank" rel="noopener noreferrer">edit your docassemble server&#x27;s configuration file</a> to add your <a href="/docs/components/ALKiln/writing#env-vars">environment variables</a> under the <code>alkiln</code> key. For example:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Other config values</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">alkiln</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ALKILN_USER_PASSWORD</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 123password</span><br></span></code></pre></div></div>
<p>Then use that environment variable name in your test. For example:</p>
<div class="language-gherkin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gherkin codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  And I set the variable &quot;very_secure_password&quot; to &quot;ALKILN_USER_PASSWORD&quot;</span><br></span></code></pre></div></div>
<p>We recommend that you start your environment variable names with &quot;ALKILN_&quot;. That will help avoid conflicting with the environment variables of your operating system.</p>
<p>Since <a href="/docs/components/ALKiln/writing#env-vars">workflow environment variables</a> might hold sensitive information, ALKiln avoids taking pictures or downloading the HTML of pages that use environment variables. It even <a href="/docs/components/ALKiln/writing#error-pics">avoids taking pictures when the test has an error on that page</a> and during <a href="/docs/components/ALKiln/writing#sign-in">the sign-in Step</a>. ALKiln avoids printing the value of an environment variable anywhere in the <a href="/docs/components/ALKiln/writing#report">report</a> or in the <a href="/docs/components/ALKiln/writing#console">console log</a>.</p>
<p>Right now, Story Tables are unable to use <a href="/docs/components/ALKiln/writing#env-vars">workflow environment variables</a> to fill in fields.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sandbox"> <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests<a href="#sandbox" class="hash-link" aria-label="Direct link to sandbox" title="Direct link to sandbox">​</a></h3>
<p><strong>This is for any packages that:</strong> have <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests</p>
<p>The <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> are very secure if you use them correctly. You still have to take some care.</p>
<p>In your tests, avoid using urls that lead to your server. That is, avoid using <code>https://my-server.com</code> or <code>https://testing.my-server.com</code> and interviews there or other pages there. That kind of url will send the tests to your server, which escapes the sandbox that makes the <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> method so useful. Using urls like that makes the tests less secure again.</p>
<p>You also still have to avoid saving personal or security-critical information in public files and follow other security precautions, like the ones described in this documentation.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="freeze">Freeze your ALKiln version (advanced)<a href="#freeze" class="hash-link" aria-label="Direct link to Freeze your ALKiln version (advanced)" title="Direct link to Freeze your ALKiln version (advanced)">​</a></h2>
<p><strong>This is for any packages that:</strong> run tests in GitHub</p>
<p><strong>It can help to know about:</strong></p>
<ul>
<li><a href="https://docs.github.com/en/repositories/working-with-files/managing-files/editing-files" target="_blank" rel="noopener noreferrer">Editing GitHub files</a></li>
<li><a href="/docs/components/ALKiln/writing#workflow-inputs">GitHub workflow job inputs</a></li>
<li><a href="https://semver.org/spec/v2.0.0.html" target="_blank" rel="noopener noreferrer">Semantic versioning</a></li>
<li><a href="https://docs.github.com/en/pull-requests/committing-changes-to-your-project/creating-and-editing-commits/about-commits#about-commits" target="_blank" rel="noopener noreferrer">Git commit ids</a> (usually called the commit SHA<sup><a href="#user-content-fn-sha" id="user-content-fnref-sha" data-footnote-ref="true" aria-describedby="footnote-label">4</a></sup> or hash)</li>
</ul>
<p>To control which version of ALKiln is running your tests on GitHub, you can manually set the exact version you want. That is called &quot;freezing&quot; the version. Then, when you are ready, you can look at what has changed and decide which version you want to update to.</p>
<p>By default, ALKiln runs your tests with its latest version. This means you have all the latest bug fixes and new features. Some organizations choose to use a version that has code and behavior that is familiar and comfortable for them.</p>
<p>ALKiln is actually made of 2 parts. One part is the ALKiln framework, which lets you control the robot that goes to your interview and fills in answers. Another part of ALKiln is its GitHub actions, which manage setting up, starting, and cleaning up the tests.</p>
<p>Because of factors out of our control, each of these parts has a different way to set the version. To freeze the framework, you need to use the semantic version number. For example, &quot;5.8.0&quot;. To freeze the actions, you need to use the 40-character git commit id. Both of those need to point to the same<sup><a href="#user-content-fn-ish" id="user-content-fnref-ish" data-footnote-ref="true" aria-describedby="footnote-label">5</a></sup> code. For example, the <a href="https://www.npmjs.com/package/@suffolklitlab/alkiln/v/5.8.0" target="_blank" rel="noopener noreferrer">semantic version &quot;5.8.0&quot;</a> of the ALKiln framework should be paired with the <a href="https://github.com/SuffolkLITLab/ALKiln/commit/e79eb61cb97603d41375134d505e4fe60de7780d" target="_blank" rel="noopener noreferrer">git commit with the id e79eb61cb97603d41375134d505e4fe60de7780d</a> that controls the actions. To freeze your version:</p>
<ol>
<li>Find the semantic version that you want.<!-- -->
<ol>
<li>Look at the <a href="https://github.com/SuffolkLITLab/ALKiln/blame/-/package.json" target="_blank" rel="noopener noreferrer">&quot;git blame&quot; for our package.json</a>.</li>
<li>Find the 3rd line. It should be the line that shows ALKiln&#x27;s version.</li>
<li>To <a href="https://docs.github.com/en/repositories/working-with-files/using-files/viewing-a-file#viewing-the-line-by-line-revision-history-for-a-file" target="_blank" rel="noopener noreferrer">see the previous version</a>, you can tap on this symbol: <svg ariaHidden="true" focusable="false" role="img" class="octicon octicon-versions" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;overflow:visible"><path d="M7.75 14A1.75 1.75 0 0 1 6 12.25v-8.5C6 2.784 6.784 2 7.75 2h6.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14Zm-.25-1.75c0 .138.112.25.25.25h6.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25h-6.5a.25.25 0 0 0-.25.25ZM4.9 3.508a.75.75 0 0 1-.274 1.025.249.249 0 0 0-.126.217v6.5c0 .09.048.173.126.217a.75.75 0 0 1-.752 1.298A1.75 1.75 0 0 1 3 11.25v-6.5c0-.649.353-1.214.874-1.516a.75.75 0 0 1 1.025.274ZM1.625 5.533h.001a.249.249 0 0 0-.126.217v4.5c0 .09.048.173.126.217a.75.75 0 0 1-.752 1.298A1.748 1.748 0 0 1 0 10.25v-4.5a1.748 1.748 0 0 1 .873-1.516.75.75 0 1 1 .752 1.299Z"></path></svg></li>
<li>Go back in history by tapping on that symbol until you find the version you are looking for. For example, <code>5.8.0</code>.</li>
</ol>
</li>
<li>Find the matching commit id.<!-- -->
<ol>
<li>Tap on the commit message for that line.</li>
<li>In the <a href="https://en.wikipedia.org/wiki/Address_bar" target="_blank" rel="noopener noreferrer">address bar</a> of your web browser, look for a 40-character long set of random letters and numbers. The whole address might look something like this: <a href="https://github.com/SuffolkLITLab/ALKiln/commit/e79eb61cb97603d41375134d505e4fe60de7780d" target="_blank" rel="noopener noreferrer">https://github.com/SuffolkLITLab/ALKiln/commit/e79eb61cb97603d41375134d505e4fe60de7780d</a>. In that example url, the commit id (or SHA<sup><a href="#user-content-fn-sha" id="user-content-fnref-sha-2" data-footnote-ref="true" aria-describedby="footnote-label">4</a></sup>) is <code>e79eb61cb97603d41375134d505e4fe60de7780d</code>.</li>
</ol>
</li>
<li>Set both versions.<!-- -->
<ol>
<li><a href="/docs/components/ALKiln/writing#workflows-where">Find your workflow file</a>.</li>
<li>Tap to <a href="https://docs.github.com/en/repositories/working-with-files/managing-files/editing-files" target="_blank" rel="noopener noreferrer">edit the file</a>.</li>
<li>Go to the lines that look similar to the ones below.</li>
</ol>
</li>
</ol>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">uses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> SuffolkLITLab/ALKiln@v5</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">with</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">SERVER_URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${{ secrets.SERVER_URL }}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">DOCASSEMBLE_DEVELOPER_API_KEY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${{ secrets.DOCASSEMBLE_DEVELOPER_API_KEY }}&quot;</span><br></span></code></pre></div></div>
<ol start="4">
<li>Replace <code>v5</code> with the commit id you found. For example, <code>a29519914ffc235802be9b9b143d78ffc3a06028</code>.</li>
<li>Add a line below <code>DOCASSEMBLE_DEVELOPER_API_KEY</code>. The indentation level should be the same as <code> DOCASSEMBLE_DEVELOPER_API_KEY</code>.</li>
<li>Add the text <code>ALKILN_VERSION: &quot;&quot;</code></li>
<li>Between the quotes, put the semantic version that matches the commit id. For example, <code>5.8.0</code>.</li>
<li>Save the file.</li>
</ol>
<p>Using the example above, the final code should look something like this:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">uses</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> SuffolkLITLab/ALKiln@a29519914ffc235802be9b9b143d78ffc3a06028</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">with</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">SERVER_URL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${{ secrets.SERVER_URL }}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">DOCASSEMBLE_DEVELOPER_API_KEY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;${{ secrets.DOCASSEMBLE_DEVELOPER_API_KEY }}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">ALKILN_VERSION</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;5.8.0&quot;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade">Update your tools<a href="#upgrade" class="hash-link" aria-label="Direct link to Update your tools" title="Direct link to Update your tools">​</a></h2>
<p><strong>This is for:</strong> Everyone</p>
<p>Update your tools, especially when that update includes a security fix. Security updates are meant to protect you from newly discovered risks.</p>
<p>Choosing when to update to the latest version of software can be tricky. New features and bug fixes can interfere with your working system. That said, when there is a security update you should seriously think about upgrading quickly.</p>
<p>Your tools should keep a record of their changes, often called a &quot;changelog&quot;. This is <a href="https://github.com/SuffolkLITLab/ALKiln/blob/-/CHANGELOG.md" target="_blank" rel="noopener noreferrer">ALKiln&#x27;s changelog</a>. This is <a href="https://docassemble.org/docs/changelog.html" target="_blank" rel="noopener noreferrer">docassemble&#x27;s changelog</a>. However, your software tracks changes, those records should clearly label security updates. Keep an eye out for those updates.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade-ALKiln">Update ALKiln when needed<a href="#upgrade-ALKiln" class="hash-link" aria-label="Direct link to Update ALKiln when needed" title="Direct link to Update ALKiln when needed">​</a></h3>
<p><strong>This is for:</strong> Everyone</p>
<p>Check <a href="https://github.com/SuffolkLITLab/ALKiln/blob/-/CHANGELOG.md" target="_blank" rel="noopener noreferrer">ALKiln&#x27;s changelog</a> for updates and update regularly, especially when there is a security update.</p>
<p>Security updates will have the heading &quot;Security&quot;. For example, <a href="https://github.com/SuffolkLITLab/ALKiln/blob/-/CHANGELOG.md#security-1" target="_blank" rel="noopener noreferrer">this is one of ALKiln&#x27;s security updates</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade-da">Update docassemble<a href="#upgrade-da" class="hash-link" aria-label="Direct link to Update docassemble" title="Direct link to Update docassemble">​</a></h3>
<p><strong>This is for:</strong> server admins</p>
<p><a href="https://docassemble.org/docs/admin.html#upgrade" target="_blank" rel="noopener noreferrer">Upgrade your testing server&#x27;s docassemble version</a> quickly when there is a security update. Then run all your tests before upgrading your production server too.</p>
<p>With most updates, you can usually wait a little while to see if there are any bugs that come up and get fixed. You should deal with a security fix more quickly. If possible, you then want to update your production server too, to make sure your testing server and your production server are using the same version. That helps make your tests more accurate.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade-docker">Start a new Docker container regularly<a href="#upgrade-docker" class="hash-link" aria-label="Direct link to Start a new Docker container regularly" title="Direct link to Start a new Docker container regularly">​</a></h3>
<p><strong>This is for:</strong> server admins</p>
<p><a href="https://docassemble.org/docs/docker.html#upgrading" target="_blank" rel="noopener noreferrer">Clear out the testing server and start a new docker container from scratch</a> when there are security upgrades. Then run all your tests before upgrading your production server too.</p>
<p>Docassemble&#x27;s Docker image gets updated occasionally. You can wait a little while to see if there are any bugs that come up, but generally keep up to date with those as much as you can, especially when there are security fixes.</p>
<p>Even if there is not a security-related update, it is good to stress test your server setup. Since you might have to suddenly start a new Docker container at unexpected times because of system failures, it is a good idea to do this every now and then anyway to make sure your system can handle recovering from that kind of event and see if complications come up.</p>
<p>If possible, you then want to update your production server too, to make sure your testing server and your production server are using the same version. That helps make your tests more accurate.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="github">General GitHub practices<a href="#github" class="hash-link" aria-label="Direct link to General GitHub practices" title="Direct link to General GitHub practices">​</a></h2>
<p><strong>This is for any packages that:</strong> run tests in GitHub</p>
<p>There are some ways to make your GitHub repository itself more secure that have nothing to do with ALKiln.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prs">Protect pull requests<a href="#prs" class="hash-link" aria-label="Direct link to Protect pull requests" title="Direct link to Protect pull requests">​</a></h3>
<p><strong>This is for any packages that:</strong> run tests in GitHub</p>
<p>It is possible for you to add code to your <a href="/docs/components/ALKiln/writing#workflows">workflow file</a> to <a href="/docs/components/ALKiln/writing#pr-trigger">trigger tests when someone makes a pull request</a> on GitHub. If you decide to do that, take extra steps to make sure malicious coders are unable to trigger your workflows.</p>
<p>If you configure your workflows to be triggered by a pull request, someone can change the code of the tests, workflows, or other package code to do something malicious, then trigger that code by just making a pull request.</p>
<p>By default, GitHub <a href="https://docs.github.com/en/actions/managing-workflow-runs/approving-workflow-runs-from-public-forks" target="_blank" rel="noopener noreferrer">prevents first-time contributors from triggering pull request workflows without your permission</a>. Unfortunately, some people make first-time contributions that are very reasonable, like fixing typos. Once you accept that contribution, they are then able to trigger workflows with their pull requests. Before making that pull request, they can edit the code of the tests, the workflow, or the rest of the interview to contain malicious code.</p>
<p>You can make those settings more strict <a href="https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/enabling-features-for-your-repository/managing-github-actions-settings-for-a-repository#controlling-changes-from-forks-to-workflows-in-public-repositories" target="_blank" rel="noopener noreferrer">for public repositories</a> and <a href="https://docs.github.com/en/organizations/managing-organization-settings/disabling-or-limiting-github-actions-for-your-organization#configuring-required-approval-for-workflows-from-public-forks" target="_blank" rel="noopener noreferrer">for organizations</a>. One setting makes sure no outside collaborator can trigger workflows with a pull request without your approval.</p>
<p>Private repositories can ignore this since they would first have to share their repository with an outside collaborator, presumably someone they trust. If they do want to collaborate with unfamiliar people, private repositories can also <a href="https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/enabling-features-for-your-repository/managing-github-actions-settings-for-a-repository#enabling-workflows-for-forks-of-private-repositories" target="_blank" rel="noopener noreferrer">require approval from forks</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="github-output">GitHub logs and artifacts are public<a href="#github-output" class="hash-link" aria-label="Direct link to GitHub logs and artifacts are public" title="Direct link to GitHub logs and artifacts are public">​</a></h3>
<p><strong>This is for any packages that:</strong> run tests in GitHub</p>
<p>On GitHub, workflow job logs and artifacts of public repositories are visible to the public, just like the code. Also, any logged-in user can download those workflow artifacts.</p>
<p>That might be fine. Part of being transparent is letting the public understand how your packages are working. Also, there are <a href="/docs/components/ALKiln/writing#secret-val">some ways</a> ALKiln lets you set variables that you want to keep secret. That said, if you are concerned about your logs and artifacts, there are some things you can do to make these less available:</p>
<ul>
<li>Make your repository private</li>
<li><a href="https://docs.github.com/en/actions/monitoring-and-troubleshooting-workflows/using-workflow-run-logs#deleting-logs" target="_blank" rel="noopener noreferrer">Delete the logs</a> and <a href="https://docs.github.com/en/actions/managing-workflow-runs/removing-workflow-artifacts" target="_blank" rel="noopener noreferrer">delete the artifacts</a>.</li>
<li><a href="https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/enabling-features-for-your-repository/managing-github-actions-settings-for-a-repository#setting-the-retention-period-for-a-repository" target="_blank" rel="noopener noreferrer">Automatically delete the workflow data sooner</a>. By default, GitHub keeps them for <a href="https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/enabling-features-for-your-repository/managing-github-actions-settings-for-a-repository#configuring-the-retention-period-for-github-actions-artifacts-and-logs-in-your-repository" target="_blank" rel="noopener noreferrer">90 days</a>.</li>
</ul>
<p>Since <a href="/docs/components/ALKiln/writing#env-vars">workflow environment variables</a> might hold sensitive information, ALKiln avoids taking pictures or downloading the HTML of pages that use environment variables. It even <a href="/docs/components/ALKiln/writing#error-pics">avoids taking pictures when the test has an error on that page</a> and during <a href="/docs/components/ALKiln/writing#sign-in">the sign-in Step</a>. ALKiln avoids printing the value of an environment variable anywhere in the <a href="/docs/components/ALKiln/writing#report">report</a> or in the <a href="/docs/components/ALKiln/writing#console">console log</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="default-branch">Protect your default branch<a href="#default-branch" class="hash-link" aria-label="Direct link to Protect your default branch" title="Direct link to Protect your default branch">​</a></h3>
<p><strong>This is for any packages that:</strong> have a repository in GitHub</p>
<p><strong>To do this you MUST be:</strong></p>
<ul>
<li>Either the GitHub repository admin or</li>
<li>The GitHub organization admin</li>
</ul>
<p>You can protect your packages from unintended changes or changes by new collaborators by protecting your default branch.</p>
<p>Your default branch is usually called &quot;main&quot;. That branch usually has the code that you run on your server and that other packages use. For that reason, many packages <a href="https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/managing-protected-branches/about-protected-branches" target="_blank" rel="noopener noreferrer">protect their default branch from unexpected changes</a>.</p>
<p>For example, you can require that:</p>
<ul>
<li>Contributors make new branches when they edit code</li>
<li>Contributors make a pull request before new code can be added to the main branch</li>
<li>Administrators have to approve the pull request before that code can be merged</li>
</ul>
<p>You can allow administrators to skip these restrictions if you want.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="github-workflow">Use GitHub&#x27;s recommended workflow practices<a href="#github-workflow" class="hash-link" aria-label="Direct link to Use GitHub&#x27;s recommended workflow practices" title="Direct link to Use GitHub&#x27;s recommended workflow practices">​</a></h3>
<p><strong>This is for any packages that:</strong> have a repository in GitHub</p>
<p>GitHub has documentation about <a href="https://docs.github.com/en/actions/security-guides/security-hardening-for-github-actions" target="_blank" rel="noopener noreferrer">keeping your GitHub workflows secure</a>. We cover some of that content in here, but you can read that documentation for more.</p>
<p>You can specifically look at <a href="https://docs.github.com/en/actions/security-guides/security-hardening-for-github-actions#using-third-party-actions" target="_blank" rel="noopener noreferrer">GitHub&#x27;s recommendations for using third-party actions</a>, like the ALKiln actions.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="things-to-worry-about-less">Things to worry about less<a href="#things-to-worry-about-less" class="hash-link" aria-label="Direct link to Things to worry about less" title="Direct link to Things to worry about less">​</a></h2>
<p>There are some security protections that you have by default.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="production">Worry less: Your production server<a href="#production" class="hash-link" aria-label="Direct link to Worry less: Your production server" title="Direct link to Worry less: Your production server">​</a></h3>
<p><strong>This is for:</strong> Everyone</p>
<p>As long as you ensure you <a href="#testing-server">only test on your testing server</a>, ALKiln cannot affect your production server. You will have new files in your package, but they are unable to do anything by themselves.</p>
<ul>
<li>The <code>.feature</code> files that you have in your &quot;Sources&quot; folder do nothing by themselves. They are as safe as text files.</li>
<li>The GitHub workflow files can only run on GitHub.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="github-redacts-secrets">Worry less: GitHub redacts secrets<a href="#github-redacts-secrets" class="hash-link" aria-label="Direct link to Worry less: GitHub redacts secrets" title="Direct link to Worry less: GitHub redacts secrets">​</a></h3>
<p><strong>This is for any packages that:</strong> run tests in GitHub</p>
<p>In your GitHub <a href="https://docs.github.com/en/actions/quickstart#viewing-your-workflow-results" target="_blank" rel="noopener noreferrer">workflow run console</a>, GitHub redacts any text that matches the values of your <a href="/docs/components/ALKiln/writing#secrets">GitHub secrets</a>. It replaces that text with &quot;***&quot;. Note that the text must be an exact match. GitHub is unable to recognize partial matches.</p>
<p>If you are worried about logs or artifacts that already exist, you can <a href="#github-output">delete those</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="playground-version">Worry less:  <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests already freeze your ALKiln version<a href="#playground-version" class="hash-link" aria-label="Direct link to playground-version" title="Direct link to playground-version">​</a></h3>
<p><strong>This is for any packages that:</strong> use <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests</p>
<p>The ALKiln framework lets you control the robot that goes through your interview answering questions. This documentation has already discussed how <a href="#freeze">you can freeze your ALKiln versions on GitHub</a>.</p>
<p><a href="#alkilns-precautions">ALKiln itself already uses practices that protect you from malicious actors</a>. If you want to take extra precautions, though, freezing the version you are using with <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> tests does give you more control over what code you are installing on your server and using to run your tests.</p>
<p>The first page of the <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> interview lets you choose  the exact version of ALKiln that runs your tests. You can upgrade or downgrade at any time.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="disable">Worry less: You can disable tests<a href="#disable" class="hash-link" aria-label="Direct link to Worry less: You can disable tests" title="Direct link to Worry less: You can disable tests">​</a></h2>
<p><strong>This is for any packages that:</strong> run tests in GitHub</p>
<p>If you ever become uncomfortable or concerned about your ALKiln tests, there are <a href="/docs/components/ALKiln/setup#disable">multiple ways you can disable them</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="alkilns-precautions">ALKiln protects you too<a href="#alkilns-precautions" class="hash-link" aria-label="Direct link to ALKiln protects you too" title="Direct link to ALKiln protects you too">​</a></h2>
<p>Our team takes special precautions with ALKiln&#x27;s code to ensure you are as safe as we can make you. We are always looking for more ways to improve our security practices.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="limited">ALKlin is limited<a href="#limited" class="hash-link" aria-label="Direct link to ALKlin is limited" title="Direct link to ALKlin is limited">​</a></h3>
<p><strong>This is for:</strong> Everyone</p>
<p>By design, the ALKiln framework is very limited in what it lets a test do. A test can:</p>
<ul>
<li><a href="/docs/components/ALKiln/writing#interact">Interact with interviews</a></li>
<li><a href="/docs/components/ALKiln/writing#sign-in">Sign in</a> to an account if you give it the email and password</li>
<li><a href="/docs/components/ALKiln/writing#go-anywhere">Go to whatever site you give it</a>, though it is unable to do much on non-docassemble-interview sites</li>
<li><a href="/docs/components/ALKiln/writing#observe">Observe things about interview pages</a></li>
</ul>
<p>With <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests, ALKiln must have <a href="#alkiln_role">developer privileges</a> to set up the tests, but the tests themselves are just like an unregistered person online. For other types of test methods - <a href="/docs/components/ALKiln/setup#diy-details">ALKilnInThePlayground™</a> and <a href="/docs/components/ALKiln/setup#sandbox-details">GitHub Sandbox™</a> tests - ALKiln doesn&#x27;t even need a an account on your docassemble server.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alkiln-env-vars">ALKiln hides environment variables<a href="#alkiln-env-vars" class="hash-link" aria-label="Direct link to ALKiln hides environment variables" title="Direct link to ALKiln hides environment variables">​</a></h3>
<p><strong>This is for:</strong> Everyone</p>
<p><a href="/docs/components/ALKiln/writing#env-vars">Workflow environment variables</a> might contain sensitive information. Because of this, ALKiln takes extra care with them.</p>
<p>Since <a href="/docs/components/ALKiln/writing#env-vars">workflow environment variables</a> might hold sensitive information, ALKiln avoids taking pictures or downloading the HTML of pages that use environment variables. It even <a href="/docs/components/ALKiln/writing#error-pics">avoids taking pictures when the test has an error on that page</a> and during <a href="/docs/components/ALKiln/writing#sign-in">the sign-in Step</a>. ALKiln avoids printing the value of an environment variable anywhere in the <a href="/docs/components/ALKiln/writing#report">report</a> or in the <a href="/docs/components/ALKiln/writing#console">console log</a>.</p>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>JSON variables</div><div class="admonitionContent_BuS1"><p>You do need to <a href="#json-vars">take care when you use JSON Steps</a>.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alkiln-logs">ALKiln reports its security updates<a href="#alkiln-logs" class="hash-link" aria-label="Direct link to ALKiln reports its security updates" title="Direct link to ALKiln reports its security updates">​</a></h3>
<p>When ALKiln has a security update, we announce it on <a href="https://docassemble.org/docs/support.html#slack" target="_blank" rel="noopener noreferrer">docassemble&#x27;s Slack channel</a> and post it in <a href="https://github.com/SuffolkLITLab/ALKiln/blob/-/CHANGELOG.md" target="_blank" rel="noopener noreferrer">ALKiln&#x27;s changelog</a>. The Slack channel is called &quot;#alkiln-automated-testing&quot;.</p>
<p>Security updates have the heading &quot;Security&quot;. For example, <a href="https://github.com/SuffolkLITLab/ALKiln/blob/-/CHANGELOG.md#security-1" target="_blank" rel="noopener noreferrer">this is one of ALKiln&#x27;s security updates</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alkiln-freezes-dependencies">ALKiln freezes the versions of its dependencies<a href="#alkiln-freezes-dependencies" class="hash-link" aria-label="Direct link to ALKiln freezes the versions of its dependencies" title="Direct link to ALKiln freezes the versions of its dependencies">​</a></h3>
<p><strong>This is for:</strong> Everyone</p>
<p>Just like you can freeze the versions of the <a href="#freeze">ALKiln framework</a>, ALKiln freezes the versions of its own dependencies - the libraries it uses. When we update our dependencies to their latest versions, we check the updates and do our best to make sure that we are comfortable with the changes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alkiln-deps">ALKiln updates its dependencies<a href="#alkiln-deps" class="hash-link" aria-label="Direct link to ALKiln updates its dependencies" title="Direct link to ALKiln updates its dependencies">​</a></h3>
<p><strong>This is for:</strong> Everyone</p>
<p>The ALKiln team checks on the security of ALKiln&#x27;s dependencies. When a dependency reports a new security improvement, we update ALKiln to use that new improvement. Not all dependency fixes are relevant to ALKiln, but it is still good to keep up to date.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alkiln-branches">ALKiln protects its major branches<a href="#alkiln-branches" class="hash-link" aria-label="Direct link to ALKiln protects its major branches" title="Direct link to ALKiln protects its major branches">​</a></h3>
<p><strong>This is for:</strong> Everyone</p>
<p>ALKiln protects itself from unintended changes or changes by new collaborators. ALKiln has gotten many volunteer contributions over time, and we want to make sure we check that code carefully before we release it to you.</p>
<p>As our documentation described, <a href="#default-branch">you can protect your default branch from changes</a>. ALKiln has multiple branches that users depend on - one branch for every major version. For example, v3, v4, and v5. It protects all those branches in various ways. For example, we:</p>
<ul>
<li>Require contributors to make new branches when they edit code</li>
<li>Require contributors to make a pull request before new code can be added to the main branch</li>
<li>Require administrators to approve a pull request before that code can be merged so that we have a chance to review it</li>
</ul>
<p>Our administrators can get past these restrictions. We keep tight control of who our administrators are.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alkiln-action-files">ALKiln uses good action file practices<a href="#alkiln-action-files" class="hash-link" aria-label="Direct link to ALKiln uses good action file practices" title="Direct link to ALKiln uses good action file practices">​</a></h3>
<p><strong>This is for any packages that:</strong> run tests in GitHub</p>
<p>ALKiln&#x27;s action files are very similar to workflow files, like yours. As such, they use the same <a href="https://docs.github.com/en/actions/security-guides/security-hardening-for-github-actions" target="_blank" rel="noopener noreferrer">GitHub-recommended practices</a> that your workflows can use.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="report">You can report an ALKiln security vulnerability<a href="#report" class="hash-link" aria-label="Direct link to You can report an ALKiln security vulnerability" title="Direct link to You can report an ALKiln security vulnerability">​</a></h3>
<p><strong>This is for:</strong> Everyone</p>
<p>If you find an ALKiln security vulnerability, you can <a href="https://docs.github.com/en/code-security/security-advisories/guidance-on-reporting-and-writing-information-about-vulnerabilities/privately-reporting-a-security-vulnerability#privately-reporting-a-security-vulnerability" target="_blank" rel="noopener noreferrer">report it to us privately</a>.</p>
<!-- -->
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_LWe7 sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-bonus">
<p>Using a different server for testing is better in other ways, too. When developers pull packages that have python files onto your docassemble server, it reloads for a while. This can cause your clients&#x27; interviews to time out. <a href="/docs/components/ALKiln/setup#githubNyou-details">GitHub+You™</a> tests do the same and can make for a slower user experience if they are used on a production server. <a href="#user-content-fnref-bonus" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-perks">
<p>There are other good reasons to avoid using an existing developer&#x27;s account that are not related to security. For one thing, the tests create Projects and run interviews. It may be confusing for an existing developer to find those in their account. For another thing, if you do use a real developer&#x27;s account and that developer leaves your organization, tests will start failing. It may take you a while to track down the problem and fix it. <a href="#user-content-fnref-perks" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-org_secrets">
<p><a href="https://docs.github.com/en/actions/security-guides/using-secrets-in-github-actions#creating-secrets-for-an-organization" target="_blank" rel="noopener noreferrer">GitHub organization secrets</a> can be useful if an organization wants to create a variable that all of its repositories will be able to use and avoid creating that secret in every individual repository. <a href="#user-content-fnref-org_secrets" data-footnote-backref="" aria-label="Back to reference 3" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-sha">
<p>SHA stands for &quot;secure hash algorithm&quot;. Git has a secure hash algorithm of its own to make an &quot;id&quot; for each commit that is 40 characters long. Very broadly, for each commit a repository makes, git uses math to reliably turn the whole history of the package and all its versions, including the newest commit, into 40 letters and numbers. Unlike a branch name, no one can edit a commit SHA because it would break the math. A developer can only delete the commit. Because of this, you can pretty much rely on a commit SHA to always go to either the same code or no code at all. That is, no one can hide sneaky new code there. <a href="#user-content-fnref-sha" data-footnote-backref="" aria-label="Back to reference 4" class="data-footnote-backref">↩</a> <a href="#user-content-fnref-sha-2" data-footnote-backref="" aria-label="Back to reference 4-2" class="data-footnote-backref">↩<sup>2</sup></a></p>
</li>
<li id="user-content-fn-ish">
<p>Technically, the same exact version is usually overkill. As long as the action code and the framework code are aligned, they can point to different versions. This simplification is a lot easier to explain, though. <a href="#user-content-fnref-ish" data-footnote-backref="" aria-label="Back to reference 5" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine-documentation/edit/main/docs/components/ALKiln/security.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/components/ALKiln/trouble"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">WIP Troubleshooting &amp; errors</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/components/ALKiln/old"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">WIP Older versions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#privilege" class="table-of-contents__link toc-highlight">Principle of least privilege</a><ul><li><a href="#testing-server" class="table-of-contents__link toc-highlight">Separate production and testing</a></li><li><a href="#mock-data" class="table-of-contents__link toc-highlight">Use fake data in tests</a></li><li><a href="#test-accounts" class="table-of-contents__link toc-highlight">Make accounts just for tests</a></li><li><a href="#alkiln_role" class="table-of-contents__link toc-highlight">ALKiln account role</a></li></ul></li><li><a href="#sensitive-data" class="table-of-contents__link toc-highlight">Still protect sensitive data</a><ul><li><a href="#sensitive-info-files" class="table-of-contents__link toc-highlight">Avoid sensitive data in package files</a></li><li><a href="#no-show" class="table-of-contents__link toc-highlight">Avoid showing sensitive data on screen</a></li><li><a href="#json-vars" class="table-of-contents__link toc-highlight">Avoid JSON Steps with sensitive data</a></li><li><a href="#sensitive-info-github" class="table-of-contents__link toc-highlight">How to use sensitive data in GitHub tests</a></li><li><a href="#sensitive-info-diy" class="table-of-contents__link toc-highlight">How to use sensitive data in  <autodiy></autodiy> tests</a></li><li><a href="#sandbox" class="table-of-contents__link toc-highlight"><kittylitter></kittylitter> tests</a></li></ul></li><li><a href="#freeze" class="table-of-contents__link toc-highlight">Freeze your ALKiln version (advanced)</a></li><li><a href="#upgrade" class="table-of-contents__link toc-highlight">Update your tools</a><ul><li><a href="#upgrade-ALKiln" class="table-of-contents__link toc-highlight">Update ALKiln when needed</a></li><li><a href="#upgrade-da" class="table-of-contents__link toc-highlight">Update docassemble</a></li><li><a href="#upgrade-docker" class="table-of-contents__link toc-highlight">Start a new Docker container regularly</a></li></ul></li><li><a href="#github" class="table-of-contents__link toc-highlight">General GitHub practices</a><ul><li><a href="#prs" class="table-of-contents__link toc-highlight">Protect pull requests</a></li><li><a href="#github-output" class="table-of-contents__link toc-highlight">GitHub logs and artifacts are public</a></li><li><a href="#default-branch" class="table-of-contents__link toc-highlight">Protect your default branch</a></li><li><a href="#github-workflow" class="table-of-contents__link toc-highlight">Use GitHub&#39;s recommended workflow practices</a></li></ul></li><li><a href="#things-to-worry-about-less" class="table-of-contents__link toc-highlight">Things to worry about less</a><ul><li><a href="#production" class="table-of-contents__link toc-highlight">Worry less: Your production server</a></li><li><a href="#github-redacts-secrets" class="table-of-contents__link toc-highlight">Worry less: GitHub redacts secrets</a></li><li><a href="#playground-version" class="table-of-contents__link toc-highlight">Worry less:  <autodiy></autodiy> tests already freeze your ALKiln version</a></li></ul></li><li><a href="#disable" class="table-of-contents__link toc-highlight">Worry less: You can disable tests</a></li><li><a href="#alkilns-precautions" class="table-of-contents__link toc-highlight">ALKiln protects you too</a><ul><li><a href="#limited" class="table-of-contents__link toc-highlight">ALKlin is limited</a></li><li><a href="#alkiln-env-vars" class="table-of-contents__link toc-highlight">ALKiln hides environment variables</a></li><li><a href="#alkiln-logs" class="table-of-contents__link toc-highlight">ALKiln reports its security updates</a></li><li><a href="#alkiln-freezes-dependencies" class="table-of-contents__link toc-highlight">ALKiln freezes the versions of its dependencies</a></li><li><a href="#alkiln-deps" class="table-of-contents__link toc-highlight">ALKiln updates its dependencies</a></li><li><a href="#alkiln-branches" class="table-of-contents__link toc-highlight">ALKiln protects its major branches</a></li><li><a href="#alkiln-action-files" class="table-of-contents__link toc-highlight">ALKiln uses good action file practices</a></li><li><a href="#report" class="table-of-contents__link toc-highlight">You can report an ALKiln security vulnerability</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://suffolklitlab.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Suffolk LIT Lab<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> | This documentation website is built with <a href="https://docusaurus.io/" target="_blank">Docusaurus</a>.</div></div></div></footer></div>
</body>
</html>